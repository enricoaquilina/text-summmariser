@&#MAIN-TITLE@&#
A novel driver for active matrix electrowetting displays

@&#HIGHLIGHTS@&#
A driver is designed for video playing in active matrix electrowetting displays.The hardware system is designed based on commercial driver integrated chips.A timing controller is designed in a FPGA according to the system characteristics.We design new driving waveforms for playing videos in electrowetting displays.The driving system could work very well for playing 4 gray scale video.

@&#KEYPHRASES@&#
Electrowetting display,Active matrix,FPGA,Driving waveform,Gray scale,

@&#ABSTRACT@&#
Electrowetting display (EWD) is a reflective display technology in which fluidic pixels can response and switch quickly by electronic control, showing the capability for video-speed reflective display applications. In this paper, a new driver system is proposed and realized for video playing function of active matrix electrowetting display (AM-EWD). The hardware system is designed based on Field-Programmable-Gate-Array (FPGA) and the existing electrophoretic display (EPD) driving integrated chips (IC). A driving logic circuit and FPGA software is introduced for providing the EWD system with driving and timing control. And a set of specific driving waveforms, which is loaded to a lookup table of the FPGA in advance, is designed to display grayscale on EWDs. 4-level gray scale videos have been successfully performed by applying the driving waveforms. To our knowledge, such work has not been reported before.

@&#INTRODUCTION@&#
Paper-like displays have become one of the important information visualization tools as represented by various EPD based e-readers from Amazon and Sony companies [1]. Currently, the response speed of EPD is still too slow to play video smoothly [2]. However, the reflective paper-like display still provides certain competitive advantages which liquid crystal displays (LCD) cannot do. The EWD based on electrowetting driven dual-liquid system was published by Hays in 2003 [3]. It displays information via reflective mode with quick response in <10ms which is suitable for playing videos. In addition, EWD has the advantages of easy manufacture [4], high transmittance, bright color [5] and low-power consumption. These properties make EWD devices well-suited to portable devices, which are often used outdoors for showing video content. Near and mid-term product opportunities are logically expected in the areas of wearable multi-media, (smart) phone, portable gaming, pads and laptops.Similar to the LCD technology, the EWD device requires active matrix backplanes for high resolution video playing [6], and the specific driving ICs are also necessary for EWD product applications. In order to show the gray scales, a timing controller (TCON) is needed to control the work time of gate and source ICs for writing a gray value to one pixel. Pulse width modulation (PWM), which is usually called driving waveform, can be implemented with fast scanning the thin-film transistor (TFT) array and provide different voltage states to a pixel electrode in different scanning frames with the help of TCON. However, a complete AM-EWD driving system has not been reported yet. Moreover, there is still no specific TCON for EWDs in the market up to now. Another important issue is that the driving voltage of EWDs is much higher than LCDs [7], therefore the driver IC of LCDs cannot be directly applied on the EWD devices.In order to develop a complete EWD device, a specific driving system is essential. Firstly, a FPGA was used to realize the function of a TCON in the driving system and a set of driving waveforms was designed on the basis of display material properties to meet the display requirement of gray scales. Secondly, the driving voltage difference of the EPD source IC can reach 30V [8], which is enough for the driving voltage requirement of EWDs device. Therefore, a new driver system, based on FPGA and EPD driving ICs, was proposed to provide hardware platform for video frame image display on EWDs. Hereby, the cost of the driving system can be reduced greatly without redesigning specific driving ICs. And then a FPGA which can form a custom IC was used as a TCON for coordinating driver ICs’ action. Meanwhile, a series of driving waveforms were designed according to the pixel display performance for gray scale transformation and were downloaded into a configurable lookup table of the FPGA. Experimental results show that the driving system could play multi-gray video very well on EWDs.Information displays are typically made of tiny ‘pixels’ beyond the limit of visual resolution. These pixels are either emissive (e.g. cathode ray tube, plasma, organic light-emitting diode), transmissive (e.g. liquid crystal display, where the switch modulates light coming from the backlight), or reflective (E-ink and others, where the switch modulates ambient light). By modulating the emission or absorption characteristics of the optical switch, a display image with gray scales can be obtained. We have demonstrated that the electrowetting phenomenon can be used to make an efficient display pixel [3]. The principle of electrowetting displays is summarized in Fig. 1.The optical ‘stack’ consists of solid components – reflective substrate, a transparent electrode, a thin layer of fluoropolymer insulator, the pixel walls and the liquids: dyed oil and conductive aqueous solution. The oil forms a thin film in the pixels confined by ‘pixel walls’. In the absence of a voltage, the oil forms a thin film (typically microns thick as determined by the pixel wall height) that covers the entire pixel surface. Because the hydrophobic surface (i.e. the amorphous fluoropolymer) has a strong preference not to be in contact with water. When a voltage is applied between the water and the electrode, the surface of fluoropolymer becomes polarized or charged, which modified the hydrophobic layer to become water wettable (hydrophilic). Due to the low energy favorable status, the water layer will try to access the surface. The oil layer was then pushed aside during the accessing process. Typically, the smaller area occupied by the oil residue corresponds to higher applied voltage. During the on-state, the fluidic motion results from the balance between electrical and interface stress. For the off-state the restoring interface forces prevail. This curtain-like control of the oil, which contains optically absorbing dye, is the basis of a simple but highly efficient optical shutter.One of the key properties of electrowetting fluidic elements is their switching speed. The switching speed of EWDs depends on the size of a pixel, the thickness of the oil, and other geometric parameters [9]. Compared to other chemical and physical phenomena e.g. EPD, electrowetting fluidic motion is very fast (cm/s) and essentially constant. As the fluid element becomes smaller the switching time therefore decreases correspondingly. For elements with a dimension of around a few 100μm, such as display pixels, the switching time is therefore in a few milliseconds (ms). The typical switching data in 315μm×150μm pixels is shown in Fig. 2. In this case, either the on-switch or the off-switch occurs in 7–8ms. Switching speed at this range is more than sufficient to show video content on information displays. As smaller pixel size would be used (higher resolution) the switching time could be further reduced.For a high resolution video display application, active matrix backplane is a required component in EWD system. Then, gate and source ICs are used to drive the active matrix backplane according to the driving waveform. In this system, a FPGA is used as a main controller to load the driving waveform for video processing, and control the timing of the system. The details of the driving system are shown in the next sections.A complete EWD driving system should include a high-performance hardware system to support the software system application. The hardware system can be realized by using a FPGA which is a semi custom circuit in the field of special integrated circuits as a main controller. It fills in the gap of custom circuit and overcomes the number fault of original programmable gate circuit. In addition, a series of peripheral circuits are designed to support the operation of the main IC. In the EWD, a source and a gate IC is bonded on the display screen for providing driving voltage in the format of active matrix driving [10].In the hardware system, a cyclone four generation FPGA is used as the main controller. It is low power consumption and rich in logic unit, and can support Nios2 embedded processor. The basic principles of the design is as follows: the video data is stored in the flash IC, SDRAM is responsible for running the Nios2 of the FPGA and caches the image data of the video, serial port can be used to renew the video data, Epcs is a memory for storing the FPGA program and Nios2 program, a wire is used to provide the common electrode with +15V. The system structure diagram is shown in Fig. 3.It is recommended that an efficient display driving system should be able to effectively address each pixel in the EWD. The active matrix TFT is therefore essential for the driving system. In order to drive TFT backplane, a gate IC and a source IC is introduced. The driving process is similar to LCDs: the gate IC can open each line of TFTs and the source IC can apply voltages to drive pixels according to the driving waveform when the gate of TFT is opened. To open a EWD pixel completely, the driving voltage is typically more than 20V; however, the existed LCD driver ICs cannot provide such high voltage [11]. In order to solve this problem, the driving IC of electrophoretic display was chosen and used as driver ICs for EWDs in this paper. The source driver IC of electrophoretic displays can provide three types of voltage values: 0V, +15V and −15V. In the hardware system, 30V voltage difference between two electrodes can be obtained by setting the common electrode to +15V and the pixel electrode to −15V, and this value is enough for driving EWDs. In this mode, +15V needs to be applied to the pixel electrode if a pixel needs to be closed due to 0V difference between the pixel electrode and the common electrode which is also set to +15V. The pixel electrode can choose between+15V and −15V according to the driving waveforms.A software system, which is based on hardware description language, is then designed according to the hardware interface. In this section, software modules are described separately for showing the system clearly.System frequency is related to the performance of all systems. A high-speed data transmission process is required from EWDs due to its short response time. In order to improve the system frequency, the function module of a phase locked loop, which is fixed in the FPGA, is used for improving the external oscillator frequency from 50MHz to 100MHz. In the proposed system, a function module, which is called “altpll0”, uses the phase locked loop to output two clocks with the same frequency but different phases. In Fig. 4, “c1” is lagged “c0” clock −75° to realize the connection between Nios II and SDRAM, “c1” clock signal is supplied to SDRAM, and “c0” is used as the input signal of the Nios2 module.Timing controller (TCON) is a key component for driving traditional flat plane displays. It can supply the gate and source ICs with driving data, and provide various driving timing for the driving system. In the software system, a customer IP core in FPGA, which is also named TCON, is designed as a controller for transferring driving data of a frame video to the source and gate IC. As shown in phase locked loop, the Nios2 operating frequency is 100MHz, and the design of TCON is as following:•Two 4-line (2×4×480byte) image cache RAM are designed in the TCON.DMA (Direct Memory Access) write operations, which could write two 4-line cache quickly, is used by Nios2 to meet the fast update rate of video frame data. A “request sign” is produced when the 4-line data is processed by the TCON. According to the “request sign”, frame-buffer data transmission is done by Nios2 in the DMA way. The flow chart of the DMA is shown in Fig. 5.The TCON can recode each frame of the video according to the driving waveform to provide the source IC with driving data to realize gray scale adjustment and satisfy the timing requirements of gate and source ICs. The video frame data is then transferred to the driver IC in the form of driving data.The refreshing of the frame-buffer is triggered by an interrupt timer. The refresh rate is 20ms and the frame rate of 50Hz can be obtained for smoothly playing videos.The gate IC and source IC is driven by the TCON to control the display of a video and the refresh rate. The driving flowchart of the TCON is shown in Fig. 6.In this system, the video frame data is cached in the flash IC and it can be updated by UART. The boot program execution processes are as following:•Firstly, it reads the image data from flash IC into a SDRAM.Secondly, frame-buffer address data in the SDRAM is transferred to a RAM module of the FPGA according to a DMA request.Thirdly, the TCON IP core reads the video frame data of the RAM module constantly according to the drive timing.At the end, the TCON outputs the driving data into the source IC to drive the pixel.The system data flow chart is shown in Fig. 7.A reset circuit is essential for a complete driving system, as shown in Fig. 8. A counter module in the FPGA is used by the function module “lpm_counter0”. An input clock called “clk_0”, which is a system clock, is introduced as a timing clock. The “lpm_counter0” can carry bit after 256 clocks, and then it stops counting by using an inverter to produce a reset signal named “rst_n” for providing to TCON.In order to cope with peripheral equipments, interface circuit program must be integrated in Nios2. The interface circuit includes: SDRAM module, Epcs module, flash module, PIO module, DMA module, custom UART core, Avalon bus and driver ICs.The Epcs module is used to store the FPGA program and Nios2 software program which can be loaded into the FPGA automatically after providing system power, and the control interface circuit with TOCN is shown in Fig. 9(a). The Nios2 program is required to be loaded into SDRM for the running of IP core after loading POF (Programmer Object File) program into the FPGA, the interface of SDRAM is shown in Fig. 9(b). All of the peripherals of Nios2 system are connected with the Nios2 CPU in the way of Avalon bus, therefore, Nios2 exchange information with outside through the Avalon bus. In the proposed system, reading and writing operation of the external flash memory module are done by using the Avalon bus, the interface of the flash module is shown in Fig. 9(c). In Fig. 9(d), “uart_t2” is integrated into the Nios2, an interrupt signal is produced when the data is received if there is no cache. The interface circuit between TOCN and driver ICs is also shown in Fig. 9(e), the upper half is corresponding to the gate IC, and the lower half is corresponding to the source IC.In the common display driving system, low voltage digital signals are transmitted among function modules for controlling the display system to reduce energy consumption. In the proposed system, the video frame data is converted to driving data by the TCON, and then transferred to the source IC. The driving date is decoded as driving voltage for driving pixel electrode in the source IC.According to the TCON timing signal, source IC inputs the video frame driving data to the line data buffer in a serial mode. In Fig. 10, the video driving data D [7:0] can be cached with the help from the signal CE, the LE can enable the IC latch a line of driving data when the data transfer is completed. Then, an OE signal is produced to transmit the driving data to a voltage network along with the timing of the gate IC, which should open the TFT of corresponding line at the same time. The voltage switching network selects a right value among Vpos, Vss and Vneg to drive the pixel electrodes depending on the driving data. Here, Vpos is +15V, Vss is 0V, and Vneg is −15V. The driving data of one pixel in one frame should use two bits to represent due to the 3 types of choices for voltage values. In the system, 00 represents 0V, 01 represents +15V, and 10 represents −15V. As shown in Fig. 10, the size of the line data cache is 960 bits when the number of outputs is 480. Note that 11 is abandoned because fourth voltage value is unavailable in this system.In the FPGA, hardware description language is used to design the control functions of the system. There are two interrupt programs and one main program in the software system, and the program flow chart is shown in Fig. 11. In the software, the video data is read into the system and recoded as driving data for providing to source IC. The peripheral hardware system is called effectively by the software for video data transmission and processing.The driving waveform is the basis for video data recoding in TCON, which determines the playback speed and gray scale number of a video. Moreover, the quality of the driving waveform directly determines the display effect of EWDs.Generally speaking, the formation of gray scales depends on the effective value of the driving voltage. There are two methods for the gray scale display: voltage amplitude modulation and voltage pulse-width modulation. At present, a resistor network is required in the voltage amplitude modulation, and the mode is not used in commercial mature products. Because of the difference display principle compared with other display technologies, a special driving waveform is developed for driving EWDs. There have been some reports about the EWD driving waveform [12,13], but the flicker, which is produced by driving voltage alternating between high voltage and low voltage, has not been discussed. In addition, the charge leakage has not been considered. Therefore, we have done the experiments based on these two aspects to improve the performance of the driving waveform.Here, a new driving waveform is proposed to realize the display of multi gray scales according to the characteristics of EWDs. In the new driving waveform, two stages are included for driving a pixel to display gray scale and resetting to its original status. In order to display video smoothly, the frequency of the driving waveform must higher than 25Hz, and a square wave is obtained in the first stage to display a gray scale. In the square wave, the frequency is designed as high as possible to reduce flicker. Otherwise, the flicker can be discerned by human eyes when the frequency is lower than 25Hz. As shown in Fig. 12, in the first stage, which includes four sub-frames, is designed for displaying the gray scale, and a high frequency square wave is formed to avoid flickers. For example, the flicker could be ignored if the square wave frequency was equal to 25Hz; however, the frequency was reduced to 12.5Hz when the Frame 1 and 2 was set to −15V and +15V, the flicker would definitely affect the visual enjoyment.At the second stage, a reset process must be done to eliminate the influence of charge leakage. As shown in Fig. 13, the reflectivity decreases with the charge leakage of the pixel electrode in the driving process, a stable gray scale cannot be formed if there is no additional measurement. Therefore, a fixed cycle reset process is necessary to release all charges before writing the same gray scale once again. In addition, a reference gray scale point can be formed at the end of the reset process for writing the next frame gray value in the same pixel. If the pixel is required to be reset, the common electrode and the pixel electrode are both set to +15V, the voltage difference of these two electrodes then reach 0V.With the reset stage, pixels will turn back to their original state after the completion of the gray scale display. In other words, each gray scale is then started from its original state; therefore, the number of driving waveforms and gray scales of EWDs is consistent. According to the driving waveform, TCON can recode the video frame data, the mechanism is as following:(1)The TCON configures the driving waveforms for each pixel according to the target gray scale of the pixel.The target gray scale can be obtained from the video frame data.TCON decodes the driving waveform to form a binary sequence which is called driving data for each pixel.The driving data is transferred to the source IC for driving the TFT of the corresponding pixel.A EWD device with 160μm×160μm square pixels has been fabricated, as shown in Fig. 14. Typically, the water in the pixel, which is connected with the top conductive glass substrate, is used as the common electrode. The driver of pixel electrodes is applied with negative dc-voltage. With the proposed hardware and software system, a set of the driving waveforms as proposed in previous section has been designed for realizing multi-gray display. Then, it is downloaded to the lookup table of a FPGA. Several visual experiments have been performed to verify the driving effect. In Fig. 14, a running horse video is displayed on an EWD. The upper image is driven by a driving waveform without reset function. Because of the charge leakage, the driving voltage is reduced constantly and the pixels become so dark that a kind of shadow is formed. The bottom one is driven by a driving waveform with a reset process. The image quality is much better, and the video can be displayed without obvious shadow.In order to test the performance of gray scale display, 4 and 8 gray-scale images have been tested. Fig. 15shows an image of 4 gray scales displayed on a EWD. Although there are a number of dark points in the device, the 4 gray scales can be displayed in reasonable good quality. The dark points are caused by the inhomogeneity of the pixels which cannot be open to the same level driven by a certain voltage value [14]. The system could work very well to display 4 gray scales images and videos smoothly according to the high speed data transmission form the FPGA to the gate IC and the source IC. However, display flicker appeared when 8 gray scale video was displayed due to data transmission rate constraints of the system.

@&#CONCLUSIONS@&#
