@&#MAIN-TITLE@&#
A heuristic for emergency operations scheduling with lead times and tardiness penalties

@&#HIGHLIGHTS@&#
We model an emergency operations scheduling problem with tardiness penalties.The lead times (waiting, production and transportation times) are considered.Through a structure analysis of the problem, solvable cases are identified.A heuristic algorithm based on a mixed integer programming is developed.The algorithm runs very fast and has small errors in numerical experiment.

@&#KEYPHRASES@&#
Scheduling,Heuristics,Mixed integer programming,Supply chain management,

@&#ABSTRACT@&#
We study the operations scheduling problem encountered in the process of making and distributing emergency supplies. The lead times of a multi-echelon process, including shipping time, assembly time, and waiting time for raw materials must be explicitly modeled. The optimization problem is to find an inventory allocation and a production/assembly plan together with a shipping schedule for inbound supplies and outbound deliveries so that the total tardiness in customer order fulfillment is minimized. We define the problem as a mixed integer programming model, perform a structure analysis of the problem, and then propose a new search heuristic for the problem. This proposed heuristic finds a feasible solution to the problem by solving a series of linear programming relaxation problems, and is able to terminate quickly. Observations from an extensive empirical study are reported.

@&#INTRODUCTION@&#
Natural disasters such as hurricanes, earthquakes, wildfires and tornados have occurred frequently in recent years. According to the National Earthquake Information Centre of the US Geological Survey (http://www.usgs.gov/), the number of earthquakes above the magnitude 4.0 exceeded 158,000 times worldwide between 2000 and 2012. Emergency supply chains, formed upon the needs for disaster relief, collect and distribute rescue supplies to affected areas, and operate differently from commercial supply chains. Holguín-Veras, Jaller, Van Wassenhove, Pérez, and Wachtendorf (2012) compared the commercial logistics and humanitarian logistics in emergencies from seven aspects. In addition to the high expectation on responsiveness, emergency supply chains also face challenges such as poor information/ communication, uncertainties in network capacity, limited resource availability, lack of coordination, and frequent last-minute priority change in the content, quantity, and destinations of shipments. According to Sheu (2007a), the goal of emergency logistics is to meet the urgent needs of the affected people under emergency conditions, which is reflected in our study by using delivery tardiness minimization as the objective function.Rescue kits have been commonly used in various real life disaster-relief operations. A rescue kit typically consists of multiple components (e.g., emergency trauma dressing, latex gloves, blood-stoppers, bandages, alcohol wipes, etc.) from various suppliers. Since different areas hit by a natural disaster may experience different levels/types of damages, both common-purpose (i.e., standard) rescue kits and area-dependent (i.e., customized) rescue kits are usually needed. In general, only standard kits are inventoried in advance in the network, while various customized kits are provisioned during and after a disaster since the contents of customized kits are highly dependent on the types of disaster, damages, season, and areas, and are therefore not built to inventory.In this study, we consider and analyze an integrated replenishment, production and distribution problem defined upon an emergency supply chain for both standard and customized rescue kits. The hypothetical supply chain network consists of component suppliers, manufacturers, regional distribution centers, and customer demand points. The bill of materials for assembling standard kits is identical regardless of customers, while the bill of materials for assembling customized kits is customer/area-dependent. Each customer may order a standard kit, or a customized kit, or both, and specifies the preferred time and quantity for each product to be delivered. The order for a standard kit may be fulfilled from either existing inventory in the network or a newly produced batch by a manufacturer. There is no inventory for customized kits, which are usually ordered/specified by the customers according to their local needs for the disaster relief. The order lead-time, including shipping time, assembly time and waiting time (for the component supplies) must be explicitly considered and modeled. The optimization problem is to find an integrated inventory allocation and a production/assembly plan together with a shipping schedule for inbound component supplies and outbound product deliveries so that the total tardiness in customer order fulfillment is minimized.Emergency logistics has been studied extensively over the past two decades. Altay and Green (2006) discussed the potential applications of operations research to disaster operations management. Caunhye, Nie, and Pokharel (2012) reviewed the applications of optimization applied to emergency logistics, and pointed out the lack of results for tardiness minimization because of the potential complexity for tracking the response times. The authors also mentioned that the resulting computational inefficiency is a main reason for the absence of comprehensive optimization models for emergency logistics. The review by Galindo and Batta (2013) is a continuation of Altay and Green (2006), and evaluated how research in disaster operations management has evolved since then. There have been quite a few studies on specific disaster relief operations in practice. To list a few: Haghani and Oh (1996) reported a mixed integer programming model for a logistical problem in disaster relief management; Barbarosoglu, Özdamar, and Cevik (2002) developed a mathematical model for helicopter mission planning during a disaster relief process; Özdamar, Ekinci, and Küçükyazici (2004) studied a dynamic time-dependent transportation problem and proposed an approach to solve the problem repetitively during an emergency logistic planning, which was further extended by Yi and Özdamar (2007); and Sheu (2007b) reported a study on relief distribution during the crucial rescue period after a disaster.There also exist many studies for integrated operations planning and scheduling. The available literature results can be classified into the following five categories: single commodity models (Ahuja, Huang, Romeijn, & Morales, 2007; Karakitsiou & Migdalas, 2008; Lei, Liu, Ruszczynski, & Park, 2006; Lei, Zhong, & Chaovalitwongse, 2009; Wang, Liu, Xing, & Zheng, 2010; Yilmaz & Catay, 2006); multiple commodity models(Dogan & Goetschalckx, 1999; Eksioglu, Eksioglu, & Romeijn, 2007; Gen & Syarif, 2005; Jang, Jang, Chang, & Park, 2002; Park, 2005; Yung, Tang, Ip, & Wang, 2006); models with bidirectional flows(Chen & Hall, 2007; Kannan, Sasikumar, & Devika, 2010; Lei et al., 2009); stochastic models(Aliev, Fazlollahi, Guirimov, & Aliev, 2007; Aliev el al., 2007; Lejeune & Ruszczynski, 2007; Liang, 2008; Liang & Cheng, 2009; Peidro, Mulaa, Polera, & Verdegayb, 2009); and models involving due date related constraints(Geismar, Laporte, Lei, & Sriskandarajah, 2008; Mohan & Ritzman, 1998; Zhong, Chen, & Chen, 2010). Most models in the aforementioned papers have the objective of minimizing the total cost. Two comprehensive reviews in this area can be found in the work by Thomas and Griffin (1996) and Mula, Peidro, Diaz-Madronero, and Vicens (2010).The main difference between the focus of our study and those considered in the literature for integrated operations planning is that our problem involves multi-stage lead time of a supply chain network, and that our objective is to minimize the delivery tardiness instead of cost minimization, which together introduce new challenges in modeling and algorithm designs. The remaining parts of this paper are organized as follows. A formal mathematical model for our problem, together with the assumptions and notations, are given in Section 2. In Section 3, a partial linear programming (LP) relaxation-based heuristic is proposed to solve the general version of the problem. An extensive empirical study for the proposed heuristic is reported in Section 4, where part of the geographical data (i.e., traveling distances among hospitals) from affected areas during 2012 Hurricane Sandy was used. Finally, in Section 5, we conclude the study and discuss its future extensions.Our problem is defined upon a three-stage supply chain network (see Fig. 1) encountered in a real life project performed by Rutgers Center for Supply Chain Management (Lei, Handley, Melamed, Qi, & Stamatellos, 2012). The network consists of customer demand points, regional distribution centers (DC), manufacturers, and suppliers of components used in the rescue kit assemblies. The network produces and delivers both single type standard kits and customer-dependent customized kits subject to non-negligible lead times and order delivery deadlines. All rescue kits are assembled according to their respective bill of materials (BOMs).The network node layers consist of customer demand points, capacitated manufacturers, regional distribution centers and capacitated component suppliers. It is assumed that there is a central authority that collects demand data and makes decisions concerning production and shipping quantities and how much should be shipped from where to where by when.Customer demand points: Without loss of generality, each customer h has two orders. One is for standard rescue kits with order quantity Dh≥ 0, and the other is for customized rescue kits with order quantityD˜h≥0. WhenD˜h=0, Dh> 0, ∀h, our problem reduces to the one with a single product and customer-dependent order sizes. However, whenD˜h>0,Dh=0, ∀h, our problem becomes one with heterogeneous products and customer-dependent order sizes. Let Thbe the delivery deadline specified by customer h so that any delivery after Thwill result in a penalty proportional to the tardiness and the order quantity. Orders for standard rescue kits can be fulfilled by one of the following options or their combinations: (a) existing inventories at manufacturers; (b) existing inventories at DCs; and/or (c) newly produced batches by manufacturers. The network does not carry any inventory for customized kits, so orders for customized rescue kits can only be fulfilled by make-to-order assembly operations performed at DCs. Let H be the set of customers.Capacitated manufacturers:Each of them is able to assemble standard rescue kits and ship directly to customers (without going through any DC) because of the urgency of shipments. Each manufacturer carries an outbound inventory of standard rescue kits as well as inbound inventories of raw materials (i.e., components for the assembly operations) that can be used to make more standard kits. When the outbound inventory is not enough to fulfill the customer orders, a manufacturer may produce a new batch of standard rescue kits. When the inbound inventories for certain components are not enough for the new batch, additional shipments from the suppliers must be made, which imposes, however, additional lead times. Let M be the set of manufacturers.Regional distribution centers (DCs): They have the responsibility to produce and deliver customized rescue kits (because they are closer to affected areas and have more information about the local needs). In practice, such DCs could also be manufacturers for customized products who donate directly or collaborate with a NGO. For example, during Typhoon Haiyan, Amway at Manila assembled 10,000 disaster relief kits and designated them to the Philippines (source: http://chiefexecutive.net/typhoon-haiyan-corporate-donations-list). Whenever the inbound inventory of components is not enough for a new assembly operation, a DC places orders of additional supplies from respective component suppliers, which, again, results in additional lead times. Each DC only carries an inventory of standard rescue kits (which were pre-positioned before the hit of a disaster), and does not produce standard rescue kits. Let K denote the set of regional DCs in the network.Capacitated component suppliers:Each of them produces, inventories, and delivers a particular component to support the assembly needs of manufacturers (for standard rescue kits) and DCs (for customized rescue kits). Each supplier has an outbound inventory of a particular finished component. Whenever the outbound inventory is not enough, a new batch of the component will be produced by the supplier, which however extends the lead-time to fulfill the replenishment orders from manufacturers and/or DCs. Let S be the set of component suppliers. It is assumed that supplier s only produces and stores inventory component s and component s is exclusively supplied by supplier s. The production capacity of component supplier s, s ∈ S, is defined by its production rate, rs, which specifies the quantity that supplier s may produce per time unit. Similar assumptions are also used to define the capacity of manufacturers and DCs. Note that in some practical situations, the capacity of suppliers or manufacturers could also be defined as the maximum quantity to be produced over a given time interval, and not necessarily at a constant production rate.Our problem is to (1) allocate the outbound inventories for standard kits, at both manufacturers and DCs, to customers; (2) assign customized orders to DCs; (3) decide the batch sizes, and which customers will be served by the new batch of standard kits produced by each manufacturer, so that the total weighted tardiness in customer order fulfillment is minimized. Note that while we introduced these assumptions for an emergency operation, our study can also be generalized to a non-emergency situation. For example, the regional DCs can be considered as a subset of manufacturers that are designated to customize the products. Also note that each customer (e.g., a hospital) may submit multiple orders over the time of a disaster relief. What we consider in this study is the operations scheduling for a given set of customer orders under a given availability of inventory supplies, together with a given shipping time status at a particular time point during the disaster relief.The mathematical model in our study assumes that (1) the order of a customer can be fulfilled via multiple shipments from different sources; and (2) the tardiness of a customer order is determined by the latest time at which the customer order is completely fulfilled (i.e., the time when the last shipment to the customer arrives). For example, even if 95 percent of an order is delivered on time while 5 percent of the order is delivered after the deadline, the order has a tardiness measured by the total quantity specified by that order multiplied by the time delay due to the last shipment. This assumption is based on the practice of emergency logistics where a “customer” (hospital) in our mathematical model is usually a transshipment point. After all the shipments for an order have arrived, a safety check is processed before the order is labeled and further forwarded to the destination.To define this problem more formally, we introduce following notations:rsThe production rate of supplier s to produce the component s, s ∈ S;The production rate of manufacturer m to produce the standard rescue kit, m ∈ M;The production rate of DC k to produce the customized rescue kit for customer h, k ∈ K, h ∈ H;Shipping time from supplier s to manufacturer m, s ∈ S, m ∈ M;Shipping time from supplier s to DC k, s ∈ S, k ∈ K;Shipping time from manufacturer m to customer h, m ∈ M, h ∈ H;Shipping time from DC k to customer h, k ∈ K, h ∈ H;Available outbound inventory for component s at supplier s, s ∈ S;Available inbound inventory for component s at manufacturer m, s ∈ S, m ∈ M;Available inbound inventory for component s at DC k, s ∈ S, k ∈ K;Available outbound inventory for the standard rescue kit at manufacturer m, m ∈ M;Available outbound inventory for the standard rescue kit at DC k, k ∈ K;Order quantity for the standard rescue kit by customer h, h ∈ H;Order quantity for the customized rescue kit by customer h, h ∈ H;The order due date of customer h for both standard and customized rescue kits, h ∈ H;Bill of materials for the standard rescue kit (i.e., the conversion ratio from component s to the standard rescue kit), s ∈ S;Bill of materials for the customized rescue kit ordered by customer h (i.e., the conversion ratio from component s to the customized rescue kit for customer h), s ∈ S, h ∈ H;The maximum flow (transportation) quantity between supplier s and manufacturer m,Fsm=max{0,[Bs·max{0,∑hDh−Im}]−Ims},s∈S,m∈M;The maximum flow (transportation) quantity between supplier s and DC k,Fsk=max{0,∑h(Bhs·D˜h)−Iks},s∈S,k∈K;The maximum flow (transportation) quantity from inventory prepositioned at manufacturer m to customer h,Fmhi=Dh, m ∈ M, h ∈ H;The maximum flow (transportation) quantity from manufacturer m to customer h,Fmh=Dh, m ∈ M, h ∈ H;The maximum flow (transportation) quantity from inventory prepositioned at DC k to customer h,Fkhi=Dh, k ∈ K, h ∈ H;The maximum flow (transportation) quantity from DC k to customer h,Fkh=D˜h, k ∈ K, h ∈ H;An upper bound on the total weighted tardiness.A sufficiently large constant.Note that FabandFabiare the maximum possible transportation quantity based on demand.Decision variablesQsQuantity of component s produced by supplier s, s ∈ S;Quantity of component s shipped from supplier s to manufacturer m, s ∈ S, m ∈ M;Quantity of component s shipped from supplier s to DC k, s ∈ S, k ∈ K;Quantity of standard rescue kits shipped to customer h from the new batch produced by manufacturer m, m ∈ M, h ∈ H;Quantity of standard rescue kits shipped to customer h from the outbound inventory of manufacturer m, m ∈ M, h ∈ H;Quantity of standard rescue kits shipped to customer h from the outbound inventory of DC k, k ∈ K, h ∈ H;Quantity of customized rescue kits shipped to customer h from DC k, k ∈ K, h ∈ H;Production starting time at manufacturer m, m ∈ M;Production starting time at DC k, k ∈ K;Tardiness of delivering the standard rescue kit to customer h, h ∈ H;Tardiness of delivering the customized rescue kit to customer h, h ∈ H;Binary variable indicating whether replenishment of component s is needed at manufacturer m, s ∈ S, m ∈ M;Binary variable indicating whether replenishment of component s is needed at DC k, s ∈ S, k ∈ K;Binary variable indicating whether there are standard rescue kits from the new batch produced by manufacturer m to customer h, m ∈ M, h ∈ H;Binary variable indicating whether there are standard rescue kits from the outbound inventory manufacturer m to customer h, m ∈ M, h ∈ H;Binary variable indicating whether there are standard rescue kits from the outbound inventory of DC k to customer h, k ∈ K, h ∈ H;Binary variable indicating whether there are customized rescue kits from DC k to customer h, k ∈ K, h ∈ H;Problem P:(0)Minimize:∑h(TDh·Dh+T˜Dh·D˜h)Subject to:1.Production and inventory capacity constraints(1.1)∑mqsm+∑kqsk≤Is+Qss∈S(1.2)∑hqmhi≤Imm∈M(1.3)∑hqkhi≤Ikk∈K(1.4)(Bs·∑hqmh−Ims)≤Γ·ymss∈S,m∈M(1.5)(∑h(Bhs·qkh)−Iks)≤Γ·ykss∈S,k∈KFlow capacity constraints(2.1)qsm≤yms·Fsms∈S,m∈M(2.2)qsk≤yks·Fsks∈S,k∈K(2.3)qkh≤ykh·Fkhk∈K,h∈H(2.4)qmh≤ymh·Fmhm∈M,h∈H(2.5)qmhi≤ymhi·Fmhim∈M,h∈H(2.6)qkhi≤ykhi·Fkhik∈K,h∈HDemand-supply balance constraints(3.1)∑mqmh+∑mqmhi+∑kqkhi=Dhh∈H(3.2)∑kqkh=D˜hh∈HConstraints that define lead times and tardiness(4.1)TDh≥(τmh−Th)−Γ·(1−ymhi)m∈M,h∈H(4.2)TDh≥(τkh−Th)−Γ·(1−ykhi)k∈K,h∈H(4.3)PSm≥Qsrs+τsm−Γ·(1−yms)s∈S,m∈M(4.4)TDh≥(PSm+∑hqmhrm+τmh)−Γ·(1−ymh)−Thm∈M,h∈H(4.5)PSk≥Qsrs+τsk−Γ·(1−yks)s∈S,k∈K(4.6)T˜Dh≥(PSk+qkhrkh+τkh)−Γ·(1−ykh)−Thk∈K,h∈HDomain constraints(5.1)yms,yks,ymh,ykh,ymhi,ykhiarebinaryconstraints(5.2)Allothervariablesarenon-negativecontinuousvariablesIn this mixed-integer programming model (P), the objective function (0) aims at minimizing the total weighted tardiness of order fulfillment (i.e., the sum of delivery tardiness times the order size). Constraints (1.1) ensure that the total quantity shipped out of a supplier does not exceed the sum of its outbound inventory plus the quantity newly produced. Constraints (1.2) and (1.3) ensure that the total quantity of standard kits shipped from the outbound inventory of a manufacturer, and that of a DC, does not exceed the available amount carried in the inventory, respectively. Constraints (1.4) and (1.5) show that whenever the required quantity of component s to be used in the assembly for a new production batch exceeds that of the inbound inventory, a new shipment from the respective supplier is required, and the respective binary variable,ymsandyks, must be equal to one. Constraints (2.1)–(2.6) impose the shipping capacity limits of the network. For example, constraints (2.1),qsm≤yms·Fsm, show that the total quality from supplier s to manufacturer m should not exceed the maximum link capacity Fsm, where binary variableyms= 1, as determined from constraints (1.4), if and only if there is a shipment from s to m. Constraints (3.1) and (3.2) define the demand-supply flow balances, where (3.1) specifies that the total shipments of the standard product from those newly produced by the manufacturers, the existing outbound inventory of manufacturers, and the existing outbound inventory of DCs to customer h should be equal to the order size of customer h for the standard product. Similarly, since only DCs may be used to produce the customized products, constraints (3.2) show that the fulfillment of customized product for a customer can only come from the DCs. Constraints (4.1)–(4.3) and (4.5) define the lead time of the multi-stage supply chain process, and constraints (4.4) and (4.6) define the order tardiness. If there are multiple shipments (from either the same or different suppliers) to a customer, then the arrival time of the latest shipment determines the tardiness of that customer. Since each customer order, for either the standard product or the customized product, may be fulfilled by multiple sources, we assume in this study that the latest shipment/arrival defines the tardiness of the order.Note that each binary variable in P corresponds to a link in the respective supply chain network. If a binary variable is assigned to be 1, then the corresponding link is referred to as open. Otherwise, the link is referred to as closed, and allows no flows between the two locations connected by that link. Computationally, P is a difficult one and can be shown to be NP-hard in strong sense. Let us consider a reduced form of the problem, that there is no production for the standard rescue kits and customer demands are served by the finite inventory of the standard kit at manufacturers and DCs. Each customer can be assigned to multiple sources, and the tardiness of each customer's supply is decided by the latest arrival from those sources. With the objective of minimizing the total tardiness of all the customers, the problem can be projected as a variation of the 3-partition problem which is NP-complete in a computational sense. A more detailed proof is provided in Lee, Lei, and Dong (2013).While the general version of P is difficult to solve optimally, there exist special cases that can be solved efficiently. The optimal solutions to such special cases can be used to construct heuristics for P in future studies. We examine two such solvable cases in the Appendix for readers with interest.We introduce in this section an iterative algorithm for solving P, by which the search process is guided by a sequence of linear programming (LP) relaxation solutions. Each iteration starts with a given feasible solution, as an incumbent solution, which defines the values of binary variables and the flow quantity between locations. During an iteration, the shipment arriving at a hospital that results in the greatest tardiness under the current solution is identified, and the respective binary variable, called the target variable, is penalized in the objective function (0), which results in a new problem called P1. The LP relaxation of P1is then solved optimally, and the respective LP solution is rounded heuristically to obtain a new feasible solution to P together with a new objective function value Z1. If the value of Z1 improves on the given incumbent solution, we replace the incumbent solution by the new feasible solution and permanently fix the value of the target variable as it is for remaining iterations. Otherwise, we fix the value of the target variable to be one for the remaining iterations, without replacing the given incumbent solution. Doing so, the number of integer variables monotonically decreases through the iterations. This process continues until the values of all the binary variables are determined. The algorithm can also be implemented differently by using more than one target variable per iteration. The resulting heuristic is denoted as theLPRalgorithm in our remaining discussion, and a traceable numerical example that shows a detailed step-by-step search process of LPR can be found in Dong, Lee, and Lei (2013). A more formal search process by the LPR algorithm is defined in Section 3.2 and illustrated in Fig. 2.The implementation of this proposed heuristic LPR deploys two schemes to improve its solution quality and computational efficiency, which are summarized as follows.Most supply-chain networks for medical emergency supplies tend to have a skewed structure (i.e., a relatively smaller number of manufacturers and DCs on the supply side, and a very large number of customers or hospitals/shelters on the demand side). For example, Cardinal Health, one of the world's largest distributors of pharmaceuticals and medical supplies, has only four medical kit manufacturing facilities in the U.S, while in NJ/NY area alone, there are over 300 hospitals (source: http://cardinalhealth.mediaroom.com/index.php?s=20295&item=22571; http://health.usnews.com/best-hospitals/area/new-york-ny). Such a skewed network often results in a large number of binary variables related to distribution flows to customers in model P while fewer binary variables are related to the flows in the upper stream (i.e., from suppliers to manufacturers and DCs). Such a skewed structure supports us to keep all the binary variables connecting the suppliers and manufacturers/DCs during the search process, at the cost of a marginal increase in the computation time, while achieving a significant improvement in the solution quality. The solution quality is improved upon by the fact that binary variables defining the upper stream network (consisting of suppliers, manufacturers and DCs) have a ripple effect over the multi-echelon process. Because of the skewed network structure, the partially relaxed MIP model solved in iteration handles only a small number of binary variables.The experiment results reported in Table 1highlight the effectiveness of such a partial LP relaxation approach vs. total LP relaxation approach, which relaxes all the integer variables. The performance is measured by(6)EmpiricalErrorGap(EEG)=(GLPR−G*)G*×100%and GLPRand G* stand for the objective function value of the proposed LPR algorithm and the best solution obtained by the Gurobi solver (on Intel Core Duo CPU, 2.10 gigahertz) with time limit of 3600 CPU seconds, respectively. A negative error gap means that the heuristic obtained a better solution than the best solution found by the MIP solver within the given time limit. Each data point in Table 1 is the average of results from five test cases. While taking a little longer time to terminate the search, the partial LP relaxation consistently achieved a better solution quality.To improve the search efficiency, especially when the network size is large, we penalize a group of target variables, instead of a single target variable, per iteration to reduce the number of iterations. A convergence coefficient parameter, α, where 0 ≤ α ≤ 50 percent, is therefore introduced to control the percentage of binary variables to be treated as target variables in each iteration. As value of α increases, the values of more binary variables are determined and fixed in each iteration, which allows the search to terminate more quickly at the potential price, however, of the solution quality. A detailed study on the impact of α values on solution quality will be reported in next section.To make a formal description of the search process by LPR, let link denote a directed arc between m and h, or between k and h, which corresponds to binary variable either ymh,ymhi,ykhi, or ykh. Then, upon the results from the immediate previous iteration (or the initial heuristic solution for the search), we can define the following sets of links as the input to the current iteration:ΠSet of links corresponding toymh,ymhi,ykhi, and ykh.Set of links with binary variable ylinkpermanently fixed atylink= 1;Set of links with binary variableylinkpermanently fixed atylink= 0;Set of links {ylink} whose values are not yet permanently determined;Set of target variables to be penalized by adding Gupper· ∑link ∈ Yylinkto the objective function in the current iteration.Note thatΦ∪Ω∪Λ=Πand Y⊂Λ.For each iteration, the partial LP relaxation problem, PLP(Φ, Ω, Y), is implemented as follows:Input: Parameter α, and sets of links {Φ, Ω,Λ} as defined by the previous iterationFor ∀ link ∈ Φ, add constraintsylink=1;For ∀ link ∈ Ω, add constraintsylink=0;For ∀ link ∈ Λ, relax each binary variable corresponding to link ∈ Λ to a continuous variable in [0, 1];Penalize selected target variables by addingGupper·∑link∈Yylinkto the objective, where Gupperis an upper bound of G.Then, we solve the resulting partial relaxation problem, PLP(Φ, Ω, Y), to obtain its optimal solution XLP(Φ, Ω, Y). Technically, Gurobi solver does pre-processing by changing “variables” to “constants” corresponding to constraints ylink= 1 and ylink= 0. Thus, those additional constraints almost do not affect performance of solving procedure (e.g. speed). If some of those relaxed binary variables receive non-integer values in the optimal solution to PLP(Φ, Ω, Y), then solution XLP(Φ, Ω, Y) is not feasible to the original problem P. When this is the case, we round up all such0<ylinkLP<1values toylinkLP=1 to obtain a feasible solution X(Φ, Ω, Y) for the iteration. Let G(X(Φ, Ω, Y)) denote the objective function value of feasible solution X(Φ, Ω, Y). If G(X(Φ, Ω, Y)) does not improve the objective function value of the incumbent solution (i.e., the effort to close the target links does not show a merit), we shall keep the links in Yopen, i.e., expand Φ to Φ∪Y. On the other hand, if G(X(Φ, Ω, Y)) does show an improvement, we examine the values of target variables as follows: ifylinkLP=0then the respective link is no longer needed by the improved solution, and letΩ⇐Ω∪{link∈Y|ylink=0}; ifylinkLP=1then the link should remain open, and let Φ⇐Φ∪{link ∈ Y|ylink> 0}.Note that, in each iteration, set Y is determined upon the value of α and consists of those links from Λ with the largest tardiness. After that, set Λ is updated to Λ⇐Λ\Y for the next iteration. This iterative search process by LPR terminates when either set Λ becomes empty or the objective function value can no longer improve in remaining iterations. In the latter case, leftover binary variables in Λ are heuristically rounded based on current values. Then a final LP problem is solved with all binary variables’ values fixed. A detailed flowchart of LPR is given in Fig. 2 below.In this section, we discuss the implementation of LPR, and compare its computational performance with the best solutions obtained by the commercial optimizer Gurobi (on Intel Core Duo CPU, 2.10 gigahertz). Table 2 below summarizes the values of parameters used in our experiments.In these experiments, the shipping times (see Table 2) were randomly generated proportional to the scale of the affected area of Hurricane Sandy (see Fig. 3), and the order delivery due dates were generated based on the critical 3-day period right after the occurrence of a disaster (Sheu, 2007a). For all the experiments, the sizes of supply-chain networks were defined as |S| = 5, |M| = 2, |K| = 3 and |H| ∈ {8, 9, 10, 50, 100, 150, 200, 250}.When the network sizes were relatively small (e.g., |H| ≤ 10), the commercial solver (Gurobi) was able to terminate with the optimal solutions. Such optimal solutions can be used to benchmark the computational performance of LPR in terms of the empirical error gaps (EEG) as defined by Eq. (6). In Table 3, we report the EEG values together with the average (and standard deviation) of running times upon each set of 10 randomly generated test cases under |H| = 8, 9, and 10, respectively. As we can see, the EEG value has a tendency to improve in general as the value of α decreases. Also, as the network size |H| increases, the running time required by the MIP solver increases quickly, while the changes in computational effort by LPR remain minimal. From the observations reported in Table 3, we adapted α = 0.05 for the remaining experiments in this study.We studied the impact of network sizes on the computational performance of LPR. In this part of the study, we fixed the numbers of suppliers, DCs, and manufacturers at |S| = 5, |M| = 2, and |K| = 3, respectively, and allowed the number of customers to range between 50 and 300. Since the commercial solver failed to find the optimal solution (within the given CPU limit of 3600 seconds) for all the cases in this part of the study, we report (in Table 4) the gaps between the heuristic solution and the best Gurobi solution, denoted as G*, obtained within the time limit. In terms of performance measure EEG, as defined in Eq. (6), the heuristic LPR demonstrated a very competitive and robust performance. Even though its computational time increases with the network size (|H|), it is still significantly less than the time required by the commercial solver.We also conducted experiments using networks with (a) |S| = 5, |K| = 3; and (b) |S| = 4, |K| = 2, under different numbers of manufacturers (|M|) and customers (|H|). Fig. 4(a) and (b) reports the average performance measures (EEG) observed under different network settings, where each data point denotes the average result from five randomly generated test cases. As we can see, the number of DCs does not seem to have a significant impact on the performance of LPR. However, as the number of manufacturers becomes larger, EEG tends to increase. Furthermore, the EEG value seems quite stable when |M| = 2 or 3, and then becomes less stable when |M| = 4. One possible reason for this is that the new batch produced by each manufacturer is more likely to introduce significant delays (through its production time and component sourcing time) to a large number of customers.It is interesting to note that for the largest upstream network in this study, with |S| = 5, |M| = 4, and |K| = 3, the performance of LPR, as measured by EEG, seems to be becoming better as the number of customers increases. One possible explanation is that, as the problem size increases, the commercial solver becomes more unlikely to locate a good feasible solution within the given time limit, which in turn leads to a smaller EEG value. As the empirical results in Fig. 4(a) and (b) show, the number of customers does not have a significant impact on the computational performance of the LPR algorithm, which is consistent with the observation in Table 4. However, the LPR performance (as measured by the EEG values) is more sensitive to the upstream network structures.We also investigated the impact of inventory levels and production capacity on the computational performance of the proposed LPR algorithm. The inventory here can be regarded as pre-disaster stock, measured by the ratio of the total inventory to the total demand for standard kits. The higher the inventory level, the more customers’ demands can be fulfilled directly by existing inventory without the need to produce a new batch. Production capacity at manufacturers and DCs were measured by thousand units produced per hour at the facility.For this part of the study, we varied the inventory level of standard kits from 5 percent to 50 percent. For each given inventory level, five test cases were randomly generated to empirically observe the values of EEG. As one can see from Fig. 5(a), the resulting EEG values were fairly stable under different inventory levels, with the largest empirical error gap around 7 percent.Fig. 5(b) shows the impact of production capacity on the computational performance of LPR. Different production capacities of manufacturers and DCs were considered in the experiments (see Fig. 5(b)). As we can see, the average EEGs achieved by LPR under different production capacities of manufacturers and DCs were fairly stable, and all of them fell below 3 percent.Another part of our empirical study was devoted to gaining an understanding on the impact of production capacity and pre-positioned inventory, as operation policies, on the average tardiness in customer order fulfillment, which is defined as∑h(TDh·Dh+T˜Dh·D˜h)/∑h(Dh+D˜h).To do so, we conducted an empirical study with |H| = 50, as reported in Fig. 6(a) and (b). Fig. 6(a) shows the impact of pre-positioned inventory under two different levels of production capacity, high and low, where the high capacity level was defined byrm=6000units/hour,rk=1200units/hourand the low capacity level was defined byrm=2000units/hour,rk=400units/hour.These observations were obtained from 51 randomly generated test cases by changing inventory levels from 0 percent to 50 percent. As we can see, the average tardiness decreases linearly as the inventory level increases, regardless of the production capacity. We can also see that the average tardiness under the high level of production capacity is proportional to that under the low level of production capacity.Fig. 6(b) reports our empirical observations on the relationships between average tardiness and production capacity under different inventory levels. Two kinds of inventory level, measured by the ratio of pre-positioned inventory to total demand, were considered, where a ratio of 50 percent refers to a high inventory level, while a ratio of 10 percent refers to a low inventory level. As the production capacity decreases, the average tardiness increases rapidly due to the lead time needed for supplies. On the other hand, as the production capacity increases, the average tardiness decreases quickly, and then stabilizes (due to the bottleneck of shipping time). Furthermore, the average tardiness under high inventory level is fairly proportional to that under low inventory level. This empirical observation indicates that prepositioning a sufficient inventory in the network prior to the arrival of a disaster could lead to a significant reduction in the tardiness of delivering emergency supplies. However, as for the production capacity, once it exceeds a certain threshold, then its impact on average tardiness is no longer that significant.We study the operations scheduling problem defined upon a multi-stage network with non-negligible lead times between the stages, with an objective to minimize the total tardiness in customer order fulfillment. Two solvable cases of this problem are analyzed, and a heuristic search algorithm is proposed. The proposed heuristic solves a series of partial linear programming relaxation problems, and is able to terminate quickly with a near-optimal solution. Observations from an extensive empirical study are reported.There are several extensions from this study. First, we can generalize the model to allow some demand points (hospitals) to serve as the transshipment points, which is fairly common in real life emergency operations. Whenever a hospital has spare supplies during a disaster, it often shares the supplies with other hospitals in the neighborhood area to reduce the patient waiting time. While adding a transshipment point to a network increases the complexity, the resulting model is certainly one step closer to what is encountered in practice. Second, while all the shipping times between locations are given as constants in this study, it will be more interesting if these can be treated as random variables. Third, additional objectives and constraints can be introduced into the model. Managing the emergency logistics for disaster relief is always a multi-objective optimization problem. Extended models aiming at optimizing a multi-dimension operational performance defined by order fulfillment, priority in customer services, and urgency of different product customizations, while subject to a given fleet size, are certainly more challenging and interesting. We also note that in the current scheduling literature, there exist many well-known greedy heuristics, such as the beam search and the nearest-first, which all have a great potential to be extended to solve the problem that we consider in this study. It will be very interesting to benchmark the performance of our proposed LPR algorithm with such existing heuristics. For a more efficient execution, the effectiveness of alternative designs of the search process can be evaluated through empirical studies, such as revising the problem statement instead of utilizing auxiliary constraints (ylink= 1 and ylink= 0) or using a problem-decomposition based search.This case holds when the network contains only a single customer (e.g., an NGO center dedicated to a particular affected area), and all the manufacturers and DCs each carries a sufficiently large amount of inbound inventory of components. When this is the case, component suppliers in the original model can be omitted, and the problem can be decomposed into two sub-problems, Psand Pc, where sub-problems Ps, and Pc, are concerned with the provision of standard kits, and customized kits, respectively.Since we have only a single customer, subscript h can be dropped for convenience. Let τmandτ˜kdenote the shipping times from manufacturer m to the customer and from DC k to the customer, respectively. Without loss of generality, we assume that manufacturers and DCs are sequenced in the increasing order of shipping times to the customer, i.e.τm≤τm+1form=1,…,|M|−1andτ˜k≤τ˜k+1fork=1,…,|K|−1. For convenience, letτ|M|+1=∞andτ˜|K|+1=∞, and the due date of the customer be zero (T=0), which can be relaxed later without affecting the result.(a)Solving sub-problemPcLetT˜D*stand for the minimum tardiness for the customized product.Lemma 1Ifτ˜k*<T˜D*≤τ˜k*+1for some k* ∈ K, thenq˜k>0fork=1,…,k*and∑k=1k*q˜k=D˜andq˜k=0fork=k*+1,…,|K|;q˜kr˜k+τ˜k=T˜D*fork=1,…,k*By Lemma 1 (ii), we haveq˜k=T˜D*r˜k−τ˜kr˜kfork=1,…,k*and by∑k=1k*q˜k=D˜, we haveT˜D*=(D˜+∑k=1k*τ˜kr˜k)/∑k=1k*r˜k.SinceT˜D*≤τ˜k*+1, the optimal k*value for the minimum tardiness is as follows:k*=min{k′∈K|(D˜+∑k=1k′τ˜kr˜k)/∑k=1k′r˜k≤τ˜k′+1}.By pre-calculating∑k=1k′τ˜kr˜kand∑k=1k′r˜kfor k′ ∈ K, the minimum k* can be obtained in O(|K|) time.(b)Solving sub-problemPsLet TD* be the minimum tardiness for the standard product. LetΓ={τm|m∈M}∪{τ˜k|k∈K}={t1,t2,…,t|Λ|}such thatti<ti+1fori=1,…,|Γ|−1and lett|Γ|+1=∞. LetM(ti)={m∈M|τm≤ti}andK(ti)={k∈K|τ˜k≤ti}.Lemma 2Ifti*≤TD*<ti*+1, then we shall use up all the outbound inventory ofM(ti*)andK(ti*)to partially fulfill the demand. LetD′(ti)=D−∑m∈M(ti)Im−∑k∈K(ti)I˜kstand for the quantity to be fulfilled by the production of manufacturers. Then,(i)∑m∈M(ti*)qm=D′(ti*)andqm=0form∈M∖M(ti*)qmrm+τm=TD*form∈M(ti*)By Lemma 2 (ii), we haveTD*=(D′(ti)+∑m∈M(ti)τmrm)/∑m∈M(ti)rm. Therefore,ti*=min{ti∈Γ|(D′(ti)+∑m∈M(ti)τmrm)/∑m∈M(ti)rm<ti+1}.By pre-calculating Γ and M(ti), K(ti),∑m∈M(ti)τmrmand∑m∈M(ti)rmfor ti∈ Γ, the minimum i* can be obtained inO(|K|+|M|)time.Thus, both sub-problems Psand Pccan be solved in linear time ofO(|K|+|M|). Note that if we are given an arbitrary delivery deadline, the results and the solution procedures discussed above shall remain the same since we aim at minimizing the latest arrival time at the customer. One potential use of this special case result is to develop a greedy heuristic that obtains a feasible solution to P by handling the orders of one customer at a time. The quality of such a heuristic, however, depends on how the sequence of customers is constructed.Another solvable case of P holds when the production schedule at manufacturers and DCs are fixed in advance and the tardiness is calculated upon the arrival time of individual shipment at a customer site. In other words, PSmand PTmfor all m ∈ M, and PSkand PTkfor all k ∈ K, are given constants, where PTmand PTkstand for the production durations at m and k, respectively. This allows us to drop constraints (4.3) and (4.5) completely. The total production quantities at manufacturer m and DC k are now fixed as PTmrmand PTkrk, respectively, which require(B.1)∑hqmh≤PTmrmform∈M,and(B.2)∑hqkh≤PTkrkfork∈K.We assume that the outbound inventory of component suppliers is sufficient, which implies that there is no need to produce more by the component suppliers and the lead time between each supplier and each manufacturer (or a DC) equals to respective transportation time between the two locations. Because the production starting times at manufacturers and DCs are fixed in advance in this case, whenever the lead time from suppliers are greater than the given production starting time, the inbound shipment cannot be used for the production. That is, if τsm> PSmthenyms=0and if τsm≤ PSmthenyms=1for s ∈ S, m ∈ M. Similarly, if τsk> PSkthenyks=0and if τsk≤ PSkthenyks=1for s ∈ S, k ∈ K. Therefore, constraints for all binary variables indicating flow from suppliers to manufacturers and DCs, (2.1) and (2.2), are taken out and constraints (1.4) and (1.5) can be simplified by plugging in appropriate binary variables, which can be denoted by (1.4′) and (1.5′) as follows.(1.4′)(Bs·∑hqmh−Ims)≤0ifyms=0,s∈S,m∈M(1.5′)(∑h(Bhs·qkh)−Iks)≤0ifyks=0,s∈S,k∈KWe can approximate the objective function by minimizing the sum of weighted tardiness of shipments. For example, suppose that customer h has an order with a due date 24 and quantity 120, and the solution yields the following schedule: 50 units arriving at time 20, 40 units arriving at time 26, and 30 units arriving at time 30. Then, the resulting sum of weighted tardiness is given by 50 × max (0, 20 – 24) + 40 × max (0, 26 – 24) + 30 × max (0, 30 – 24) = 0 + 80 + 180 = 260. For supply chain networks with |H|| ≫ M| + |K|, such approximation could be promising because many customers are supplied by a single source. More precisely, when we consider the standard product, the number of customers that are provided by multiple sources is bounded from above by |M| + |K| because the links with non-zero flows will construct a tree structure. If the number of customers supplied by multiple sources is more than |M| + |K|, then we can define links with non-zero flows between customers and manufacturers/DCs, identify a loop consisting of links with non-zero flows alternating customers and manufacturers/DCs, change the flow quantities in the loop by +θ and −θ alternatively for some θ to improve the objective function value until the flow of one link in the loop becomes zero. By repetition of this process, the number of customers that are provided by multiple sources cannot exceed |M| + |K| in an optimal solution. Thus, the number of customers served by a single source is at least |H| − (|M| + |K|).For the shipment of standard product for customer h, the tardiness may be defined as(i)Shipment from the outbound inventory of manufacturer m,TDmhi=max{τmh−Th,0},Shipment from the outbound inventory of DC k,Shipment from the production of manufacturer m,TDmh=max{PSm+PTm+τmh−Th,0}TDkhi=max{τkh−Th,0}.For customer h, the total weighted tardiness for the standard product is then given by(B.3)WTDh=∑m∈M(TDmhiqmhi)+∑k∈K(TDkhiqkhi)+∑m∈M(TDmhqmh).Similarly, for the customized product for customer h, the tardiness may only be caused by the shipment from the production of DC k, orTDkh=max{PSk+PTk+τkh−Th,0},which leads to the tardiness of customer h for customized product(B.4)WT˜Dh=∑k∈K(TDkhqkh)Note that parametersTDmhi,TDkhi,TDmh, and TDkhare all constants. The resulting optimization problems can then be defined as followsMinimize∑h(WTDh+WT˜Dh)Subject to (1.1), (1.2), (1.3), (1.4)′, (1.5)′, (3.1), (3.2), (5.2), (B.1), (B.2), (B.3), (B.4)qmhi,qkhi,qmh,qkh≥0,∀k,m,hThis is a linear programming problem and can be solved quickly even with very large networks.While this special case has a slightly different objective function from that of P, the resulting LP problem can be solved easily and its optimal solution is always a feasible solution to P. Using such a LP solution as an initial feasible solution to P, we can then design a heuristic that focuses on generating production schedules for improved feasible solutions.

@&#CONCLUSIONS@&#
