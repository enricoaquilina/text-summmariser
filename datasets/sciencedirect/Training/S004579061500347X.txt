@&#MAIN-TITLE@&#
Implementation of multi-channel technology in ZigBee wireless sensor networks

@&#HIGHLIGHTS@&#
We increase the packet delivery ratio (PDR) through the application of multi-channel technology in wireless sensor networks.We implemented a multi-channel time division multiple-access scheme using hardware devices.We developed an interference avoidance method to improve conditions for the coexistence of ZigBee and WLAN.

@&#KEYPHRASES@&#
Wireless sensor networks,Multi-Channel,ZigBee,Packet delivery ratio,

@&#ABSTRACT@&#
Graphical abstractImage, graphical abstract

@&#INTRODUCTION@&#
Wireless sensor networks (WSNs) [1–3] are a collection of sensor nodes distributed throughout a particular region in the form of an integrated network. They are scalable, reliable, easily deployed, and operate on a license-free, globally-available frequency band used as the standard for two-way communications. Sensor networks are currently employed in a variety of applications, including probes for military purposes, the monitoring of water quality, and biomedical monitoring [4–11]. A well-designed sensor network is low-cost and has low data rates and low power consumption in order to accommodate small sensor devices.The hardware and software standards of WSNs are outlined in IEEE 802.15.4 and the ZigBee Alliance [12,13]. An IEEE 802.15.4 network can have a star, peer-to-peer, or cluster-tree topology; however, the standard on which it is based does not specify the details of the cluster-tree construction algorithm. Thus, the specifics of implementation remain variable. The need to reduce energy consumption is becoming increasingly important in WSNs due to limited energy resources at nodes. A number of solutions to this problem have been developed at the MAC layer. WSNs are limited with regard to radio bandwidth and susceptible to problems such as interference, noise and hidden terminals. Interference and noise tend to affect the transmission distance between nodes; however, in environments that include hidden terminals, two or more nodes can be used to transmit data simultaneously. Unfortunately, individual nodes are unaware of each other, and the resulting collision of data packets can lead to data loss. Most existing MAC protocols focus on single channel solutions, and thus fail to take into account the behavior of multi-channel transceivers. For example, the IEEE 802.15.4 standard allows for use of multiple channels available at the physical layer; however, the MAC protocol is designed for a single channel, which cannot operate effectively in a multi-channel environment. Thus, further development of multi-channel MAC protocols for WSNs is required to take full advantage of multi-channel parallel transmission mechanisms.ZigBee uses the common 2.4 GHz band, referred to as the unlicensed industrial, scientific, and medical (ISM) band. The ISM band is already used with wireless LANs (WLANs) specified in the IEEE802.11 standard [20]. These devices have also been introduced into smart homes, and electrical devices equipped with WLAN, such as PCs and smartphones, are widely used in conventional homes. In [21], a survey was conducted on the coexistence of networks based on IEEE 802.11 and IEEE 802.15.4 standards. Despite the fact that ZigBee and WLAN use different channel access mechanisms, competition associated with the sharing of the 2.4 GHz band tends to degrade the ZigBee transmission success ratio.This study developed a novel multi-channel protocol with the ability to assign specific channels to specific sensor nodes to make it possible for multiple communication links to be used simultaneously within the same region. Many radio transceivers already provide multiple channel functionality; however, this study implements an actual multi-channel network to enhance the packet delivery ratio (PDR) of WSNs in a narrow environment.In this study, we focused on the time domain and developed an interference avoidance method to facilitate the coexistence of ZigBee and WLAN with the aim of improving the PDR of ZigBee. The effectiveness of the proposed adaptive channel access algorithm was demonstrated in experiments performed in a practical network implementation using standard equipment.The remainder of this paper is organized as follows. In Section 2, we introduce some proposals for taking into account multi-channel technologies. Section 3 presents the brief description on the model for data transfers in the IEEE 802.15.4. A multi-channel technology with interference avoidance method to overcome the interference imposed by WLAN networks is presented in Section 4. We give experimental results and our analysis in Section 5, and conclude the paper in Section 6.Multiple access technology is commonly used to allow a large number of devices to share the allocated spectrum in the most efficient manner. Frequency division multiple-access (FDMA), time division multiple-access (TDMA), and Code division multiple-access CDMA are the three techniques used to share available bandwidth in WSNs. In FDMA, the available frequency band is subdivided into a number of sub-channels, which are then assigned to nodes with exclusive transmission access. Each channel can be used to service a single user. TDMA subdivides the time axis into fixed-length superframes, each of which is subdivided into number of time slots. In CDMA, the nodes spread their signals over a bandwidth far larger than that required and use a variety of codes for the separation of individual transmissions. The receiver may also use spreading code to filter out other signals. As shown in Fig. 1, the frequencies defined for ZigBee technology are divided among 27 channels. Nodes can be set to different channels to avoid data collision in times of transmission overlap. Numerous multiple channel MAC protocols have been proposed for wireless networks to make more efficient use of multiple channels in which each node possesses a single radio for the transmission or reception of one channel at a given time, as follows:MMSN (Multi-Frequency Media Access Control for Wireless Sensor Networks) [14] is the first multi-channel MAC protocol designed specifically for WSNs. MMSN comprises hundreds of simple devices, geographically dispersed in an ad hoc network over a large geographic area. The MMSN protocol is divided into two parts: frequency assignment and media access. Frequency assignment is used to assign all frequencies that are available, or oversee the allocation of available frequencies in cases where there exist a greater number of neighbors than available frequencies to avoid conflicts. MMSN allows users to select 1 of 4 available frequency assignment strategies. Media access is designed to provide access to nodes with potential conflicts through the distributed coordination of shared physical frequencies. Nodes use its assigned frequencies and time slots for data transmission. However, in cases where a new node is added to the topology, a new frequency must be assigned to avoid conflict among nodes.MCMAC (Multi-Channel MAC) [15] is based on LEACH protocol [16]. Each communication cycle comprises an active period and a sleep period. The active period is divided into four stages: synchronous beacon, transmission request, channel scheduling, and data transmission. To reduce the total energy consumption, nodes remain in sleep status more than 98% of the time. Neighboring cluster heads at the control channel negotiate with each other to determine sleep periods in order to avoid inter-cluster interference. Prior to the exchange of data, MCMAC must explicitly reserve a channel and negotiate with the control channel, which necessitates excessive energy consumption.The Multi-Channel Light-weight MAC (MC-LMAC) protocol [17] uses an access scheduling system in which each node is granted exclusive access to a timeslot. MC-LMAC integrates TDMA for timeslot selection and FDMA for contention-free parallel transmission over various channels. Each node has five operational stages: initialization, synchronization, discovery, timeslot-channel selection, and media access. Time scheduled communication eases the coordination of nodes, by enabling dynamic switching between channels to ensure robustness during high-peak loads. Individual nodes have control over a particular channel in the allocated time slot. Time slots and channel assignments are performed in a fully distributed manner to prevent conflict in transmission. A time slot includes a control period during which all of the nodes switch to a common channel as well as a period in which data is transmitted over the assigned channels. However, the overhead associated with the transmission of control messages before each data transfer increases energy consumption.MCCT (Multi-Channel Cluster Tree) [18] is a cluster-tree construction protocol for nodes in IEEE 802.15.4 beacon-enabled mode. MCCT employs ZigBee 27-channel and beacon mode with the Contention Access Period (CAP) and Contention Free Period (CFP) for the assignment of transmission time slots to the nodes. The number of child nodes associated with a given coordinator is limited to reduce incidents of collision. Each coordinator selects one channel over which to communicate with its child nodes. Hence, a node must transmit upward frames in the cluster-tree on the channel selected by its parent. Interfering coordinators are directed to select orthogonal channels to avoid beacon collisions. The use of multiplex transmission over orthogonal channels makes it possible for the MCCT protocol to improve PDR, reduce delays, and ensure fairness.IEEE 802.15.4 includes three data transfer models: from the device to the coordinator, from the coordinator to the device, and between two peer devices [19]. The first two models are for star networks, whereas the last one is for peer-to-peer networks. A mesh topology works in all three models. Depending on whether a beacon frame is used, the IEEE 802.15.4 MAC layer specifications define two transmission modes: non-beacon-enabled and beacon-enabled. Non-beacon-enabled mode makes use of unslotted carrier sense multiple access with collision avoidance (CSMA/CA) to provide distributed control over access to media. Beacon-enabled mode uses contention-based slotted CSMA/CA for access control in the CAP as well as CFP for devices that require dedicated bandwidth or low-latency transmission. The three data transfer models are introduced in the following:1Sending data from the device to the coordinator.The superframe structure of a beacon network is defined by its coordinator. As shown in Fig. 2, the superframe is bounded by network beacons, sent by the coordinator, and divided into 16 slots of equal size. A superframe can be divided into an active portion and an inactive portion. It communicates with network devices only in the active interval and switches to sleep mode to reduce power consumption during inactive intervals.When a device in a beacon-enabled network wishes to transfer data to a coordinator, it first listens for the network beacon, as shown in Fig. 3(A). When a beacon is found, the device synchronizes to the superframe and then at an appropriate time transmits its data frame, using slotted CSMA-CA, to the coordinator. The coordinator acknowledges that data has been received by transmitting an acknowledgment frame. In a non-beacon-enabled network, devices wishing to transfer data simply transmit a data frame, using unslotted CSMA-CA, to the coordinator. The coordinator acknowledges that data has been received by transmitting an acknowledgment frame, as shown in Fig. 3(B).2Sending data from the coordinator to the deviceData transmission from a coordinator is based on requests from devices. In a beacon-enabled network, when the coordinator wishes to transfer data to a device, it indicates in the network beacon that a data message is pending. The device periodically listens to the network beacon and, if a message is pending, transmits a MAC command requesting the data, using slotted CSMA-CA. The coordinator acknowledges that data has been received by transmitting an acknowledgment frame. The pending data frame is then sent, using slotted CSMA-CA. The device acknowledges that data has been received by transmitting an acknowledgment frame, whereupon the message is removed from the list of pending messages. This sequence of operation is outlined in Fig. 4(A). In a non-beacon enabled network, a device periodically sends data request frames to the coordinator to determine whether there are buffered packets to be obtained. Upon receipt of a data request frame, the coordinator checks to determine whether there are frames for the sender. If so, then the coordinator sends an acknowledgement and a data frame to the corresponding device, as shown in Fig. 4(B). The coordinator acknowledges that data has been received by transmitting an acknowledgment frame. If data are pending, then the coordinator transmits the data frame, using unslotted CSMA-CA, to the device. If data are not pending, the coordinator transmits a data frame with a zero-length payload to indicate that no data were pending. The device acknowledges that data has been received by transmitting an acknowledgment frame.3Peer-to-PeerIn a beacon-enabled network, peers are unable to exchange data directly; however, in a non-beacon-enabled network, peers can exchange data directly using unslotted CSMA/CA.In this study, we modified the MCCT architecture proposed by Abdeddaim et al. to enable the creation of multi-channel ZigBee wireless sensor networks. We implemented the non-beacon approach and modified the MCCT architecture with Adaptive Channel Access (ACA) algorithm to overcome hardware limitations as well as the interference imposed by WLAN networks.ZigBee wireless network devices can be divided into full function devices (FFDs) and reduced function devices (RFDs). As shown in Fig. 5, the proposed ZigBee wireless sensor network uses ZB2530 as FFDs. The FFDs use only MAC layer commands in their functions as coordinator, router, or end device. RFDs employ only a few MAC layer commands, which limits their applicability to routers and end devices. The specifications of the devices are listed in Table 1.A star topology, which uses a single channel over which to communicate, is commonly used in Zigbee networks. Fig. 6(A) presents an example of the star topology. Node O is the PAN coordinator and nodes A, B, C, D, E, F, G, and H are end devices. The advantage of the star topology is its simplicity and the fact that packets require no more than two hops to reach their destination. However, the use of only one channel could cause many collisions under the unslotted CSMA/CA protocol. A multi-channel system architecture is therefore used to avoid the problem of collisions, as shown in Fig. 6(B). Node O is also the PAN coordinator; R1, R2, R3, and R4 are multi-channel routers that select one channel over which to communicate with their child nodes. A cluster refers to a set of nodes comprising a coordinator and its child nodes using the same cluster channel for transmission; e.g. nodes A, E, R1 operating on channel 19. In Fig. 6(B), we developed the PHY layer five different channels (Chs. 18–22). Channel 18 is a common channel used for multi-channel routers and the coordinator. In [6], it was mentioned that limiting the number of child nodes could improve the overall transmission rate of the network. The environment in this study was a small home, so the number of nodes was limited to eight, such that each channel uses two nodes.Fig. 7illustrates ZigBee and WLAN channels on the 2.4 GHz band. All of the ZigBee channels overlap the WLAN channels, which makes it impossible to avoid interference between the two, even if the frequency band were changed. IEEE 802.15.4 improves the conditions for coexistence by employing a technique known as frequency division multiple access (FDMA), in which the 2.4 GHz ISM band is divided into 16 non-overlapping channels set 5 MHz apart.As shown in Fig. 7, the selection of the optimal channel for the IEEE 802.15.4 network when the RF environment is congested remains an issue of controversy [21].Fig. 8presents a logical diagram of the proposed Adaptive Channel Access (ACA) algorithm for the selection of communication channels in a ZigBee network, following the initialization of the system and the ACA algorithm. Each node within the network consecutively scans all 16 channels by performing PDR measurements in order to determine their occupancy level. PDR values tend to vary sporadically in time; therefore, each node transmits a total of 50 consecutive packets for use in the calculation of the arithmetic mean of each channel. Fig. 9presents a logical diagram of the coordinator node. The coordinator performs calculations for each channel to ensure that each node contributes to the selection of the optimal channel in accordance with established priorities.Each calculated PDR value is saved in a vector with 16 positions for each channel and an additional position that stores the network topology of the node. This channel access algorithm performs the calculations required for the selection of the optimal channel based on the role of each node in the ZigBee network topology. For instance, the nodes located at the extremity of the network (at a higher network depth) have lower priority in terms of channel access, compared with nodes with a lower network depth. Implicit in this structure is the enabling of links that are more important to the operation of the network. Thus, channels with a higher PDR value are assigned a higher priority. The novelty of the proposed algorithm lies in the fact that each node in the IEEE 802.15.4 network contributes to the global selection of the optimum channel with the highest performance level.Fig. 6 presents the topology of WSNs. In the following, we compare the performance of these two topologies in terms of PDR.In Fig. 6(A), we use various transmission time intervals for the transfer of packets from end devices to the coordinator under both star and multi-channel topologies: 1 s, 1–2 s, and 1–8 s. All measurements were obtained using equipment within the following experiment environment:1.The fact that the distance between nodes is within the range of a single hop made it possible to reduce the impact of this variable.The coordinator and router were provided power via a USB connection, whereas all end devices used battery power.At the end of each round of testing, all devices were reset. Environment parameters are listed in Table 2.As shown in Fig. 10, each node in the star topology transmits one packet per second after the coordinator informs each node of its intention to initiate transmission. All of the nodes transmit packets to the coordinator simultaneously; therefore, they must compete for channels over which to transmit. Unfortunately, this prevents the coordinator from receiving packet for several cycles. For example, the nodes that sent 1250 transmission packets each presented an average PDR of only 2.6%. As shown in Fig. 11, the nodes are divided into two transmission groups. One group transmits 1 packet per second (A, B, C and D) and the other group transmits 1 packet every 2 s (E, F, G and H). This scheme is meant to enhance the rate of packet transmission. In this experiment, the PDR of some nodes (e.g. B, D, E) is still lower than that of other nodes, despite the fact that nodes A, B, C, D release bandwidth to the other nodes following the completion of transmission in each round. This can be attributed to the fact that before bandwidth was released, there was still a high likelihood of packet collision. As shown in Figs. 10 and 11, in our experimental environment, the performance of node F is superior to that of the other nodes due to their ability to gain access to contentious channels. As shown in Fig. 12, all of the nodes are allotted a period in which to transmit packets to the coordinator. The transmission intervals were as follows: Nodes A (1 s), B (2 s), C (3 s), D (4 s), E (5 s), F (6 s), G (7 s), and H (8 s). Compared with Fig. 11, the PDRs under these conditions were increased; however, some of the nodes (e.g. nodes D and E) presented significantly worse performance. Under this environment, the overall traffic of the network would reach its maximum level with an increase in the number of working nodes. At this time collisions started to increase, which subsequently decreased the PDRs of nodes D and E. This led us to employ multi-channel technology similar to the architecture in Fig. 6(B) for the separation of channels to reduce interference and the likelihood of collisions between hidden nodes as well as increase the overall rate of reception. The experiment results are presented in Fig. 13. As shown in Fig. 13, we used the transmission interval times listed in Fig. 12 for the nodes of all end devices, the result of which was an increase in PDR to between 94 and 99%. Table 3lists the number of received packet and the PDR of each node using the schemes in Figs. 10, 11, 12, and 13. Our experiment results demonstrate combining TDMA with multi-channel processing can enhance the transmission performance of all nodes.Figs. 14and 15illustrate the coexistence of ZigBee and WLAN networks without and with the ACA algorithm, respectively. We set the WLAN to channel 8 to ensure interference with the previous channel settings (Chs. 18–21) in the ZigBee network. In Fig. 14, the PDRs decrease to 37% or less due to the overlap of the WLAN signal and the ZigBee channel. From Fig. 15, we discovered that the performance of the multi-channel implementation with the ACA algorithm in an environment of ZigBee coexisting with a WLAN networks is similar to the performance of the same multi-channel implementation without WLAN interference (as shown in Fig. 13). Experiment results demonstrate that the proposed multi-channel scheme improves PDR in situations where ZigBee and Wi-Fi networks co-exist.

@&#CONCLUSIONS@&#
