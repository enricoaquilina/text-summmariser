@&#MAIN-TITLE@&#
Optimal control policies for ambulance diversion

@&#HIGHLIGHTS@&#
We study optimal control policies for ambulance diversion for emergency departments.Goal is to maximize patient welfare by minimizing the average waiting beyond a safety threshold.We formulate an infinite horizon MDP with average cost criterion, and show structural results.Effectiveness of the approach is demonstrated through computational experiments.Managerial insights on such systems are discussed.

@&#KEYPHRASES@&#
Ambulance diversion,Emergency departments,Markov decision processes,

@&#ABSTRACT@&#
Ambulance diversion (AD) is used by emergency departments (EDs) to relieve congestion by requesting ambulances to bypass the ED and transport patients to another facility. We study optimal AD control policies using a Markov Decision Process (MDP) formulation that minimizes the average time that patients wait beyond their recommended safety time threshold. The model assumes that patients can be treated in one of two treatment areas and that the distribution of the time to start treatment at the neighboring facility is known. Assuming Poisson arrivals and exponential times for the length of stay in the ED, we show that the optimal AD policy follows a threshold structure, and explore the behavior of optimal policies under different scenarios. We analyze the value of information on the time to start treatment in the neighboring hospital, and show that optimal policies depend strongly on the congestion experienced by the other facility. Simulation is used to compare the performance of the proposed MDP model to that of simple heuristics under more realistic assumptions. Results indicate that the MDP model performs significantly better than the tested heuristics under most cases. Finally, we discuss practical issues related to the implementation of the policies prescribed by the MDP.

@&#INTRODUCTION@&#
Media and academic papers have highlighted the prevalence of the overcrowding problem in emergency departments (EDs) in the United States (US) during recent years (Associated Press, 2006). One of the major negative impacts of congestion in EDs is the long time that patients have to wait before starting to receive treatment, resulting in seriously adverse events, including death (CNN U.S., 2008; News, 2010). The risk of such adverse events increases when the condition of the patient is severe and when waiting times extend beyond a Recommended Safety Time Threshold (RSTT), which is used by the Center for Disease Control and Prevention (CDC) based on patient severity (which is assessed by various indicators of the health condition of the patient such as vital signs and stability), and the amount of resources required. Reports from the United States General Accounting Office (2009) have highlighted the poor performance of EDs around the US where patients have to wait beyond their RSTT.Researchers and managers of EDs have explored different strategies to reduce congestion and avoid potential implications of long wait times. Hoot and Aronsky (2008) cite ambulance diversion as one of the main approaches hospitals use for demand management in EDs. In particular, hospitals, at times of excessive congestion, may divert ambulances to other neighboring hospitals by requesting emergency medical services to bypass their facilities. This strategy is implemented relatively frequently in US hospitals. According to the United States General Accounting Office, in 2003, 25% or more of the hospitals in several US metropolitan areas were on diversion more than 10% of the time. During 2006, 27.3% of hospitals reported going on diversion, and the average number of hours on diversion during that year were 473hours (United States General Accounting Office, 2009).Although EDs often divert ambulances to tackle overcrowding, this approach can have negative consequences when AD policies are not properly designed. For instance, Yankovic, Glied, Green, and Grams (2010) and Shen and Hsia (2011) indicate that AD might increase mortality among patients with acute myocardial infarction that are transported by ambulance. Consequently, AD decisions should consider various factors such as the current congestion at the ED, severity of the patients, and the status of neighboring hospitals. For example, if a neighboring hospital is relatively near and currently less crowded, then it is more likely that an arriving patient in an ambulance can start receiving appropriate treatment earlier if he/she is diverted from an overcrowded facility. On the other hand, while ambulances can be diverted, EDs do not have control over walk-in arrivals, who, by law, have to be accepted and treated. Therefore, while on diversion, EDs still accept walk-in patients; these patients also contribute to congestion.Empirical studies on AD focus on the effectiveness of various AD approaches, and provide some managerial recommendations to reduce or minimize AD, such as restricting the number of hours spent on diversion by hospitals serving a specific geographic region. The implementation of these guidelines have resulted in significant decreases in the number of hours on AD in the regions of study; this includes San Diego and Sacramento, California (Asamoah, Weiss, Ernst, Richards, & Sklar, 2008; Patel, Derlet, Vinson, Williams, & Wills, 2006; Vilke et al., 2004). Unfortunately, these studies do not discuss the effect of avoiding AD on other performance measures, such as the average patient waiting time.Analytical studies on AD, on the other hand, suggest that appropriate policies could significantly improve the logistical performance of an emergency care system. For example, Deo and Gurvich (2011) modeled the decisions of two EDs using game theoretic approaches with the objective of minimizing the average patient waiting time for each hospital in a system with two EDs. The authors found that a centralized design of diversion policies is Pareto-improving compared to a decentralized strategy, which leads to a defensive equilibrium. The authors also proposed a threshold-type AD policy, but they did not explore the optimality of this type of control policy. Using similar approaches, Hagtvedt, Griffin, Keskinocak, Ferguson, and Jones (2009) analyzed AD, and pointed out the need for a central agent that coordinates AD. Ramirez, Fowler, and Wu (2011) presented a simulation model of an emergency care delivery system to analyze the effectiveness of diversion and destination policies. They evaluated the use of an effective combination of diversion–destination policies as an ambulance flow control mechanism in order to reduce the average time spent in activities with inappropriate level of care, which includes transportation to ED, waiting, and boarding in the ED.In this paper, we are interested in studying effective ambulance diversion control policies that optimize the time to patients’ access to the needed healthcare (at either the considered hospital or at the neighboring hospitals), and address the following research questions: (i) Can optimal AD policies significantly increase the safety of patients by minimizing the time that patients wait beyond their RSTT? (ii) What is the structure of optimal AD policies? (iii) What are the impacts of patient traffic and severity mix on optimal AD decisions? (iv) What is the value of information of knowing severity level of ambulance patients, and about the time to start treatment in the neighboring hospital(s) on the performance of the optimal policy? and (v) How do policies applied in practice perform compared to optimal AD policies?In particular, we explore optimal AD policies for EDs with two treatment areas: an emergent care area and a fast-track treatment area. This is a layout commonly found in EDs around the world (Combs, Chapman, & Bushby, 2006, 2007). We study AD policies characterized by a two-dimensional diversion trigger that accounts for crowding in both of these treatment areas. This structure allows us to explore the impact of various parameters (such as those pertaining to the frequency and severity of patients arriving by ambulance) on optimal ambulance diversion decisions, and study various inherent dependencies in such systems. To the best of our knowledge, this is the first paper that takes into account patient severity levels, regardless of arrival mode (i.e., walk-in or by ambulance), for constructing AD policies.Even though admission control methods are commonly used in various manufacturing and service systems, the AD literature has not considered the use of such methods in the control of ambulance arrivals to date. Early studies on admission control typically focus on the control of a single customer class usingM/M/1queueing models (see Stidham (1985) for a survey). More recently, studies consider control of several demand classes requiring different levels of service. Ha (1997) discusses an inventory control problem of N demand classes that incur different lost sales costs when customers are not admitted into the system. Similar to our setting, Carr and Duenyas (2000) discuss two demand classes, where one of the classes is always accepted into the system (similar to the walk-ins in our model), and the company has an option to reject the arrivals from the other class (similar to the ambulance arrivals in our model). Gupta and Wang (2007) consider one contracted demand class whose orders are always accepted, and one transactional demand class whose orders can be rejected. Similarly, Feng and Pang (2010) consider a long-term contract market whose orders are always accepted, and the spot market whose orders may be subject to rejection. In the recent work of Chen, Chen, Parlar, and Xiao (2011), the authors discuss the admission control problem of the orders coming from an online retailer. All of above discussed studies control demand using accept/reject decisions, similar to our accept/divert decisions.In particular, this paper contributes to the existing literature on AD by presenting a Markov Decision Process (MDP) formulation to obtain optimal AD control policies for a hospital. The objective is to minimize the long-run average expected tardiness per patient, where tardiness is defined as the length of time that a patient waits beyond his/her RSTT, before starting to receive treatment. Hence, we assume that the hospital sets the ambulance diversion policy to optimize the patient welfare (rather than a profit or cost measure) by considering the patient’s options of being treated at their facility versus at a neighboring hospital. We then explore the effectiveness of the obtained policies with respect to other performance measures of interest to the hospital management, such as the average fraction of time on diversion.Assuming Poisson arrivals, exponential length of stay in the ED and two patient severity levels, we analyze the structure of optimal policies using both theoretical and computational analysis. Using theoretical analysis, we show that the optimal diversion policy can be characterized by a threshold curve. Using computational analysis, we further study the structure of optimal AD policies by observing the impact of (i) patient arrival rates, (ii) the severity mix of the patient population, and (iii) the “amount” of available information on the time to start treatment at the neighboring hospital(s). We next present a simulation study, where various modeling assumptions are relaxed to represent more realistic scenarios, and compare the performance of optimal policies with that of other simpler policies used in practice, such as not diverting at all and diverting only when there are no available beds. Computational analysis verifies the superior performance of the optimal policies obtained using our MDP model. In addition, a simple policy that diverts ambulances when there are no available beds for critical patients is shown to yield somewhat satisfactory results in certain cases. We finally discuss possible drawbacks of our approach in practice, and provide some recommendations to overcome these.This study has two main contributions to the health-care literature. First, to the best of our knowledge, it is the first paper discussing optimal control of AD using an MDP formulation. Second, it considers a novel objective that minimizes the time that patients wait beyond a RSTT before starting to receive treatment. Although the AD literature includes various studies that discuss the minimization of time spent in ED, this objective does not take into account the severity of more critical patients, whose treatment delays may result in death. Since the RSTT depends on the severity level of patients, our objective considers the safety of the patient as a performance measure for AD policies, which is a significant measure to evaluate the effectiveness of AD policies according to Asplin (2003). In addition, because our objective is in time units, it does not require any cost parameterizations that have plagued the previous studies.The remaining sections of the paper are organized as follows. Section 2 introduces the model. Section 3 presents some properties of an optimal AD policy. Section 4 analyzes the impact of the level of information on the time to start treatment in a neighboring hospital(s) and the severity level of ambulance patients. Section 5 presents a simulation model to compare the policy prescribed by the MDP formulation with some simple policies used in real-life settings. In Section 6, we analyze issues related to the practical implementation of the AD policies prescribed by the MDP. Finally, Section 7 presents some conclusions and future extensions.We consider an ED with two major arrival streams, each following a Poisson process, which has been discussed as a reasonable approach to model arrivals to EDs (Green, 2006): (i) ambulance arrivals with rateλAand (ii) walk-ins with rateλW. Arriving patients can have one of two types of severity levels: level 1 represents the critical patients, and level 2 are less emergent cases. The use of two severity levels is generally well-justified, since although most Emergency Severity Indices (ESI) consider three to five severity levels, the majority of patients can be grouped under two major categories in terms of the required treatment resources and priority (Saghafian, Hopp, Van Oyen, Desmond, & Kronick, 2012). One group includes patients with an immediate and emergent need for emergency care, and the other group includes patients with urgent and semi/non-urgent needs.The treatment times for the critical (i.e., level 1) patients can be significantly different than the treatment times for the less emergent (i.e., level 2) patients. To protect level 2 patients from waiting behind level 1 patients, most EDs are designed with a fast-track area, which primarily serves level 2 patients. While it is possible to find hospitals without this two-area design, this design is relatively well-established in practice (Cochran & Roche, 2009; Saghafian et al., 2012; Welch, 2009), and supported by evidence on its efficiency from queueing systems research (Hu & Benjafaar, 2009; Saghafian et al., 2012). Hence, in this study, we assume that the ED has two treatment areas dedicated to each severity level: A1 (emergent care), which treats patients of severity level 1, and A2 (fast-track), which treats patients of severity level 2. However, the model presented in this paper can be modified to accommodate a system with a single pooled area that serves all customers, as will be discussed later.We assume that each arriving ambulance patient is level 1 with probabilityp1A, and level 2 with probability1-p1A. Similarly, walk-in patients are level 1 with probabilityp1W, and level 2 with probability1-p1W. The parametersp1Aandp1Wcan be estimated through the use of historical data. We refer to the tuple (p1A,p1W) as the “severity mix.” Upon admission to the ED, patients are first identified as level 1 or level 2, and they are served in the order of their arrival at the corresponding area (i.e., A1 or A2). If all beds in the appropriate area are occupied, then an arriving patient waits in a first-come-first-served (FCFS) queue corresponding to his/her treatment area. The number of staffed beds is denoted byc1for A1 andc2for A2.Once a patient accesses a bed in the corresponding area, the patient remains in the bed for some amount of time referred to as “length of stay.” The length of stay considered in this paper may include activities such as treatment (bedside assessment, interactions with the physician, tests, and delivery of medications) and discharge process, as well as a boarding time due to the crowding in inpatient units. We assume that the length of stay of a level i patient is a random variable distributed exponentially with rateμifori∈{1,2}. While the exponential distribution may not be a very good fit to represent the total length of stay, it is commonly used in the literature due to its analytical tractability (see, for example, Deo & Gurvich (2011)). In Section 5, we relax this assumption and develop a simulation model using more realistic distributions such as the lognormal distribution.The state of the system can be represented by the tuple(n1(t),n2(t)), wheren1(t)andn2(t)represent the number of patients in the system with severity level 1 and level 2 at time t, respectively. We drop t from the notation and denote the state space asS={(n1,n2):n1⩾0,n2⩾0}. The flow of patients in the ED is depicted in Fig. 1.To ensure the existence of a solution for our MDP model, we assume that the total arrival rate is less than the total departure rate in each treatment area (Bertsekas, 2001), that is,(1)p1AλA+p1WλW<c1μ1,and(1-p1A)λA+(1-p1W)λW<c2μ2.In our computational analysis, we limit the total number of patients in the system to eliminate the need for a stability condition as given in Eq. (1). Therefore, this condition is relaxed in our computational analysis.The objective is to find a state-dependent ambulance diversion policy that minimizes the long-run average expected tardiness per patient (denoted as ETP henceforth) over an infinite horizon. Different from the traditional settings, we refer to tardiness as the non-negative difference between the total waiting time of the patient in ED and the RSTT of the patient (denoted asdifor severity leveli∈{1,2}). We assume thatd1<d2; therefore, the difference in the RSTT provides a “natural” weight that severely penalizes the objective as the waiting time of critical patients increases. Our theoretical results also hold for the commonly used objective of “minimization of total waiting time in ED,” as we discuss later.We letTi(ni),i∈{1,2}denote the expected tardiness of an arriving patient with level i given that there arenipatients with severity level i in the system upon his/her arrival. We have(2)Ti(ni)=∫di∞(x-di)fi,ni(x)dx,wherefi,ni(·)denotes the probability density function (pdf) of the waiting time of a level i patient that observesnilevel i patients in the system upon his/her arrival. Ifni<ci, we haveTi(ni)=0. Forni⩾ci, since length of stay in the ED is exponential with rateciμi,fi,ni(·)is the pdf of the Gamma distribution with parametersni-ci+1andciμi. The expressionTi(ni)forni⩾ciis evaluated using Laplace transforms in Theorem 1 of Hafizoglu, Gel, and Keskinocak (2013). The closed-form expression forTi(ni)is provided in Eq. (3).(3)Ti(ni)=e-diciμiciμi∑k=0ni-ci(diciμi)kni-ci+1-kk!,ifni⩾ci,0,ifni<ci.When an ambulance is diverted, the patient is sent to a neighboring hospital for treatment. To reflect the impact of diverting the ambulance on the patient’s time to treatment, we model the time to start treatment at the neighboring hospital as a random variable,Xifor the patient severity level of i, and calculate the patient’s tardiness value based on this random variable, if a diversion decision is made. Note thatXiwould include any additional time that may be incurred to travel to a further-away facility, as well as the waiting time inside the ED of that hospital.Ideally, the distribution ofXishould be a function of the current status (e.g., congestion) of the neighboring hospital that the patient is diverted to, or at least dependent on the recent instances of diversions. Due to the fact that such considerations would make the problem analytically intractable, our model makes the simplifying assumption thatXiis stationary over time, which is valid for cases in which the neighboring hospital is a relatively big facility, or the hospital uses some intelligent diversion such that patients are diverted to multiple hospitals in the region, so that no one hospital is adversely affected by the congestion due to diversion of patients. In Section 5, we use simulation to explore the impact of nonstationaryXiover the course of a day to account for the increased traffic during certain parts of the day, which is likely to result in more diversions to the neighboring hospital from the hospital under consideration. While this is not a direct method of accounting for the effect of events like “multiple diverted patients within a short period of time,” it is a method to obtain some insights since repeated diversions that are likely to have an effect onXiare likely to occur during periods of high traffic.We note here that the issue of how ambulance diversion decisions made by one hospital locally impacts the performance at another one is a question that has attracted attention in the literature. Deo and Gurvich (2011), for example, show that, non-cooperative diversion decisions between hospitals may indeed lead to a defensive equilibrium, in which hospitals have to avoid diverting patients when all of them get overcrowded and the benefits of regional resource pooling are null.The expected tardiness of a diverted patient with level i is denoted asTiDfori∈{1,2}, and evaluated as in the following equation:(4)TiD=∫di∞(x-di)fi(x)dx,wherefi(x)is the pdf ofXifor level i patient, and can be different for level 1 and level 2 patients.We assume that the ambulance crew communicates with the ED to learn if the patient can be taken to the hospital or not. Then, the decision maker in the ED chooses to divert or accept the ambulance depending on the current state of the system. This assumption is in line with the diversion guidelines formulated by the American College of Emergency Physicians stating that diversion criteria must be based only on hospital capacity and not on financial decisions (American College of Emergency Physicians, 1999). In addition, it is assumed that the severity of the patient is not known at the time that the diversion decision is made, although this assumption will be relaxed and studied later on.The continuous-time MDP model is converted to an equivalent discrete time model using uniformization with rateν=λA+λW+c1μ1+c2μ2. Letv∗denote the optimal ETP andh∗(n1,n2)denote the optimal relative effect of starting in state(n1,n2). The Bellman’s equation, for each(n1,n2)is given as(5)v∗λW+λAν+h∗(n1,n2)=λWp1Wν[T1(n1)+h∗(n1+1,n2)]+λW(1-p1W)ν[T2(n2)+h∗(n1,n2+1)]+c∼1μ1νh∗(n1-1,n2)+c∼2μ2νh∗(n1,n2-1)+minλAp1Aν[T1D+h∗(n1,n2)]+λA(1-p1A)ν[T2D+h∗(n1,n2)],λAp1Aν[T1(n1)+h∗(n1+1,n2)]+λA(1-p1A)ν[T2(n2)+h∗(n1,n2+1)]+1-λW+λA+c∼1μ1+c∼2μ2νh∗(n1,n2),wherec∼i=niifni⩽ci,ci,ifni>ci,fori∈{1,2}.The first two terms on the right hand side of Eq. (5) refer to the walk-in patients with severity level 1 and level 2, respectively. The third and fourth terms represent the departure events, which decrease the number of patients in A1 or A2 by one, depending on the severity level of the departing patient. The first term inside the minimum statement represents the average tardiness if an arriving ambulance patient is diverted, whereas the second term represents the average tardiness if the ambulance patient is accepted to the hospital. The last term corresponds to a self loop due to uniformization.We note that the objective function can be changed easily to minimizing the weighted average expected tardiness per patient in the long run by adding weights to the tardiness expressions. These weights may depend on the severity level, with the weight given to the tardiness of level 1 patients being greater than the weight given to the tardiness of level 2 patients.Having two treatment areas is a common and suggested practice (Cochran & Roche, 2009; Combs et al., 2006, Combs, Chapman, & Bushby, 2007; Pennsylvania Patient Safety Advisory, 2010; Sanchez, Smally, Grant, & Jacobs, 2006; Victorian Government Department of Human Services, 2008), but certainly it is not universal. Modeling an ED with a single pool of beds with prioritized high severity patients requires three modifications on our model. First, we would need to define a total number of staffed beds c, which would be equal toc1+c2in our current model. Second, since the length of stay of patients differ by their criticality, we need to add one more state variable into our model to keep the number of level 1 (or 2) patients that are currently being treated. Accordingly, the optimality equations would be changed. Third, the FCFS assumption will no longer be valid in this case, since some sort of prioritization of level 1 patients would be more acceptable. While the computation of expected tardiness would be much more complicated, it is still doable using Laplace transforms, similarly to the approach in Hafizoglu et al. (2013), which consider arrivals from two classes of customers with a prioritized class. The only modification to that derivation would be to consider differential service rates for level 1 and level 2 customers.A plausible alternative to the two extreme cases of completely separated and pooled treatment areas is to implement intelligent sharing of resources between the two physically separate treatment areas, as necessary. Such approaches have been studied and termed as “virtual streaming” by Saghafian et al. (2012). Our models do not consider such resource sharing protocols between the two treatment areas for the sake of tractability. However, we note that the use of virtual streaming strategies could only improve the performance of the system (since not sharing is a viable option), and it is possible to construct a mapping between the actual state of the system (i.e., the number of patients of different severity levels in each of the treatment areas) and an effective state (i.e., equivalent numbers of severity level 1 patients in area A1 and level 2 patients in area A2), which could be used to determine the ambulance diversion decision. We expect such an approach to provide an effective heuristic.Other resources found in EDs such as physicians, nurses, and medical equipment are not included directly in the model. However, we note that the treatment time distributions that we assume in our decision and simulation models are selected so that the availability of these resources are considered. For example, the treatment time for the patient includes all interactions by the physician as well as the time that the patient spends waiting for his/her physician in the ED bed. Similarly, we consider boarding as a possibility due to the unavailability of beds in the inpatient units, and while we do not explicitly model the inpatient units, we consider representative values for the boarding time as part of the treatment time. This aspect is considered and analyzed in Sections 3.2 and 5.In this section, we derive some properties of the optimal solution to the Bellman’s equation given in (5), and analyze the impact of parameters on the optimal solution using computational analysis in Sections 3.1 and 3.2, respectively.In Theorem 1, we show that the optimal diversion policy is characterized by a monotonic threshold curve. This result also justifies the common use of threshold-type policies used previously in the AD literature (Deo & Gurvich, 2011; Hagtvedt et al., 2009).Theorem 1There exists a threshold curveΔ(n1), such that it is optimal to divert incoming ambulances whenn2>Δ(n1), and accept them whenevern2⩽Δ(n1). Furthermore,Δ(n1)is non-increasing inn1.The proof is included in the Online Supplement. □In Fig. 2, we illustrate Theorem 1, whereΔ(n1)is shown by the representative non-increasing curve. It is optimal to divert an ambulance ifn2>Δ(n1), that is, if the state is located above the curve. In words, the state space above the curve denotes the cases where the ETP added from accepting incoming ambulance patients (i.e., second term within minimization in Eq. (5)) is greater than the ETP added from diverting them (i.e., first term within minimization in Eq. (5)).Note that one can obtain the same result in Theorem 1 for the objective of “minimization of total waiting time in ED,” since the patients’ waiting time, similarly to our objective,Ti(ni), is non-decreasing in the number of patients in the ED. The same result also holds for Theorems 2 and 3.We next discuss the impact of the magnitude ofXion the thresholds in Theorem 2 and Corollary 1. Noting thatTiDis a function ofXi, in Theorem 2, we show that the increase inTiDpushes the threshold curve in the upward direction, and results in higher optimal ETP’s.Theorem 2Δ(n1)is non-decreasing inT1DandT2D.The proof is omitted in the interest of saving space, and can be obtained from the authors. □Theorem 2 states that increases inTiDshift the threshold curve “up.” In Corollary 1, we state a similar result with respect toXiusing stochastic order relations.Corollary 1LetXi‾andXi̲be two random variables whereXi‾⩾stXi̲fori=1,2(i.e.,Xi‾is stochastically larger thanXi̲). Furthermore, letΔ‾(n1)andΔ̲(n1)be the threshold curves and optimal ETP obtained by solving the problems withXi=Xi‾andXi=Xi̲, respectively. Then, we haveΔ‾(n1)⩾Δ̲(n1).The proof is included in the Online Supplement. □Given two random variablesXi‾andXi̲withFXi‾(a)⩽FXi̲(a)for all a, whereF(·)denotes the corresponding cumulative distribution function, we obtain higher threshold levels and optimal ETP’s forX‾. For example, letXi‾andXi̲be uniform and triangular random variables with parameters[15,35]and[15,25,30]minutes fori=1,2, respectively. One can simply show thatXi‾⩾stXi̲, and hence, obtainΔ‾(n1)⩾Δ̲(n1)using Corollary 1.Similar to Theorem 1, 2 and Corollary 1 offer computational time improvements. Given the threshold curveΔ‾(n1)(Δ̲(n1)), and the inequalityΔ‾(n1)⩾Δ̲(n1)obtained from Theorem 2 and Corollary 1, one knows that optimal decision is on-diversion (off-diversion) for all(n1,n2), wheren2⩾Δ‾(n1)(n2⩽Δ̲(n1)) in the problem solved withX=Xi̲(X=Xi‾).In this section, we explore the behavior of the optimal policy using computational analysis. Our objective in these computational studies is to obtain some general insights on the effectiveness of the different policies that we consider. For this purpose, we used a number of sources from the literature, as well as data and information obtained from our partners at a local hospital to determine the below stated experimental parameters. The insights obtained on this section are applicable to a large variety of EDs sizes. Accordingly, in all of the experiments, we fix the values ofc1,c2,μ1,μ2,d1andd2as indicated in Table 1, and vary the values of the other parameters to test the system behavior under various scenarios.Number of staffed beds,c1andc2: 15 and 5 are the closest values to the average number of beds in treatment spaces in real-life EDs (an average of 14.6 beds in standard treatment spaces and 5 beds for other treatment spaces) (Centers for Disease Control & Prevention, 2006). According to this report, 57.5% of EDs in Metropolitan Statistical Areas (MSA) and 97.8% of EDs in Non-MSA have less than 20 standard treatment spaces and 49.9% of EDs in MSA and 87.9% of EDs in Non-MSA have less than 5 other treatment spaces. Furthermore, the percentages of EDs with between 10 and 19 standard treatment spaces are 36.1% for MSA and 12.1% for Non-MSA. Therefore, proportionally, the size of the ED chosen for experimentation is representative for many EDs around the US.Service ratesμ1andμ2: To setμ1andμ2, we estimate two time values: (i) actual treatment time and (ii) boarding time of patients in ED. The treatment time denotes the actual time that the patient spends on an ED bed receiving treatment. Boarding time, on the other hand, denotes the additional time that a patient spends on the ED bed waiting for an open bed in an inpatient unit. Hence, boarding delays the time to start treatment in the ED. Several sources have identified boarding patients as a cause of congestion in EDs (Asplin, 2003; Centers for Disease Control & Prevention, 2006; McConnell et al., 2005; United States General Accounting Office, 2003).The average actual treatment times are set to 4 and 1hours for emergent and fast-track care, respectively. The first value is close to the average treatment time for immediate and emergent patients, given in several sources (Centers for Disease Control & Prevention, 2004; Cochran & Roche, 2009; Hoot et al., 2008). The fast-track treatment rate is close to the value observed in Cochran and Roche (2009) for semiurgent and nonurgent patients.In order to define the boarding time, we used data from Singer, Thode, Viccellio, and Pines (2011) to assume an average boarding time of 3.58hours, which is a value that matches the findings by the United States General Accounting Office (2003). Furthermore, using the findings of Singer et al. (2011), we assumed that 24% of patients with level 1 and 4.5% of patients with level 2 require transfer to an inpatient unit after ending treatment in the ED. This implies that 12.1% of all ED patients are transferred, which is the same value found by Singer et al. (2011) and very similar to the average percentage of admitted patients from the ED according to the CDC (Centers for Disease Control & Prevention, 2006), which is 12.8%. Using this information, the average boarding time is chosen to be 0.86hours and 0.16hours for levels 1 and 2, respectively, which gives a total of 4.86 and 1.16hours service time for level 1 and level 2 patients, respectively. Thus, we setμ1=0.20andμ2=0.86patients per hour.RSTT,d1andd2:d1is set to 15minutes, which corresponds to the second most emergent level in the ESI; this category is usually referred as “less than 15minutes.”d2, on the other hand, is set to 90minutes, which corresponds to an average of the third and fourth ESI indices, usually referred as urgent (“1hour”) and semi-urgent (“2hours”) (Centers for Disease Control & Prevention, 2004).Arrival ratesλW,λA, and severity level probabilitiesp1Aandp1W: We consider low, medium and high levels of traffic, which is quantified by the Utilization Due to Walk-in Arrivals (UDWA) (note that walk-in arrivals cannot be controlled using AD).(6)UDWA1=p1WλWc1μ1,andUDWA2=(1-p1W)λWc2μ2,whereUDWA1andUDWA2denote the Utilization Due to Walk-in Arrivals in A1 and A2, respectively. We usemax{UDWA1,UDWA2}=60%,75%and 90% to model the low, medium and high levels of traffic, respectively. The area with the highest utilization is referred to as the “congested area”. For example, when traffic level is medium andp1W=0.3, we findλW=5.36, which givesUDWA1=43%andUDWA2=75%, indicating that the congested area is A2. When traffic level is medium andp1W=0.5, on the other hand, we obtainλW=5.63,UDWA1=75%andUDWA2=56.25%, which implies that the congested area is A1. Furthermore, for any combination of traffic intensity and severity mix, the value ofp1Wdetermines the congested area in the ED. Hence, ifp1W=0.3, then the congested area is A2; whereas ifp1W=0.5, then the congested area is A1.The proportion of ambulance arrivals was fixed to be 15% of all arrivals, i.e., we setλAλA+λW=0.15. This value is very close to the national average of the percentage of ambulance arrivals to EDs in the United States, which is 15.5% (Centers for Disease Control & Prevention, 2007).Distribution ofXi: In all of our analysis in this section, we chooseXito be deterministic, with the tested values shown in Table 1. The impact of randomness ofXiis analyzed in Section 4. We note that choosingXivalues lower than 15 and higher than 120minutes result in unrealistic optimal policies such as always diverting or never diverting (recall thatd1=15andd2=90minutes). We also conduct a preliminary computational analysis using the three settings ofk∈{0.5,1,2}, whereE[X1]=kE[X2], whileE[X2]is changed as given in Table 1. We observe that the value of k does not affect the threshold curves. Hence we assumeX1andX2to be independent and identically distributed in all our analysis. Furthermore, we use X to denote bothX1andX2in the remainder.We used 500 as the upper limit for the number of patients in the system in order to implement the relative value iteration algorithm. Such an upper limit also allows us to relax the stability condition given in the expressions in Eq. (1). This upper limit is large enough to approximate the infinite capacity assumed in Section 2 while ensuring a reasonable execution time of the relative value iteration algorithm.In Figs. 3–5, we analyze the impact of (p1A,p1W), traffic intensity and X, respectively. In all of the figures, we observe non-increasing threshold curves, whose existence was proven in Theorem 1. Fig. 3 presents the threshold curves for four different values of (p1A,p1W) under medium traffic and a deterministic value ofX=45minutes.As shown in Fig. 3, the congested area determines the shape of the threshold curve. It is expected that most ambulance patients will be critical patients; therefore, if the congested area is A2, then the optimal policy initiates diversion only when all of the beds in A1 are occupied for low values ofn2. However, if the congested area is A1, then the optimal policy initiates diversion much earlier in order to save beds in the congested area for future demand (possibly walk-ins). Hence, AD is an effective mechanism to alleviate congestion from A1, but it is not as effective when the congested area is A2. In the next sections, we present statistics that show significant reductions on ETP when the congested area is A1. From a practical point of view, saving beds for future demand might not be acceptable by healthcare administrators, especially in the case of emergent care beds in the ED. Nevertheless, in the case of an emergency situation that affects a large proportion of the population (e.g., an earthquake or terrorist attack), an ED located in the affected zone might divert ambulances to other hospitals and save resources for the walk-in arrivals of injured people.In addition, the effect of the difference in RSTT values and treatment rates can be seen in Fig. 3. Any optimal policy plotted in this figure allows a queue in area A2 before diverting ambulances; that is, the thresholds observed inn2are greater than 5, which is the value set forc2. The size of the queue allowed in A2 before diverting ambulances is smaller if that area is the congested one. On the other hand, queueing is not allowed in the emergent care area A1; that is, the thresholds observed inn1are smaller than or equal to 15, which is the value set forc1.Figs. 4(a) and (b) demonstrate how threshold curves change with traffic intensity whenX=45minutes and congested areas are A1 and A2, respectively.In general, the higher the utilization in the congested area is, the lower the threshold to initiate diversion. However, changes in the thresholds are more evident if the congested area is A1. That is, if the congested area is A1, AD policies might initiate diversion even when there are plenty of beds available in A1. Since patients arriving by ambulance are more likely to be critical patients, the optimal policy changes significantly inn1in order to manage the traffic. For example, when the congested area is A1 and there is high traffic intensity (90% UDWA), the optimal policy diverts all the time. For medium traffic, the optimal policy accepts some patients, but it saves almost half of the emergent care beds for future demand. For low traffic, the optimal policy saves only few beds in A1 before diverting ambulances. On the other hand, if the congested area is A2, the threshold inn1is also around the value ofc1for low values ofn2, and the thresholds inn2allows patients waiting in A2.We finally discuss the impact of the magnitude of X on the thresholds in Figs. 5(a) and (b).As observed in Fig. 5, the threshold curves increase in X. The result is due to the fact thatT1DandT2Dincrease in deterministic X, which implies thatΔ(n1)is non-decreasing in X from Theorem 2. For a deterministic value of X=15minutes, the optimal policy diverts all the time, regardless of which area is the congested one. This is due to the fact thatd2>d1=15minutes, and hence, the policy diverts all of the ambulance patients with a guarantee of zero tardiness. However, as the time to be seen in another hospital increases, the optimal policy increases the threshold that initiates diversion. If the congested area is A1, the optimal policy might save several beds in A1 for future demand when X has a moderate value. But as X increases beyondd2, the optimal policy approaches initiating diversion only under full occupancy in A1. If the congested area is A2 as shown in Fig. 5(b), the threshold inn1increases with increases in X, and might even allow a small queue, depending on the traffic intensity.In this section, we discuss the value of two types of information in ambulance diversion: (i) the status of neighboring hospitals and (ii) the severity of the ambulance patient. We use the computational settings provided in Section 3.2.The model presented in Section 2 assumes that the hospital under study has some information about the time to start treatment in a neighboring hospital if patients are diverted. This time is related to multiple state variables of the neighboring hospital, such as crowding conditions, staffing, availability of lab and equipment, and even traffic conditions. The level of information on these variables determine the accuracy of the estimation of X proposed in the model.In this section, we analyze the value of information on the time to start treatment in the neighboring hospital. We assume that the decision maker at the ED knowsE[X], however, does not have exact knowledge about the distribution of X, and evaluates the threshold curves using a possibly incorrect X distribution. We consider three different values ofE[X]∈{15,45,75}, and conduct a test where the distribution of X used in the calculation ofTiDin Eq. (4) is either deterministic (D), uniform distributed (U) or triangular distributed (T), as shown in Table 2. For each combination of distribution and expected value, there is one instance that has larger variability than the other. These cases are referred to as small (S) and large (L) variability cases.Note that the value of information on the distribution of X is significant in the case where ED evaluates a wrong threshold curve, which may lead to significant increase in ETP. On the other hand, if ED happens to obtain and use the right threshold curve (even assuming a wrong distribution of X) there is no value of knowing the exact distribution of X. Thus, we focus on the threshold curves obtained using the above distributions, and analyze the cases where the an incorrect threshold curve obtained. In Fig. 6, we depict the threshold curves under medium traffic for the tuple(Distribution,E[X],Variability), where Distribution∈{D, U, T},E[X]∈{15,45,75}and Variability∈{S, L}.One clearly observes that the distribution and variability of X typically have a relatively small impact on threshold curves, since threshold curves with the sameE[X]generally overlap each other for most of the threshold curve. In particular, forE[X]=45minutes, we obtain the same threshold curves regardless of the distribution and the variability of X. In addition, under some cases, we observe a small upward shift in the threshold curve when the variability increases; this is observed particularly whenE[X]=75minutes. These results can be attributed to Theorem 2, which indicates that a change in the distribution and variability of X may change the value ofT1DandT2D(see Eq. (4)), resulting in a shift of the threshold curves. For example, whenE[X]=45minutes, in all cases we haveT1D=60andT2D=0minutes giving the same threshold curves in all cases. On the other hand, whenE[X]=75minutes, we haveT2D=1.002, andT2D=6.12minutes, for the uniform distribution with small and large variability, respectively, resulting in an upward shift of the threshold curve for the uniform distribution with large variability given in Fig. 6.As observed in Fig. 6, the value of information is not significant whenE[X]=15and 45minutes. We next analyze the value of information whenE[X]=75, assuming that the actual distribution of X is Deterministic, U(50,100), U(25,125), T(50,75,100), or T(25,75,125), whereas ED considers one of the other four when computing the diversion policy. We test for all 20 possible cases, and indicate the percentage ETP increases in Table 3.As observed in Table 3, wrong information on the distribution of X results in quite an insignificant increase in ETP, where the highest observed increase is 0.0009%. This analysis is also conducted for low and high traffic levels,E[X]∈{15,45,75}minutes, and also considering the settings where the congested area is A2. Hence, the total number of experiments are 360. These results show that the wrong estimation of X distribution result in an highest ETP increase of only 0.23minutes. Hence, we conclude that knowing the exact distribution of X does not improve ETP values significantly, as long as ED knows the expected value of X. However, it is worthwhile to note that the distribution of X may definitely have a significant impact on other performance measures. For instance, a highly variable distribution of X may produce a relative high fraction of patient waiting beyond their RSTT.In Section 2, we assume that the severity level of patients transported by ambulance is not known in advance to their arrival to the ED. In this section, we assume that the ED has information about the severity level of the patient upon arrival by ambulance. The optimality equation for the new model is obtained by replacing the minimization term in Eq. (5) with the expression in Eq. (7).(7)minλAp1Aν[T1D+h∗(n1,n2)]+λA(1-p1A)ν[T2D+h∗(n1,n2)],λAp1Aν[T1(n1)+h∗(n1+1,n2)]+λA(1-p1A)ν[T2(n2)+h∗(n1,n2+1)],λAp1Aν[T1D+h∗(n1,n2)]+λA(1-p1A)ν[T2(n2)+h∗(n1,n2+1)],λAp1Aν[T1(n1)+h∗(n1+1,n2)]+λA(1-p1A)ν[T2D+h∗(n1,n2)].Note that, unlike (5), where there are two possible actions, we consider four actions in (7). The four terms inside of the minimization term correspond to (i) divert all the patients, (ii) do no divert any patient, (iii) divert only patients with severity level 1, and (iv) divert only patients with severity level 2, respectively. This model allows us to determine diversion decisions based on the knowledge of the severity level of patient in addition to the current status of ED. The model assumes that diversion decisions are made while patient is being transported by ambulance. Therefore, we assume that if a patient is not diverted, the state of the system does not change prior to his arrival.We conduct a computational study based on the parameters defined for the experimentation in Section 4.1. We computed the percentage of improvement on the ETP when severity level of the ambulance patient is known in advance to his/her arrival (model in Eq. (7)) compared to unknown severity level (model in Eq. (5)). The results are presented in Table 4.Similar to observations in Section 4.1, percentage of improvement increases as the variability of the distribution of X decreases and as theE[X]increases. However, the most important observation from this table is that the improvement on the ETP when ambulance patient severity level is known is significantly higher when the congested area is A2. On the other hand, when the congested area is A1, the knowledge of the ambulance patient severity level is almost irrelevant.This is due to the fact that most ambulance patients are level 1; therefore, ambulance diversion decisions in both models manage the traffic of A1 in an effective way. However, when the congested area is A2, the model with perfect information on the severity level of ambulance patients is able to make better decisions for those patients. Thus, the model in Eq. (7) allows diverting level 2 patients only when that decision can improve the performance of the system based on the congestion level of A2; while the model in Eq. (5) tends to establish the decision thresholds based primarily on the congestion level of A1 only. Hence, the model presented in this section can manage traffic in both areas more effectively.One insight from this section is that the assessment and communication of patient severity level may provide significant benefits when there is a high level of congestion in A2. This might be the case during the flu season where more people might attend EDs looking for treatment. Similarly, the change of health insurance status may lead to increased visits to EDs, some of them being non-urgent (Ginde, Lowe, & Wiler, 2012). On the other hand, in hospitals where a significant fraction of patients are level 1, however, communication of patient severity level does not bring significant ETP improvements, and hence, can be skipped.The MDP proposed in this paper assumes stationary arrival rates and exponential length of stay in the ED. However, there is evidence that these assumptions do not sufficiently represent real-life settings. In this section, we relax these assumptions and explore the impact of more realistic assumptions that are commonly observed in EDs across the US, using a discrete-event simulation model. In addition, the AD policy prescribed by the MDP formulation is compared with the following simple AD heuristics.(1)Full Beds in A1 (FB A1): Since most of the ambulance arrivals are critical patients, this policy diverts when all of the beds in area A1 are occupied (i.e., whenn1⩾c1).ΘBeds Occupied in A1 (ΘA1): This policy initiates diversion whenΘbeds in A1 are occupied. We test this heuristic withΘvalues of 12, 13 and 14.Full Beds in A1 or in A2 (FB A1/A2): This policy diverts an arriving ambulance when there is at least one area with all beds occupied (i.e., whenn1⩾c1orn2⩾c2).Full Beds (FB): This policy diverts an arriving ambulance only when all of the beds in the ED (both A1 and A2) are occupied (i.e., whenn1⩾c1andn2⩾c2).Myopic policy (Myopic): This policy diverts an arriving ambulance only if the expected tardiness for the current ambulance patient at the neighboring hospital is smaller than the expected tardiness if he/she is accepted. Thus, under the myopic policy, the ambulance is diverted only whenp1AT1D+(1-p1A)T2D⩽p1AT1(n1)+(1-p1A)T2(n2).No AD policy (No AD): This policy does not divert patients at any time.We modify the MDP settings used in Section 3.2 as follows:Several sources have identified a pattern in the ED arrivals across the US (Centers for Disease Control & Prevention, 2006; Cochran & Roche, 2009; Green, 2006). This pattern exhibits low traffic between 1am and 8am approximately. Then, the rate of arrivals increase between 8am and 10am, and remain at a high level between 10am and 11pm. Then, a decline in the rate of the arrivals is observed between 11pm and 1am. In order to consider this pattern in our simulation model, we adopt the arrival rate pattern used by Cochran and Roche (2009). The authors present an hourly multiplicative index that indicates the traffic intensity compared to the average arrival rate. Fig. 7is taken from Cochran and Roche (2009), and it shows the change in the arrival multiplicative index throughout the day.In order to mimic the arrival pattern of Cochran and Roche (2009), we set arrival rates as follows. We first find aλWsuch thatmax{UDWA1,UDWA2}=90%, and set thisλWas the walk-in arrival rate for the highest peak hour, which is from 7pm to 8pm with a multiplicative index of 1.45. For example, for the setting (p1A,p1W)=(0.9,0.5), we obtainλW=6.75, which gives the arrival rate used for 7–8pm in the simulation model. We next scale the walk-in arrival rates using the multiplicative indices to obtain the arrival rates for every hour during the day. For example, for the setting (p1A,p1W)=(0.9,0.5), the arrival rate between 1am and 2am, which has a multiplicative index of 0.6, is chosen as0.61.45×6.75=2.793. Then, the hourly ambulance arrival rates are calculated such that they represent 15% of the total arrivals to the ED (Centers for Disease Control & Prevention, 2007).Similar to settings in Section 3.2, we use two different severity mixes with (p1A,p1W) as (0.9,0.5) and (0.9,0.3), which make A1 and A2 the congested areas, respectively. Furthermore, low, medium and high traffic levels denote the traffic levels at hours where the multiplicative index are in between [0.4,0.75], [0.75,1.1], and [1.1,1.45], respectively (see Fig. 7).The arrival pattern observed in most EDs across the United States suggest that traffic in neighboring hospitals are positively correlated (United States General Accounting Office, 2003). Therefore, it is very likely that if an ED experiences high traffic, a neighboring hospital also is experiencing high traffic, increasing the waiting times of the diverted patients. To model this fact, we assume that the parameters for the distribution of X change depending on the level of traffic intensity at the ED under study. We consider three settings for the parameters of X, where Settings 1, 2, and 3 denote the cases with low, medium and high correlation between the traffic levels of the ED under study and the neighboring hospitals. X is assumed to have a triangular distribution withE[X]having minimum and maximum values of 15 and 120minutes, respectively. The parameter settings are presented in Table 5. The coefficient of variation of X is set to 0.2722 in all cases for consistency, because we use a minimum of 5minutes for the value of X (note that a value less than 5minutes is quite unrealistic).The treatment times in areas A1 and A2 are assumed to be lognormally distributed, which is one of the distributions identified in Hoot et al. (2008) to represent treatment times in healthcare. The expected treatment times used in the simulation model remain 240minutes and 60minutes for patients treated in areas A1 and A2, respectively. The standard deviation was adjusted to match the coefficient of variation of treatment times found in Cochran and Roche (2009). Therefore, the standard deviation of treatment in A1 was set to 173.88minutes, yielding a coefficient of variation of 0.72; and the standard deviation of treatment in A2 was set to 6.12minutes, yielding a coefficient of variation of 0.102.In the simulation model, a boarding patient does not release the ED bed before an additional amount of time referred to as boarding time. Unlike Section 3.2, where we use an average boarding time, the boarding time in the simulation model is assumed to be uniformly distributed in between [0,2], [2,6], [6,12], and [12,24]hours with probabilities 0.5022, 0.3705, 0.0763 and 0.051, respectively. Furthermore, we use the same boarding probabilities used in Section 3.2 for each severity level. Hence, the average boarding time produced is 3.58hours.We also use the simulation model in order to test the performance of the policy prescribed by the MDP. In our preliminary analysis, we consider stationary arrival rates of the overall daily average, and test four MDP strategies differentiated with respect to the parameters of the distribution of X: (i) the parameters of the distribution of X during high traffic hours; (ii) the parameters during medium traffic hours; (iii) the parameters during low traffic hours; and (iv) the overall daily average of the parameters of the distribution of X. The preliminary experiments show that the MDP solved with the overall daily average rate for the parameters of X outperforms all others. Hence, the overall daily average is used to derive the optimal AD threshold by the MDP model. For each simulation setting, we solve the MDP model first, and then the obtained AD control policy is implemented in the simulation model to estimate its performance.The ED modeled in this section is representative of a smaller-sized ED with high congestion during peak times, which is the most important factor for going on diversion. There are other elements that could be observed in EDs that are not included in the model: patients leaving without treatment and virtual capacity. The former refers to patients that decide to leave the hospital without initiating treatment because of their long wait and the latter refers to the use of other types of resources, such as chairs or beds allocated in hallways, to deliver treatment to patients during high congestion episodes. These two elements may help reducing congestion on the ED. Therefore, the ETP and diversion statistics shown in the results might be overestimated. However, the insights provided about the performance of the diversion policies compared with other policies remain valid since the effect of including the two aspects would not benefit a particular AD policy.Each policy with all possible combinations of severity mix and setting for X were modeled in simulation models developed using Arena (Kelton, Sadowski, & Swets, 2010). Pilot runs were used to determine a warm-up period of two months, replication length of one year and 30 replications in order to capture the performance of the system in steady state and estimate the average tardiness per patient using 95% confidence intervals with an average relative precision of 3.76%. In addition, common random numbers were used to reduce noise when comparing alternative AD policies (Banks, Carson, Nelson, & Nicol, 2010).The results obtained during the experimentation show that not diverting at all, which is the No AD policy, produces average tardiness per patient of 1036.19±215.10minutes when the congested area is A1; and 10.43±0.42minutes when the congested area is A2. Fig. 8presents the confidence intervals for setting 3 of X, given in Table 5. The results for settings 1 and 2 show similar patterns. When the congested area is A1, the average tardiness per patient obtained by the MDP policy are 13.87, 18.06 and 24.89minutes for settings 1, 2 and 3, respectively. When the congested area is A2, the average tardiness per patient obtained by the MDP policy are 6.87, 8.63 and 9.02minutes for settings 1, 2 and 3, respectively.Even though the simulation model includes several relaxations that invalidate the optimality of the policy suggested by the MDP, the policy prescribed performs consistently well in all scenarios compared with other heuristics. The policies based on the occupancy at A1 (i.e., FB A1, 14 A1, 13 A1 and 12 A1) also perform reasonable well when A1 is the congested area because they take advantage of the fact that most ambulance patients are critical, and hence, the policy tries to avoid queuing in the emergent care area. On the other hand, policy FB does not work well in comparison to the other policies when the congested area is A1 because it delays diversion until all of the beds, including those in A2, are occupied.The policy that diverts when at least one area has all of the beds occupied (i.e., FB A1/A2) is the only one that performs worse than not diverting at all. This occurs when the congested area is A2 and using setting 3. This result indicates that this policy initiates diversion when if is not needed and might not take advantage of the fact that patients in A2 have a high RSTT. In general, most of the policies perform significantly better than No AD. Not diverting patients can produce a high average tardiness per patient, especially if the congested area is A1, where the critical patients are treated. For this case, some of the AD policies, including the one suggested by the MDP, can reduce the average tardiness by several hours, which could make a significant difference in terms of the mortality rate in critical patients. Therefore, these results suggest that intelligent design of AD policies can reduce the time to deliver appropriate treatment to patients, even if the time to start treatment in a neighboring hospital is relatively large.Table 6presents the relative performance of the heuristics taking the policy prescribed by the MDP as a basis, and shows if there is a statistically significant difference between the performances of the policies. The table shows that if the congested area is A1, the policy obtained via MDP performs significantly better than all of the other heuristics. Therefore, regardless of the fact that the MDP proposed in Section 2 includes several assumptions that may not be completely justifiable, it still provides an effective policy that could reduce important risks in emergent patients’ health in real life systems. In addition, regarding the policies based on occupancy level of A1, the policies that initiate diversion so that they reserve a few beds for future walk-in demand improve performance as the time to start treatment in the neighboring hospital decreases. However, when the time to start treatment at the neighboring hospital increases, these policies lose effectiveness because many patients could be diverted to a more crowded ED unnecessarily. Therefore, reserving a few beds in A1 may result in good performance if a significant fraction of walk-ins are level 1 patients and if the time to start treatment in the neighboring hospital is relatively small.On the other hand, if the congested area is A2, the MDP policy performs significantly better than most of the other policies, when the time to start treatment in another hospital is relatively small. However, if the time to start treatment in another hospital is relatively large, the policy prescribed by the MDP performs better than FB A1/A2 and No AD, but there is no significant difference from other policies. Therefore, it seems that the MDP model is a good option when the congested area is A1, but other heuristics that are simpler to implement might be preferred if the congested area is A2.Another important aspect to highlight from Table 6 is the large difference in the relative performance when comparing the columns that define the congested area for the same setting. For example, the heuristic FB performs 834.89% worse than the threshold prescribed by the MDP under setting 1 and the congested area is A1; but the same heuristic performs only 21.17% worse than the MDP under the same setting and the congested area is A2. Therefore, the knowledge of the severity mix that defines the congested area is a key parameter that determines the effectiveness of an AD policy.The results show that effective design of AD policies can decrease the ETP significantly, even if the neighboring hospital is far away or crowded like in the case of setting 3. However, inappropriate heuristics can lead to worse performance than not diverting at all, as in the case of policy FB A1/A2 and setting 3 with the congested area in A2. In addition, the simulation model confirms that ambulance diversion is more likely to have a significant impact if the congested area is A1.Typically, AD is implemented such that the ED maintains the diversion status for a predetermined period in which ambulances are diverted to other hospitals. In contrast, the optimal AD control policies prescribed by our MDP model comprise a single threshold that determine accepting or diverting individual ambulance arrivals. Hence, there may be some downsides of this approach if implemented in practice: (i) EDs could go on and off diversion very often, increasing the cost of communicating with Emergency Medical Services (EMS); (ii) an ambulance could be rejected and another could be accepted within a short time frame, which may seem to be unethical to practitioners; (iii) the AD policy produced by the MDP formulation requires continuous monitoring of the state of the system; and (iv) the frequent changes on diversion status may confuse EMS and could bypass the ED unnecessarily, which would increase the loss of potential admits.In order to overcome these issues in this section, we present a new heuristic, MDPτ, that requires the diversion status to last for at least a predetermined duration ofτ. This policy implements the threshold prescribed by the MDP to determine when to initiate the diversion status. Once the ED goes on diversion by exceeding the threshold, the ED maintains the diversion status for the nextτtime units. Afterτtime units, the state of the system is evaluated. If the state of the system is above the threshold curve according to the prescribed MDP policy, then the diversion status is maintained for anotherτtime units. Otherwise, the ED removes the diversion status.The remainder of the section analyzes this family of policies for the case where the congested area is A1 because AD is more effective in this scenario. In addition, setting 2 of Table 5 was chosen for analysis because it implies moderate values for the parameters of X; however, similar observations have been made for other settings in our extended set of results. Fig. 9shows the ETP and the average number of diversion episodes per day for the MDP policy and the MDPτpolicies, withτ∈{30,60,90,120}(in minutes).In general, ETP resulting from the MDPτpolicies are greater than that of the policy prescribed by the MDP. The difference is small, but significant. However, the differences in the average tardiness of the MDPτpolicies is not significant among them, which could mean that the value ofτhas a low impact on the ETP obtained. On the other hand, the MDPτpolicies reduce the average number of diversion episodes per day significantly, as observed in Fig. 9(b), and hence, they may avoid ethical problems related to admission control in emergency care.Decision makers in practice have the objective of providing timely care to patients requiring emergency care, as well as minimizing the duration of the diversion episodes and the fraction of time spent on diversion. The diversion episode length refers to the duration of the diversion status every time that the ED goes on diversion. Since the formulation presented in this paper does not penalize being in the diversion status, the policies prescribed by the MDP may result in long diversion durations (particularly when treatment times at the other hospital are short). In Fig. 10, we present the average fraction of time spent on diversion and the average diversion episode length for the MDP and MDPτpolicies, using again setting 2 for the distribution of X and congested area in A1.We observe that an increase ofτresults in more undesirable outcomes in terms of both metrics. Furthermore, the fraction of time on diversion of the MDP policy is significantly higher than the values observed in real settings (less than 20% according to United States General Accounting Office (2003)). Therefore, the proposed MDP policy improves the performance of EDs in terms of ETP, however, it increases the fraction of time on diversion and the average diversion episode lengths, which may be undesirable for the ED under study and for other neighboring EDs because diverted patients might cause congestion in the other facilities.After spendingτtime units on diversion, an ED might keep the diversion status for otherτtime units if the state of the ED still exceeds the diversion threshold. For example, when the congested area is A1 and for setting 2, the average number of successive diversion episodes is 12.10, 7.58, 5.92 and 5.98 for MDP30, MDP60, MDP90 and MDP120, respectively. In general, the number of successive diversion episodes decreases asτincreases, which might be convenient to determine a value ofτthat avoids keeping the diversion status for several periods; however, this assumption reduces flexibility to change diversion decisions.In order to find long-term solutions that improve performance in both metrics, decision makers must address the root cause of the problem, which may well be insufficient capacity to provide care either at the ED or downstream at the inpatient units of the healthcare delivery system. We briefly analyze the impact of capacity of the ED in Table 7, which presents a sensitivity analysis varying the number of beds in A1 and observing how the optimal average tardiness per patient and the fraction of time on diversion change (under the optimal control policy) for setting 2.Capacity has a significant impact on the performance of the ED. Adding beds to A1 reduces the optimal average tardiness per patient, which approaches to zero as the number of beds becomes sufficient to serve the demand. In addition, adding beds reduces significantly the fraction of time on diversion under the optimal control policy. The MDP model may prescribe being always on diversion when the walk-in demand exceeds the capacity during the peak time. For example, under setting 2 and assumingc1=12beds, the best average tardiness per patient that the ED under study can obtain is 137minutes, but this implies being always on diversion, and accepting only walk-ins. In order to reduce both metrics simultaneously, the ED would need to invest further in emergent care beds. For example, assuming 18 beds in A1, the ED could achieve an average tardiness per patient of 10.31minutes while being on diversion only 8% of the time. If inpatient units are bottlenecks that constrain the flow of patients out of the ED, causing congestion in A1 and/or A2, then the increase of capacity at the inpatient units would have a similar impact on the performance measures as observed in Table 7. Hence, strategic planning of EDs must consider the capacity of the EDs and inpatient units to estimate the size and amount of resources required to reach a desired or acceptable level of tardiness and fraction of time on diversion.

@&#CONCLUSIONS@&#
This paper presents an MDP model to determine the AD policy that minimizes the long-run average tardiness per patient for a single ED. We define tardiness as the amount of time that the patients wait beyond the recommended safety time threshold. The model considers two treatment areas, differentiated by patient severity, and assumes availability of (some) information on the time to start treatment in a neighboring hospital if an ambulance patient is diverted.The structural properties of the model indicate the existence of a threshold curve “above” which one should divert ambulances. This threshold curve is sensitive to traffic intensity, severity mix and expected time to start treatment at the neighboring hospital. Based on analytical results and computational experiments shown in this paper, it is observed that the threshold curve is non-increasing in traffic intensity and non-decreasing in the expected tardiness experienced if patients are diverted to a neighboring hospital. We analyzed the value of information and found that knowledge of the severity of an ambulance patient is not significant unless the congested area in the ED is A2. In addition, we found that the variability regarding the time to start treatment in a neighboring hospital has a relatively small impact on the definition of the threshold and on the optimal value.Even though the MDP includes assumptions that might not be realistic in real-life settings, the optimal AD policy performs consistently well under the incorporation of time-dependent arrival patterns, non-exponential distributions for the length of stay and addition of boarding time. In particular, the policy prescribed by the MDP performs significantly better than all of the other heuristic policies, including not diverting at all, when the congested area is A1. Therefore, intelligent use of MDP could contribute to increased patient safety by minimizing the time that they wait beyond their recommended safety time threshold.Our MDP formulation does not take into account some performance metrics considered by EDs such as the fraction of time on diversion and the average diversion episode length. Hence, the proposed MDP policy may prescribe policies that may result in relatively long diversion episodes, and relatively frequent diversions. A sensitivity analysis made on the number of beds in A1 shows that capacity should be addressed in a strategic manner in order to have significant improvements in both, timeliness (measured by, e.g., average tardiness per patient) and in accessibility to emergency care (measured by, e.g., fraction of time on diversion).The paper can be extended in several directions. First, one can assign a fixed cost for changing diversion decisions (e.g., from on to off and from off to on) in order to avoid frequent diversion decision changes. This proposed model requires another dimension in the state space to keep track of current diversion status, and generalizes our MDPτheuristic by providing an optimal time length that the diversion decisions should not be changed. A second worthwhile extension is to consider more general settings and policies for how resources are prioritized among patients in the emergency department. We have indicated above that various virtual streaming policies toward that end could be considered, and a study on how such policies may reduce the use of ambulance diversion would be very informative for emergency departments considering such operational design options. Last but not least, an important but not very straightforward extension is to consider the status of neighboring hospitals (e.g., number of patients) in the state definition, and provide optimal diversion decisions also considering the congestion in neighboring hospitals. Such approaches could also involve the consideration of the benefits of centralized decision making across a number of hospitals, rather than localized decision making by each hospital.Supplementary data associated with this article can be found, in the online version, at http://dx.doi.org/10.1016/j.ejor.2013.11.018.