@&#MAIN-TITLE@&#
Performance evaluation of graded precision localization with sensor networks in indoor spaces

@&#HIGHLIGHTS@&#
Graded precision localization (GPL) offers a range of localization precision levels.GPL for user modules is achieved with an infrastructure of hotspots and radio nodes.A user module prototype is built with a laptop, a Cricket node and a mobile phone.Performance of GPL for indoor spaces is discussed with simulation and experiments.An analytical Markov model for evaluating GPL for constrained spaces is proposed.

@&#KEYPHRASES@&#
Sensor network,Localization,Cricket,Inertial navigation,Graded precision localization,Mobile phone,

@&#ABSTRACT@&#
Modalities other than GPS need to be employed to localize mobile sensor-node-enabled subjects in indoor conditions. The location of some mobile nodes needs to be computed precisely while this may not be essential for the remaining nodes. We have proposed the concept of graded precision localization which allows mobile nodes to localize themselves to heterogeneous precision levels in a common framework. With graded precision localization, we define a modular node for the subjects, specify deployment strategies customizable for each site, and propose a framework for evaluating site-specific localization performance. We comprehensively evaluate graded precision localization with experiments and simulation for indoor conditions, and highlight its advantages over similar systems.

@&#INTRODUCTION@&#
In sensor networks with mobile nodes, the mobile nodes often need to periodically know their location with the help of other nodes in the network in the absence of GPS. However, all nodes do not need to know their location to the same degree of precision. Some nodes need to be localized precisely while for others, an approximate knowledge of their location might be sufficient. We have used such requirements to introduce the concept of Graded Precision Localization (GPL) [1] for fixed-grid setups. GPL refers to the ability to localize mobile nodes to different precision levels using a common infrastructure with a combination of coarse-grained localization, fine-grained localization and inertial navigation.GPL uses a combination of coarse-grained localization involving calculating the centroid of location information received in radio beacons, fine-grained localization by Time Difference of Arrival (TDOA) techniques, and inertial navigation. Range-based methods involve computation of RSSI [2] or other techniques such as Angle of Arrival (AOA) [3], Time of Arrival (TOA) [2], or Time Difference of Arrival (TDOA) [4,5]. RSSI has been shown to be unsuitable for ranging applications [6]. Motetrack [7] tries to address this limitation by creating a repository of location and RSSI signature of radio beacons. With TDOA, location of a node is computed by calculating its distance to (at least) three non-collinear reference nodes. For distance calculation with TDOA based trilateration, Cricket [4] uses combination of ultrasound and radio messages while Thunder [8] uses an acoustic wave—generated for 100ms with a 73dB (street noise level) microphone—and a radio signal to achieve a ranging distance of 137m with a 25cm distance estimation error. Dead Reckoning (DR) systems have been proposed for robot navigation [9,10]. By computing steps, strides and heading, an accuracy of up to 95% has be achieved [11]. Helmet-mounted inertial navigation systems have also been proposed [12]. GPL is a modular technique which is suitable for both localization and tracking applications.In this paper, we present a rigorous performance evaluation of GPL for indoor conditions [13]. We first present the operation of GPL highlighting the interaction between the GPL user module and the infrastructure. This is followed by the performance evaluation of the user module and the infrastructure with experiments, analysis and simulation. An analytical model based on Markov chains is developed to evaluate the performance of GPL infrastructure for customized indoor deployments. We conclude by highlighting the advantages of GPL over related systems.The operation of GPL is briefly outlined to support the discussion on performance evaluation. Every mobile subject in a GPL deployment carries a user module or a trimmed version of it called the restricted user module. Fig. 1shows the different phases of localization of a user module U with GPL. As U moves through a GPL deployment, it uses the messages from radio nodes to compute its centroid and advertises the changing centroid as its coarse location. When the computed coarse location indicates that U is inside a hotspot, U requests the hotspot to compute its precise position by trilateration. Thereafter, U uses inertial navigation to localize itself till it reaches the next hotspot. If the accumulated errors due to inertial navigation cross a threshold before U reaches a hotspot, it goes back to computing its coarse location. The restricted user module RU, in comparison, computes only its coarse location all throughout. Any GPL deployment permits the co-existence of both kinds of modules and inter-conversion between the two is only a matter of plugging the right hardware into a generic architecture. We note that GRADELOC [1] and IGRADELOC [14] discuss grid-based deployment of GPL with the help of pseudo-code.The user module is envisioned as a cap-mountable sensor node, for precise positioning, and a phone for inertial navigation. The infrastructure consists of beacon nodes and radio nodes. Beacon nodes have both radio and ultrasonic transmission capabilities, and they are used for TDOA based trilateration of the user module. Therefore, wearing a sensor node on the cap helps achieve Line-Of-Sight (LOS) communication with the beacon nodes. We have configured a prototype user module for evaluation, which consists of a Cricket sensor node [4] as a beacon-listener, an Android phone, and a laptop as shown in Fig. 2. Since hotspots are correction points for a user module’s INS, strategic hotspot placement would depend on the architectural floor plan indicating places frequented by people. Skeletonizing the top-view image of a deployment area creates quench-lines. Branch-points of quench-lines at path-interconnects are effective hotspot placement choices which is illustrated in Section 4.Fig. 3shows the functional architecture of the prototype given by Fig. 2(a). It consists of a laptop connected to a Cricket node (beacon listener) and an Android phone which communicates with the laptop over Wi-Fi. The Cricket node runs TinyOS 1.x [15]. The laptop runs a Decision Support System (DSS) consisting of the RAPIDSNAP [16] Gateway, DBMS and User Application. We note that GPL Subsystem is an Event Source for the RAPIDSNAP Gateway. The Cricket Interface Subsystem sends the trilaterated position (i.e. fine-grained location) of this user module to the GPL Subsystem when the user module is in a hotspot. The DSS is responsible for logging and visualization of all incoming data. A node ID is assigned to the user module to uniquely identify it in the DSS. We note that a live deployment would typically have a single DSS at a central location to which all user modules send their events.The Android phone, responsible for inertial navigation between two re-positioning attempts, is worn at the ankle as shown in Fig. 2(b). GPL Subsystem combines position estimates obtained from the Cricket Interface Subsystem with the step and heading based offset information from the Android phone to continuously produce position co-ordinates that are sent to the DSS.The Android phone is used for step-detection and heading estimation. We elaborate on the step-detection algorithm used on the phone and the experiments conducted to evaluate the performance of inertial navigation.Step detection is done by thresholding a sample sequence (with sampling interval 100ms) of the resultant acceleration as shown in Fig. 4. Calibration is done with the help of a treadmill for a walking speed of 3km/h (0.8m/s). The first 10 samples are obtained with the subject standing, in order to establish g. Thereafter, for resultant acceleration a, step detection starts when|a-g|⩾2m/s2. The step progresses in the next 300ms and completes when|a-g|<2m/s2. Heading estimation starts as soon as the foot rests on the floor and|a-g|<1m/s2. Azimuth measurements are averaged to estimate heading in the next 200ms. Precautions are taken to handle the zero-crossing condition that occurs when the azimuth fluctuates about0°(=360°)causing wide measurement variations. The phone’s Wi-Fi is used to communicate every step event along with the azimuth value (heading) of the magnetic compass to the laptop where it is logged in the DBMS and is used to update the user module’s location in real-time. We also compute the average stride length of subjects of height ≈172cm as 0.6m. Number of steps and stride-length are used to estimate the distance covered.Location estimation performance of inertial navigation is analysed by performing five experiments (each) for walks on (a) a straight path of length 24.94m and (b) an L-shaped path of length 19.72m. Fig. 5shows the paths traced for all experiments of both the cases, with starting point of the subject mapped to points (500,500) and (500,495) on the co-ordinate axes for straight and L-shaped paths respectively. Mean (μ) and standard deviation (σ) for parameter measurements are given in Table 1. For each case, the mean heading associated with all steps in a particular direction is denoted byμ(Heading), and the mean of the total number of steps detected is denoted byμ(StepDetections). The corresponding standard deviations areσ(Heading)andσ(StepDetections). The L-shaped path is covered in 32 steps (16 step-detections) for all experiments with no step-detection failures. The straight path is covered in 40 steps (20 detections), with 21 and 19 detections for two experiments respectively. The trace forμ(StepDetections)along the directionμ(Heading)gives the ideal path—the actual path taken for each experiment. Distance Error for a path is the Euclidean distance between its end-point and the mean end-point of the five paths. The mean end-point is found to be closest to the end-point of the ideal path. We note that there are minimal metallic objects around these paths to minimize effects of magnetic interference.In order to prototype a hotspot, we place three beacon transmitters on the floor as shown in Fig. 6(a). The ultrasound module on the beacon listener of the user module prototype faces the beacon transmitters since obstruction of ultrasound severely degrades distance estimates. The Cricket Interface Subsystem generates a hotspot position reference as shown in Fig. 6(b). The subsystem is designed to use beacons from more than three transmitters to find position estimates. Thus, it uses a least-squares solver (LSQ) to be able to obtain position estimates from an over-determined system of equations for distance measurements.GPL is deployable in both constrained and unconstrained spaces. We use the term unconstrained space to refer to an office floor with no sub-divisions in the form of rooms and corridors. This is an ideal scenario where a user module is able to move throughout the floor space, and there are LOS conditions for radio and ultrasonic signals due to absence of structural obstructions. Analytical evaluation for symmetric ideal unconstrained spaces has been done extensively with IGRADELOC [14].A typical GPL deployment for indoor spaces corresponds to space-constrained deployments which have structural limitations on how GPL can be deployed. For example, Fig. 7(a) shows a constrained 40m×40m office space with rooms and corridors marked in black (0) and white (1) respectively. We note how an image of the deployment floor-plan is used to plan the smart placement of hotspots in constrained spaces. Skeletonizing the corridor space gives us the quench-lines shown in Fig. 7(b). Branch-points (points of intersection of quench-lines) have a high likelihood of being visited by people in the office. Therefore, the branch-points are suitable for placement of hotspots. With the circular assumption for hotspot regions, we place four hotspots H1, H2, H3 and H4 at the branch-points. The radio (‘+’ marked) nodes are deployed in a regular pattern along the paths of the modules. For 40-step linear paths taken by user modules U1 and U2, and restricted user module RU1, the observed paths traced by the modules are shown in Fig. 7(a). U1 and RU1 have the best and the worst performance respectively [13].We propose an analytical model to evaluate the performance of hotspots with constrained spaces. The model is developed from the perspective of an end-user or a field engineer who will try to maximize the benefits of deploying a hotspot. To help in pre-deployment planning, we calculate the probability of localizing a user module, which serves as a service level agreement for the hotspot.Fig. 8(a) shows a 2-D deployment space of width w that consists of regions A and H, where a and h are sub-regions of A and H respectively. We use the following notation for our discussion. For a regionreg,area(reg)andl(reg)are the area and length of reg. A user module can be positioned anywhere in reg, and this uniformly distributed set of positions is denoted byPreg. For adjoining regionsreg1andreg2,reg1+reg2denotes the combination of the two regions. For a sub-regionreg2of regionreg1,reg1-reg2is the part ofreg1that does not containreg2.Let H be a hotspot covered region and U be a user module that moves inA+Hwith a constant velocity v. Thus, speed of U is‖v‖. We note thatA+Hcorresponds to a section of a deployment space for which GPL is being evaluated, for example, the horizontal corridor space containing H1 in Fig. 7(a). We describe the movement of U by defining a continuous-time discrete-state stochastic process (i.e. a chain){N(t)|t≥0}over the state space{A,H}. A non-numeric state space is used to keep the discussion intuitive. For any fixedt=t1,N(t1)is a random variable that maps U’s position att1,Upos(t1), from the sample spacePA+Hto the state-space as:(1)N(t1)=A,ifUpos(t1)∈PAH,ifUpos(t1)∈PHLet{Xi|Xi=N(ti),i=1,2,3,…}be a discrete-time stochastic process s.t.ti+1-ti=Δt, for a constantΔt. Letp1,p2,p3,…be a sequence of positions of U wherepi+1-pi=vΔt. Letl(a)=l(h)=‖v‖Δt. Ifpi∈PA-athenpi+1∈PA,∀i. Similarly, ifpi∈PH-hthenpi+1∈PH. If U is in region a (or h) atti, then atti+1it may move into h (or a). The transition behaviour is governed by various factors such as speed and mobility characteristics of user modules. For analytical tractability, it should be possible to calibrate the model from a set of sample observations of the system transition behaviour. We define two parameters,baandbh, called bias factors which help us in this calibration. A memoryless assumption is made for every state transition. Forpi∈Pa,bais the probability thatpi+1∈Ph. Similarly, probability thatpi+1∈Paforpi∈Phis denoted bybh. Forpi∈PA,Ba=area(a)/area(A)whereBais the probability thatpi∈Pa. Similarly, forpi∈PH,Bh=area(h)/area(H)whereBhis the probability thatpi∈Ph.With the above assumptions for each transition frompitopi+1fori⩾1,{Xi|i=1,2,3,…}can be modelled as a Discrete Time Markov Chain (DTMC) as shown in Fig. 8(b). DTMC transition probabilitiesprAHandprHAare computed with Eqs. (2) and (3). Self transition probabilitiesprAAandprHHare given as:prAA=1-prAHandprHH=1-prHA.(2)prAH=Pr(Xi+1=H|Xi=A)=baBa=baarea(a)/area(A)=bal(a)/l(A)(3)prHA=Pr(Xi+1=A|Xi=H)=bhBh=bharea(h)/area(H)=bhl(h)/l(H)State probabilities for A and H are denoted byprAandprHrespectively, andprA+prH=1. For initial state probability vectorV(I)=[prAprH]=[0.50.5]and transition probability matrix M defined in Eq. (4), relationV(i)=V(I)Mi,i∈Iis used to calculate the (steady state) stationary distributionV(s)=[prA(s)prH(s)]. In the steady state,V(s+1)=V(s)M.(4)M=prAAprAHprHAprHHThe service level agreement for a hotspot in a GPL deployment could be defined in terms of a minimum required probabilityprloc(n)of successfully localization of U in a random observation of duration n seconds. Assuming the hotspot beacon nodes synchronously transmit a beacon every n seconds,prloc(n)is the joint probability (a) of finding U in the hotspot at any given point of time, and (b) that it stays in the hotspot for the next n seconds,n∈I,Δt=1s. Probability of finding a user module in region H isprH(s), and the probability that it continues to stay in H is obtained by an n-step transition into state H. Therefore,prloc(n)=prH(s)(prHH)n.To illustrate the general performance characteristics of our analytical model, we calibrate and compare it with simulation results for U moving inA+Husing a random waypoint (RWP) [17] mobility model. In RWP, U chooses two end-points M and N and moves linearly from M to N with speed‖v‖. In the context of Section 4.1,{pi}i∈Iis the observed sequence of points between M and N wherepi+1=pi+vΔt, for a constantΔt. On reaching N, U randomly chooses another position inA+Hand moves there at speed‖v‖. This process continues for the entire simulation period. During simulation, region H is observed for n seconds at random time instances, and the probability of observations where U stays in H for the entire observation period is computed. Simulation parameters are initialized as:‖v‖=0.8m/s,Δt=1s,w=10m andl(A)=l(H)=10m. Bias factorbhis defined asbh=1-ba. So, transition behaviour can be explained with just one of the parameters:ba.Figs. 9–11show the probability of successfully localizing U in n seconds within its arrival in H for different ratios ofl(A)andl(H). Analytical results are obtained forba={0.4,0.5,0.6}andn={2,4,…,10}s. A value ofba=0.5models a condition where transitions from a to h and from h to a are not biased with respect to A or H. Forl(A)=l(H)in Fig. 9, the simulation results are loosely bounded by the analytical results forba={0.4,0.5}.Forl(A)=2l(H)in Fig. 10 andl(A)=l(H)/2in Fig. 11, the simulation results shift towardsba=0.4andba=0.6respectively. Forl(A)=2l(H), the simulation results are still loosely bounded by the analytical results forba={0.4,0.5}. Forl(A)=l(H)/2, however,bais bounded by{0.5,0.6}. Whenarea(A)>area(H), the probability of selection of the next position for U in a region at any given time is higher for A than for H. Thus, forl(A)=2l(H)in Fig. 10, the probability of transitioning into H reduces, causing the simulation curve to shift towards the curve forba=0.4. Conversely, the probability of transitioning into H increases forl(A)=l(H)/2in Fig. 11 due to which the simulation curve shifts towards the curve forba=0.6. Therefore, the ratio of movement region areas can be used to calibratebafor different scenarios. Fig. 12presents the analytical variation ofbaforprloc(10)for different ratios ofl(A)andl(H).Fig. 13presents analytical results forprloc(n),n=6and the corresponding simulation results for‖v‖from 2m/s to 6m/s. At higher speeds, probabilities become insignificantly small for a larger n. For clarity, only results forl(A)=l(H)andl(A)=2l(H)are presented. We note that the relative behaviour of analytical and simulation results are as observed earlier. The simulation results loosely stay between the analytical bounds ofba={0.4,0.5}.Figs. 14 and 15show the simulation curves forprloc(n)forw={1,5,10}m. Changing the width w ofA+Hhas no observable effect onprloc(n). This agrees with our analytical assumptions since Eqs. (2) and (3) are independent of w. ForA=H, the frequency of visits by U to both H and A does increase by 10% forw=1m when compared to the frequency forw=10m. However, no change is observed in the mean time spent in H after it is visited in both the cases. Thereforeprloc(n)is not affected.Thus, the proposed model approximates the true behaviour well and can be used to calibrate hotspots for various scenarios. With ultrasonic localization ranges of about 10m, the significance of this model is evident in the context of a customized GPL deployment along the corridors of indoor spaces.We highlight the key features of GPL by placing it in the context of similar work in this area. Early work in ultrasound-aided dead-reckoning has been presented in the context of robot navigation [9], where localization is demonstrated in a controlled setup of fixed ultrasonic beacons and a receiver array on a robot. Miniaturization of sensors with MEMS have, since then, made pedestrian navigation systems feasible. Shoe-mounted IMU has been used for inertial navigation with double-integration of acceleration as the distance estimation strategy [18,19]. A simulation based study with ultrasound beacons is used in [18] to correct position and heading errors.Sparsetrack [20], proposed after GRADELOC [1] and IGRADELOC [14], uses a sparsely deployed set of Cricket nodes to improve dead-reckoning performance using a phone’s accelerometer and digital compass. Although Sparsetrack is architecturally closest to GPL, it has a different set of objectives. Sparsetrack tries to improve the performance of dead-reckoning whereas GPL tries to combine dead-reckoning with location correction. Therefore, beacons in Sparsetrack are positioned across the region so that at most one beacon is within the range of a mobile node to improve its inertial navigation estimates. GPL, in comparison, tries to maximize the location correction instances for user modules by strategic placement of hotspots. Furthermore, Sparsetrack infrastructure sends periodic beacon messages whereas the GPL user modules explicitly request the hotspots to transmit beacons to trilaterate them. Thus, comparatively, GPL could be a more convenient and resource-efficient localization solution for constrained spaces.

@&#CONCLUSIONS@&#
