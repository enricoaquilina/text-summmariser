@&#MAIN-TITLE@&#
Pre-gait analysis using optimal parameters for a walking machine tool based on a free-leg hexapod structure

@&#HIGHLIGHTS@&#
Proposes a layout for a walking free-leg hexapod machine tool.Optimisation approach for tripod gait based on selected system parameters.Proposes an algorithm for independent walking motion based on stability.

@&#KEYPHRASES@&#
Hexapod,Walking robot,6-axis milling machine,Robotised machine tool,

@&#ABSTRACT@&#
The scope of this paper is to present a novel gait methodology in order to obtain an efficient walking capability for an original walking free-leg hexapod structure (WalkingHex) of tri-radial symmetry. Torque in the upper (actuated) spherical joints and stability margin analyses are obtained based on a constraint-driven gait generator. Therefore, the kinematic information of foot pose and angular orientation of the platform are considered as important variables along with the effect that they can produce in different gait cycles. The torque analysis is studied to determine the motor torque requirements for each step of the gait so that the robotic structure yields a stable and achievable pose. In this way, the analysis of torque permits the selection of an optimal gait based on stability margin criteria. Consequently, a gait generating algorithm is proposed for different types of terrain such as flat, ramp or stepped surfaces.Angle of slope of terrain (rad)Foot spacing angle (rad)Foot spacing radius (m)FootiGravitational Coefficient 9.81 (ms−2)Hexapod rotation (rad)Optimal hexapod rotation (rad)Magnitude of stability margini(m)Maximum torque in system (N m)Optimal translation (m)Overall system stability margin (m)Platform pitch (rad)Platform translation (m)Prismatic jointiSet of integersTorque in upper spherical jointi(N m)Upper spherical jointi

@&#INTRODUCTION@&#
At present, Parallel Kinematic Machines (PKMs) are primarily used in large setups to perform machining tasks such as milling  [1] or manipulation of heavy components  [2]; additionally, different configurations of PKM are utilised for manipulations in assembly lines  [3] or accurate positioning systems  [4] for astronomy installations or MEMS. However, recent work has shown that PKMs are also suitable for use in a mobile context, i.e. being moved into a location of intervention to perform various inspection/processing tasks. Yang et al.  [5] have designed a quadruped robot PK machine tool, equipped with one redundant limb that is used only for walking, which can move between fixed pins fitted to the surface to be traversed; these pins react the lateral forces and ensure that the legs fall within a series of known positions, which eliminates the need for referencing the PK structure relative to the base platform. However, due to such configuration, this PKM structure walking machine cannot walk within an unprepared environment.Guy  [6] developed a robot PKM for drilling and riveting, which positions itself on the exterior of a section of aircraft fuselage using a fixed base and actuators attached to the parallel platform that can lift the base while it relocates utilising a PK mechanism. This design uses suction cups to attach the base unit to smooth, relatively flat surfaces; however, it could be noted that this solution cannot cope with complex environments, since the footprint of the system is large and therefore cannot easily avoid obstacles. It also cannot cope with terrains that are non-smooth and is not flexible enough for more general applications than working only on fuselage sections. Both Guy  [6] and Yang et al.’s  [5] designs have the desired mobility, but are only mobile within limited environments, rendering them ineffective for more general tasks/interventions (e.g. in-situ repair) that might require motion within uneven terrain and/or complex paths of the end-effectors. They also might exhibit a limited accuracy for performing processes such as multi-axis milling or rely on pins built into the environment; hence, neither is suitable to perform accurate automated operations in hazardous or constrained environments.Furthermore, attempts have been made, such as that by Denton  [7], to implement a tooling solution for performing machining with a standard hexapod robot, which uses an off-the-shelf axially symmetric configuration; this places a limit on the accuracy achievable by such a system and leads to a relatively low useful working volume. As a result, the robot would be required to walk while machining if performing operations on a large area, further reducing accuracy and repeatability.An existing Free-leg Hexapod (FreeHex)  [8,9] with a PK structure that can be attached directly to the workpiece (without the need for a fixed base) for in-situ processing (e.g. machining) has been reported; this machine must be placed in location by a human operator and calibrated using an innovative methodology involving a set of gauges that must be removed prior to machining  [8]. Despite this, the FreeHex was reported to be capable of achieving high accuracy, i.e. repeatable results when machining and proved to meet real industrial application needs, thanks to its design. However, in its current design, it lacks the advantage of being able to reach tight spaces or hazardous locations independently. Consequently, new strategies are required in order to allow this system to walk independently, without compromising the machining capability conferred by a PK configuration.Prior to a redesign of the FreeHex to enable its walking capability, it is important to evaluate the stability of such structures during their motions and analyse suitable gaits in order to select suitable actuators. Therefore, it is important to consider existing walking robots, even though they may not be capable of generating 6-axis tool paths. Walking robots fall into two overall categories: statically stable  [10] and dynamically stable (e.g.  [11]).Dynamically stable robots are most analogous to bipedal animals and humans, where balance must be actively maintained. Dynamically stable walking is performed by internally generating an imbalance such that the centre of mass is (usually) in front of the supporting limbs causing the subject to have the tendency to topple forwards. Thus, one leg is placed in front of the other in order to prevent the system from collapsing and so to enable its advancement. According to McKerrow  [12], dynamic stability is achieved by continuously moving either the feet or body to maintain balance. Wettergreen and Thorpe  [13] describe an active feedback approach to control system implementation in order to maintain the balance with respect to a required speed. By contrast, statically stable walking robots rely on maintaining a balanced pose at all stages during motion. This is analogous to the motion of many creatures with four legs and all creatures with six or more; as such, many examples of this type of robot are inspired by animals or insects.For a robot to be able to move autonomously, reasoned decisions need to be made as to where and in what order the feet are placed; this process is referred to as gait generation analysis. The gait of a robot is the set of motions that the legs should go through in order to allow the robot to advance in a specified direction. According to Wettergreen and Thorpe  [13], previous work on gait can be classified into four categories: Behavioural, Control (previously explained), Constraint-Based and Rule-Based.Behavioural gait generation is an attempt to mimic the method of determining limb movement used by animals and insects by creating an environment for unconscious reasoning, such as a neural network. Beer et al.  [14] built a walking hexapod to investigate a control network based on the neuroethology of insect locomotion, producing a range of gaits and degrees of robustness in a real robot that match quite closely with simulations. Berns et al.  [15] describe an hierarchical control architecture for a walking hexapod named LAURON utilising neural network techniques; this focuses on active learning within the control system, which proved to be time intensive and not of as much practical use if the environment to be traversed is well defined.Rule-Based gait generation involves assigning a prescribed gait based on the classification of the robot’s environment, unlike the behavioural and control approaches that involved no active planning. As the robot switches between different types of terrain, the system adopts the gait that is most suitable for the current environment. Song  [16] reports on an efficient wave gait that varied foot placements between terrains while retaining gait sequencing; furthermore, this was developed to allow for autonomous crossing of four major different types of obstacle: grade, ditch, step and isolated-wall  [17].Kumar  [18] uses a system of control schemes to modify gait parameters including duty factors for the wave gait in order to demonstrate that robot velocity can be varied continuously even with irregular, asymmetric and changing support patterns; however, this approach showed that some problems in switching between gaits could appear. This highlights the main drawbacks of using Rule-based gait generation: (i) difficulty in generating an exhaustive list of environment scenarios; (ii) difficulty in autonomous recognition of which type of environment scenario is most appropriate for the current terrain; (iii) while the robot is transitioning between two environments, it is not fully in either environment, so the system must have a method of coping with fuzzy logic. Cruse  [19,20] achieves some success in addressing these issues by means of the ‘Cruse Coordination Rules’, which allow the robot to adapt automatically to its environment, producing stable and reliable gait patterns. Roggendorf  [21] compares this with Steinkühler and Cruse’s MMC model  [22] and a modified form of Porta and Celaya’s approach  [23], but finds that the latter produces the best performance in simulation. Belter  [24] utilises an evolutionary algorithm to generate a tripod gait for the hexapod ‘Ragno’, reporting that there is a strong dependence on the accurate knowledge of the physical parameters in the quality of the produced gait. Buchli  [25] presents an excellent control methodology for the ‘LittleDog’ quadruped incorporating a novel line-based COG trajectory planner which is proven to be effective in real world trials.For complex and constrained environments, a modified standard gait is not as suitable for avoiding all obstacles. It is in these situations where the fourth category of gait generation is most useful: Constraint-based gait generation—a mid-term planning active searching gait generator. It operates in the following stages: (i) a complete list of possible moves that the robot legs and platform could make is generated; (ii) this list is reduced by eliminating all motions that are infeasible due to spatial uniqueness (e.g. clashes between legs and legs/other parts of the robot/the environment); (iii) the list is further reduced by eliminating all unstable movements and possibly by using other criteria (such as singularity points); (iv) the list of movements is ordered by a parameter to be optimised such as stability, energy usage or speed. These steps can be carried out for several stages in advance of the robot’s current position. However, the main problems with this approach are: the list of options (as explained above) grows exponentially with the number of degrees of freedom (DoF) of the robot, as discussed by Latombe  [26]; due to the processing time, it is impractical to calculate a large number of steps in advance, so the robot may be making apparent good progress, but may be entering a route that does not allow it to reach the final objective safely without turning back and retracing steps (this is known as the Horizon Effect  [27]). P.K. Pal and K. Jayarajan  [28] demonstrate that constraint-based gait generation is still useable by creating a reduced list of movements, considering four leg placements for each body translation; this simplification reduces the optimisation of the whole system, but considerably speeds up the process. The leg workspace (referring to the area available to place a given leg at any instance) and terrain reference frames were later discretised to constrain possible gaits and the search was limited to movement cycles that advanced towards the goal in an attempt to overcome the Horizon Effect. This attempt met with success in a simplified test environment  [27]. Subsequently, Pal and Jayarajan improved the techniques by application to a walking hexapod robot  [29] and demonstrated how the functions may be designed to generate common periodic gaits such that the system may be optimised for any general factor  [30].These gait generation techniques have so far been mostly applied to walking hexapods that have either two rows of three legs in parallel (monosymmetric, e.g.  [31–33]) or equispaced axially symmetric legs (e.g.  [34,35]).Driven by the industrial need for a truly 6-axis walking machine tool, the present research builds on the experience of the FreeHex  [9]. The goal is to produce a machine that can operate as a highly effective and accurate machine tool but also operate as a highly manoeuvrable walking robot able to navigate multiple environments. As seen in the literature, a walking robot fitted with a spindle is not capable of fully addressing these challenges. Therefore, a PKM with a novel leg layout and architecture is used.The scope of this paper is a theoretical study of the factors relevant to allowing a hexapod PKM with tri-radial symmetry to walk, and specifically to walk on inclined planes of varying angles of elevation. This paper presents a gait methodology based on stability margin criteria and a torque analysis, noting that the WalkingHex, having telescopic legs, is capable of varying the pose and translation of the upper platform, which can be taken into consideration to improve the stability margin and actuation torque of the system. The following aspects are among those that must be considered: the overall design of the hexapod and leg joints, and the measures of gait effectiveness such as stance stability and torque in the leg’s spherical joints. This determination is of key important because the algorithm can be used to avoid high levels of torque that the leg actuation mechanism is incapable of producing when walking in different environments.The Walking free-leg Hexapod structure (WalkingHex) is the next design evolution of the FreeHex  [9], so has a structure based on that of a hexapod PKM—known to be able to respond well to requirements for multi-axis machining operations. The legs are attached to the upper platform by actuated spherical joints(Sph1–Sph6), mounted in pairs in a rotationally symmetrical pattern while the length of the legs can be varied (to allow 6-axis movement of the upper platform for machining operations) using prismatic joints(Pr1–Pr6)as illustrated in Fig. 1; while a solution for actuation of the upper spherical joints has been developed, this is not subject of this communication, which focuses on gait analysis to enable the dimensioning of the motors to be used for such actuation. The feet(Ft1–Ft6)are attached to the legs via spherical joints.Karimi and Nategh show that grouping the hips and feet in pairs as follows provides the best quality workspace for a hexapod PKM  [36]: pairs of joints that are closer together at the top of the legs should not be close at the foot, but the foot should be paired with (and closer to) the foot of the leg whose upper joint is further away (but still consecutive); thus feet are pairedF1andF2,F3andF4, etc. as per Fig. 1.This leg arrangement is very different to that of the majority of walking hexapod designs, which are typically either monosymmetrical or axially symmetrical, so it has unique properties that must be studied, particularly in relation to walking.In order to optimise the capability of the machining mode of operation and retain the six prismatic actuator system previously employed by the FreeHex, the robot uses these driven joints for walking, alongside a series of actuators for controlling the rotation of the upper spherical joints, thus allowing it to lift its feet off the ground and walk; the torque capability of the proposed actuation system (to comply with design requirements—not detailed here) is limited to 10 N m. The design of the actuation system on the spherical joints is not discussed in the present study and will make the scope of future reporting.The specifications of the WalkingHex are outlined in Table 1.This design requires a different approach to gait generation, as it has some unique benefits and drawbacks for walking; nevertheless, such a system needs to be used also for machining operations and the previous research proved to be advantageous. For example, it is possible to tilt and translate the platform in order to shift the centre of mass for the system, making it more stable. It also is able to overcome the issue of motor power versus speed, which can be summarised as follows. In a standard gait, for most statically stable walking robots, there are three kinds of movement that the legs are required to make—(i) lifting/lowering, (ii) translating the leg while the corresponding foot is in the air, and (iii) translating the base link in the direction of advancement. Little force is needed to translate the legs in case (ii), but the speed of translation during this motion is critical to the overall speed of walking as this needs to happen at least twice per gait cycle. Greater force is for case (iii), but speed is less important and may need to be regulated to ensure stability. For most walking robots (with a few notable exceptions), both motions (ii) and (iii) are performed by the same motors, meaning that a compromise must be made between speed and strength of the motors. For the WalkingHex, this compromise is avoided by the use of 2 different sets of motors: the spherical joint actuators performing motion (ii) with speed and the prismatic actuators performing motion (iii) with strength.The design of the WalkingHex also means that it is more difficult to walk in some directions than in others, so it is not a truly omnidirectional walker.Since this research focuses on a statically stable walking robot that has low walking speed requirements but a high load capacity, the pose must be optimal with respect to the stability margin criteria and the torque produced in the joints (so as not to overload the actuators). The stability margin provides a measure of how stable the system is in any particular pose, ensuring that the WalkingHex does not topple over. The upper spherical joints are actuated in order to orient the legs, so the magnitude of torques experienced in the joints are needed in order to select suitable actuators to hold the legs at a fixed angle when on the floor and to rotate the joint to orient the legs when in the air. This is particularly important when walking on an inclined plane.At present, a displacement based method has been used to calculate a stability margin for the system, based on the system reported by McGhee  [37]. Huberty  [38] identifies that this methodology is particularly efficient and effective among the static stability margin techniques. In order to maintain a stable pose at all times, at least three legs must be touching the ground at any time, with the vertically projected centre of mass placed within the Support Polygon made up by those legs. Mahalingam and Whittaker describe the Support Polygon as the minimum bounding polygon on the ground plane that includes all points of contact between the supporting legs and the ground  [39].For this approximation, the centre of mass and foot locations are projected onto the horizontal ground plane and the minimum perpendicular distance between this projected point and the support polygon gives a measure of the stability of the system. Since the foot positions on an inclined slope are projected onto a lower plane, the effect of a slope in reducing the stability margins is incorporated into the model. For the purposes of a statically stable walker, this measure is largely accurate as the static states are of greatest interest.The following set methodology is proposed for evaluating the displacement stability margin using vector algebra. The description here is based on the assumption that the robot is using a tripod gait; however, this methodology could be applied to any statically stable gait (where there are at least 3 ft on the ground at any time). This case is studied since it is the most disadvantageous in terms of torque and stability margin and any torques and margins experienced by the system when utilising gaits with more feet on the ground (pentapod, quadruped) should be more desirable than the tripod equivalent.1.Construct a ‘Ground’ vector plane (Fig. 2),ABC⃗using the vector positions of three feet on the ground, A, B and C.Find a vertical vector (inzdirection),GP⃗passing through the centre of mass of the system,G.Project the centre of mass of the system along this vector onto the ground plane by finding the intersection ofGP⃗withABC⃗, giving the location of P. This can be determined using simultaneous equations.A vector,RP⃗, perpendicular to the support polygon is found that passes throughPusing the cross product ofAB⃗andPG⃗.The location of R is then determined by finding the intersect ofRP⃗andAB⃗using simultaneous equations.The magnitude ofRP⃗gives the stability margin corresponding to sideAB⃗:(1)M1=|RP⃗|.Similarly for sidesAC⃗andBC⃗:(2)M2=|TP⃗|;M3=|SP⃗|.The overall stability margin is the smallest of these margins and can be expressed:(3)Ms=Min(Mi).A model was developed in SimMechanics with the purpose of carrying out an analysis of the torques in the spherical joints at the top of each leg, with a view to restricting the gait to positions that the actuation system can handle.When the system has all of the feet on the floor (see Fig. 1) and under the assumption that all feet are secured to the floor, the torque in each joint is effectively zero, as each leg constrains one of the six degrees of freedom of the platform, so the actuators on the spherical joints are redundant in this situation and can be disengaged if desired; this is the normal scenario on which and PKM machine tool (e.g. FreeHex) works.While in walking mode with at least one foot off the ground, when the spherical joint actuators are engaged, there are two types of torque that the actuators must be able to handle: (1) the torque in the upper spherical joint resulting from supporting the mass of the WalkingHex and its payload in its current orientation when the corresponding foot is on the ground and (2) those resulting from the total mass of the leg and foot when raised in the air.The torque arising for the second case is relatively easy to calculate analytically for a given leg elevation angle and tends to be the smaller of the two types of torque.The torque in the joints at the top of the legs that are on the ground during a particular stage of walking is less straightforward to calculate due to the interaction between the components of the support structure, so MSc ADAMS  [40] was selected as a suitable environment to simulate a simplified model of the hexapod in order to find these torques and check the stability of gait poses, as it is a scriptable multi-body dynamics simulator. Gaits were generated and their static stability was analysed in MATLAB; the poses from these gaits were then passed to ADAMS and simulated individually. The torques, forces and velocity of the centre of mass (in order to determine if the hexapod had slipped or toppled) were then passed back to MATLAB for analysis. In parallel with this, SimMechanics  [41] was employed to give an estimate of the values as a means of verification.Fig. 3shows the model constructed in ADAMS in order to test the gaits. The system is modelled parametrically using variable length links to represent the telescopic legs (prismatic jointsP1–P6), a plate to represent the platform and its mass, short cylinders to represent the feet and a cylinder to represent the cylindrical payload and its mass. The actuators used for positioning and holding the leg at a constant angle are simulated by constraints placed on the upper spherical joints(S1–S6)that prevent rotation.Fig. 4shows the SimMechanics configuration used to simulate the WalkingHex. In Fig. 4(a), the virtualisation of the model can be observed, including the Centre of Mass of each of the components. The feet for which no centre of mass symbol is visible are in contact with the floor, so the mass and size of the foot is absorbed by the ground component as is of no consequence to the model. Fig. 4(b) shows the block diagram for a single leg: at the top of the leg, a custom joint with the same number and type of degrees of freedom as a spherical joint is used to allow application of a driving condition, representative of the actuator on the upper joint. Fig. 4(c) shows the full block diagram for the system; the legs are highlighted in blue (i), the platform in green, the feet in orange (ii) and loads on the system in pink (iii). Readings are taken directly from the custom joints in the leg blocks and exported to the workspace via the beige coloured blocks.The prismatic joints are not simulated directly in SimMechanics and ADAMS as they are set to a predetermined extension at each static stage of operation and may be considered rigid in this part of the model.A simple study using a basic tripod gait was conducted in the SimMechanics and ADAMS environments in order to validate the ADAMS model. The study has eight Stages as shown in Cartesian co-ordinates in Fig. 5:The transitions between the stages of this gait are outlined in Table 2specifying which feet are moved at each stage, in which direction and by how much:The results of the two analyses are shown in Fig. 6.During Stages 2 and 3, legs 2, 4 and 6 are in the air and the only torque is due to the total mass of the leg and foot and the fact that the leg is not in a neutral vertical position. Legs 1, 3 and 5 are carrying the load of the entire robot, so experience a larger torque. Stages 5 and 6 have the largest torques since the feet are advanced in the direction of motion, while the platform has not been translated; thus producing the lowest stability. A gait with lower maximum torques can be produced by including a stage in which the platform is translated in-between Stages 4 and 5.The two simulations show a high level of agreement for Stages 2, 3, 5 and 6, but a serious discrepancy for Stages 1, 4, 7 and 8. This is due to a difference in assumptions between the two models. In the SimMechanics model, the contacts between the feet and the floor are modelled as welded joints; this removes 2 degrees of freedom that are present in the case of non-perfect friction, motion in thexandydirections. In ADAMS, the contact with the floor is modelled by Coulomb friction, so that the feet are only held in place by frictional forces in thexandydirections and the torques in the upper joints that prevent the legs from splaying. This can be demonstrated by considering the special case whereby the feet are directly below the upper spherical joints, meaning that the legs are vertical and the torques must be zero; as the splay of the feet increases, the torques should increase linearly and proportionally.It can be shown using simple trigonometry and assuming symmetry and uniform cylindrical legs that for the case whereθFS=θU:(4)Ti=(MP+Mpl+3ML)6g(RFS−RP).Substituting in the values from Table 1 forMP,Mpl,MLandRP:Ti=27.242(RFS−0.0975)=27.242RFS−2.6561.This case was evaluated using ADAMS in order to verify this behaviour, starting withRFS=0.0975m, which is the same value asRP, as can be seen in Stage 1 of Fig. 7and finishing atRFS=0.1875(Stage 5).The result of this investigation was that the torque was found to increase linearly with foot spacing radius as:(5)Ti=26.823RFS−2.617.This represents errors of 1.54 and 1.47% in the gradient andy-intercept respectively; this is a good level of agreement between the analytical model and ADAMS predictions. The values provided by ADAMS are very similar to the theoretical results and most importantly, they cross thexaxis at the same point (0.0975), whereRFS=RP, meaning that the ADAMS model is providing more accurate results for Stages 1, 4, 7 and 8.Apart from these effects, the two sets of results shown in Fig. 6 match closely, which shows that the figures produced by the ADAMS model are very similar to those produced by the SimMechanics model and it is therefore suitable to carry out the required calculations for the optimal step. Due to the identified issues with the SimMechanics model, it was not subsequently used.The effect of varying different system parameters (e.g. foot placement, platform attitude) can be established, in this case, by considering a standard gait (Fig. 5). A simulation was conducted in order to investigate how the stability margin and torque in the upper spherical joints vary with changes in foot placement (foot spacing angle and radius, see Fig. 8), hexapod rotation (Section  3.3.4), platform translation (Section  3.3.3) and platform attitude (pitch with respect to thexdirection) (Section  3.3.2) as the slope of the terrain changes. In this paper, only slopes in thexdirection (the direction of advance) will be considered for brevity. Slope angle and platform pitch are taken using opposing sign conventions; in order for the platform to be parallel to a slope ofπ9c, the pitch should be−π9c.The feet are placed on a circle at a fixed radius to ensure that the weight of the robot is evenly distributed; the feet could be placed in any required position, with each foot position given independently in Cartesian co-ordinates, but confining their placement to a circle reduces the number of possible poses to a manageable number.As can be seen in Fig. 6, Stage 6 is characterised by the highest total torque in the system, so it was chosen as an example for optimisation in this paper. This methodology can be applied in turn to each of the stages of the gait.The examples of results illustrated here for each set of parameters are presented as a diagram showing a sample set of poses and a results graph for each of the minimum stability margin and maximum torque in the upper joints for a pose. Results for Stages for whose poses cause the WalkingHex to become unstable are omitted from the torque graphs as they cannot be evaluated and set, by convention, to −0.01 for the margin graphs.In order to maintain the same setup for each of the studies, the following values were chosen for the controlled experimental parameters (see Table 3):The coefficient of friction was held at 0.8 for the course of the following experiments, as this is a close approximation to what the actual value may be for the completed hexapod; however, several simulations were run in order to determine the effect of varying the coefficient of friction. The main result was the shift in the angle of inclination at which the hexapod started to slip. The angle at which the hexapod slips increases with the coefficient of friction up to 0.7 (0.45 rad, see Table 4), then remains constant; this is due to the fact that the hexapod becomes unstable at this point, so the failure mode is tumbling rather than slipping. Other than this, the effects were minimal.The first parameters to be considered as variables in the system are those pertaining to foot spacing: the foot spacing angle and radius. The first set of results is for the system on a flat surface.Fig. 9(a) shows that the stability margin increases with increases in both foot spacing radius and angle; the wider the spread (as is intuitive) and closer the opposing pairings of feet, i.e. smaller values of((23π−θFS)−θFS), as in agreement with Karimi and Nategh  [36], the more stable the system becomes.Fig. 9(b), however, shows that increasing the foot spacing radius(RFS)also increases the maximum torque,TMin the system; such that some of the results atRFS=0.22mexceed theTM≤10Nmlimit. Unsurprisingly, small foot spacing radii produce unstable states; this is evident from the unstable (dark) region on Fig. 9(a) and the absence of results in this region on Fig. 9(b). The smallest stable value ofRFSin both graphs is 0.14 for a foot spacing angle(θFS)of518π. At low radii, the torque does not appear to have any strong dependence onθFS; however, at larger radii it becomes apparent that either extreme ofθFS(where 2 ft are close together) is preferable to evenly spaced feet(θFS=π6).Considering a central value ofRFS=0.2andθFS=π6, a change of ±20% inRFSvalue results in ±67% change inMSandTMwith variations between ±16%. A change of ±33% inθFSresults in variations in the order of ±24% ofMSandTMchanges by∼−3%.Both graphs suggest that largeθFSvalues are beneficial, but there must be a trade off in terms of foot spacing radius to ensure that the hexapod is highly stable while minimising the torque in the upper joints. As such, for further studies, anRFSof 0.2 m will be used as the standard foot spacing radius, as this offers good stability without exceeding the torque limit.The shape of the unstable results matches well between the two graphs, but shows the stability margin to be slightly optimistic. A safety margin must be applied to the stability margin results in order to ensure that the physical hexapod does not topple.Since one of the main objectives of this system is to enable walking on inclined surfaces, it is important to consider how the choice of foot placement affects the stability and torque when a slope angle is introduced. The example taken here is that of a118πcslope. Fig. 10(a) and (b) show that the shape of the stable regions of the graphs is very similar when on a slope, but with the stability significantly compromised; there are far fewer stable poses than in the previous case and those that remain stable have lower margins. The torques are slightly higher when on a slope than those present on the flat, but by less than 10%, so the effect on torque is considerably weaker than that on stability; however, due to the combined effect, there are now only a few points for which the maximum torque is less than the limiting value.In summary, higher foot spacing angles are always beneficial, choice of foot spacing radius should be a balance between low torques and high margins. Since stability is a greater issue when walking on a sloped surface, methods of improving the stability must be investigated and employed.The next parameter under consideration is platform pitch,θP. Since the platform is carrying a large payload with a finite thickness, the centre of mass of the hexapod is located above the centre of the platform; this means that the centre of mass can be shifted in thexorydirection by a small amount by changing the orientation of the platform, in particular, the pitch and roll. According to the choice of coordinate systems specified in Fig. 8, the pitch has an effect on thexcoordinate of the centre of mass, which is important when considering slopes in thexdirection. Since slopes in theydirection will not be considered, the roll parameter is of lower importance and will not be included in the examples.Fig. 11shows a selection of the poses, based on Stage 6, used in this simulation that were repeated over a series of angles of inclination; the platform pitch is varied fromθP=−π6to+π6over 13 Stages.The minimum stability margin and maximum torque for each stage were measured and plotted in Fig. 12; results for the torque are omitted in the case that the hexapod is unstable.Fig. 12(a) shows that the stability of the system decreases linearly as the slope angle increases and that the stability also decreases linearly with the platform pitch (the platform angle is best opposing the angle of the slope). Due to the rotation of the hexapod coordinate system when it is placed on the slope, the centre of mass of the system is shifted backwards making the system less stable; the hexapod topples long before it reaches the slipping point. Nevertheless, using WalkingHex unique constructive characteristics, the stability margin is improved by tilting the platform forwards, which moves the centre of mass forwards; however, the system fails to achieve an optimal value as the adjustment is small.Fig. 12(b) reveals that pitch adjustments have little effect on the highest torque for any given slope; this means that the pitch can be adjusted to increase the stability margin without affecting the maximum torque. It also shows that the stability margin graph is optimistic, as the cut-off point of this set of simulations is at a lower angle for most values of platform pitch. The torque values for all the results are quite high (>9 N m) and increase with slope angle; the maximum walking angle achievable for the proposed system utilising these parameters would be190πc, a feeble accomplishment.Considering a roughly central value for the stable zone,α=π45,θP=π18: a change of ±50% inαresults in ±26% change inMSand ±5% change inTM. A change of ±50% inθPgives ±15% change inMSand an insignificant change inTM(∼0.3%).In conclusion, the stability margin can be improved slightly by tilting the platform without affecting the torques to any degree; an alternative method of improving the pose must be established and used in conjunction to achieve advancement up a slope, particularly since the torques in the system are so close to the 10 N m limit. The stability is not the limiting factor in this case.A second factor to consider is the translation of the hexapod platform with respect to the central point of the foot spacing circle.Fig. 13shows a selection of the poses, based on Stage 6, used in this simulation that were repeated over a series of angles of inclination; with platform translations ranging fromxP=−0.05to+0.4over 16 Stages.Fig. 14(a) immediately paints a better picture of the situation for the stability once the platform is translated: the graph is clearly planar either side of a straight line of inflection; this means that for any given slope angle, there is an optimal platform translation and there is a strong, regular dependency. By applying a fit to the maxima, a straight line relationship was determined in order to give the optimal translation for each slope value based onMs:(6)Sopt(Ms)=0.35895×α+0.09105.TheR2value for this fitted line is 0.99, indicating a good level of fit for this relationship.Fig. 14(b) shows that the torques are minimal in a similar region to which the stability margins are greatest; though in the region between the peaks caused by low stability the torques are weakly dependent on the translation. This allows for optimisation of stability without compromising the level of torque in the system. A fit was applied to the minima, and the line of best fit is close to that for the stability margin:(7)Sopt(TM)=0.30595×α+0.1249.TheR2value for this fitted line is 0.9828, again indicating a good level of fit.From this graph we can see that the system remains stable up toπ6, provided that the translation is within the optimal range. Climbing any slope of greater degree is not feasible for this design of hexapod utilising a tripod gait.By repeating this analysis for each stage of the basic gait, an optimal set of translations is produced:Fig. 15shows that for the optimal gait, the translation of the platform should occur between Stages 3 and 5 and that the initial location of the platform should be −0.009 m in thexdirection.Fig. 16shows a selection of the poses, based on Stage 6, used in this simulation that were repeated over a series of angles of inclination; the platform pitch is varied fromθP=0to+2πover 73 Stages.Fig. 17shows that the rotation of the hexapod can have a significant impact on the stability margin and torque in the system, even when the system is on a flat plane(α=0). There is a significant agreement between the shapes of the stable regions identified in the graphs, as well as lower torques in conjunction with higher stability margins, which is highly desirable. The stability of the system can be extended by at least 10 degrees simply by aligning the orientation correctly; since the system has tri-radial symmetry, it is perhaps not surprising that the pattern repeats every2π3c. The optimal rotation value for Stage 6 is:(8)θROpt(6)=π2+n×2π3wheren∈Z.Considering a point along the line of optimal alignment(θR=π2,α=π45), a change of ±50% inαresults in ±6.8% change inMSand ±9% change inTM. A change of ±33% inθRgives −68% change both ways inMSandTMchanges between +72% and +56%.However, there is a further consideration in the use of this parameter: it is strongly dependent on the pose of the hexapod, that is, the optimal rotation for Stage 6 is not the same as the optimal rotation for, say, Stage 3. It is also not a parameter that is easily changed in-between stages, and it is in any case undesirable for the hexapod to have to stop and perform a rotation in the middle of an advancement gait as this will considerably slow the advancement. With this in mind, it is worth investigating the optimal angle for other stages in order to measure the effect on the gait as a whole. The example of Stage 3, the most unstable pose in the first half of the gait cycle will be considered here.Fig. 18shows that the system is far more stable and experiences lower torques at Stage 3 and is therefore able to stand on a steeper slope without toppling. As such, this stage warrants a lower level of consideration in the decision over what angle the hexapod should be rotated through. Both graphs show that at lower slope angles there is only a weak dependency on hexapod rotation and it is not until the slope exceedsπ12cthat there is a significant distinction over the rotational cycle. As with Fig. 17, there is a2π3crepetition of a sinusoidal relationship for both margin and torque, with favourable conditions lying together (low torque and high margin). The optimal rotation value for Stage 3 is:(9)θROpt(3)=π6+n×2π3wheren∈Z.This pattern is offset from that of Stage 6 byπ3c, meaning that optimal conditions for both stages cannot be simultaneously achieved. Either a midway compromise must be reached, or the more logical approach is to ignore one optimal condition in favour of the other, considering the relative stability of Stage 3.Since Stage 6 is more disadvantageous than any other stage and the optimal rotation is very similar for Stage 5 (not presented here), the second most disadvantageous pose, there is no further benefit to presenting further rotation analyses for other stages, since only one optimisation can be usefully applied during a gait sequence.Looking closely at Fig. 18, it can be seen that there is a lip present near the horizontal position (slope angle  =  0); this is due to the fact that the centre of mass is offset slightly forwards in thexdirection, so that when the hexapod is tilted slightly, the centre of mass moves backwards, closer to the centre of the foot spacing diameter. Once the angle again increases the centre of mass moves further backwards, past the optimal position and the margin decreases again.Simulations were also conducted to briefly investigate the interaction between foot spacing angle and hexapod rotation on a 0.3491 rad slope. It was found that increasing the foot spacing angle has a very limited effect on the maximum and minimum stability margin (order of 0.0003 m over 0.3491 rad); perhaps the more interesting result is that the phase of the minimum stability margin undulation seen in Fig. 17, such that for a 0.1745 rad increase in foot spacing angle, there would be a −0.1745 rad hexapod rotation shift in the peak margin. This means that the two parameters are not independent and can be tuned in conjunction with one another. This is due to the alignment of a point of the stability triangle with the area occupied by the projected centre of mass.Changing the foot spacing angle, however, has a significant impact on the torques in this case, seeing an increase in torque with foot spacing angle, as well as a phase shift of 0.1745 rad for an increase of 0.1745 rad in foot spacing angle (see Table 5). This increase in torque is likely due to the increased angle of the legs to the vertical.Initially, it is instructive to evaluate a standard gait, but once the criteria for optimising the gait and a method for evaluating the criteria are established, the system can be optimised using numerical methods. The program could also be implemented as part of a gait planning algorithm, such as the one presented in Fig. 19.This proposed gait can be described as follows: the terrain type that the WalkingHex will be moving in (such as flat concrete, steel pipe, inclined plane or grating) and an approximate trajectory are defined, either by user input or by intelligent recognition (which is not in the scope of this paper). The program then chooses appropriate system parameters from a database of parameters generated from simulations and previous experience and determines a target step length. At this point, the stability of the WalkingHex is calculated in order to assess whether its current stability is within the required margins; if it is not, the system moves to restore safe values of stability. If at any point this is not possible, the WalkingHex has reached a deadlock and must be retrieved manually. Once stability has been assured, the program uses the system parameters to determine the next target point along the trajectory (stepwise discretisation). The system then finds the stability margin for motions of each leg (for pentapod gait) or set of legs (other gaits) and the platform by simulating the movements in turn. The optimal motion is selected and performed. This cycle is repeated until the destination is reached.

@&#CONCLUSIONS@&#
The industrial need to perform complex multi-axis processing in-situ large structures/hazardous environments has led to research for the developments of mobile/walking machine tools. To address this need, this paper reports on a theoretical analysis of a Walking free-leg Hexapod structure (WalkingHex) that represents a key step forward from the previously reported Free-leg Hexapod configuration. The parameters of primary relevance to achieving walking capability were identified and methods of determining numerical values for these variables are described. Investigations into the effects of foot positioning, platform attitude and translation, and hexapod rotation on a selection of gait stances were conducted.As such, the main contributions of the paper can be summarised as follows:–Identification of optimal gait strategies for the WalkingHex by combining the requirements of static stability of the structure and the need to restrict the torques in the upper joint actuations; this has been achieved by development of analytical and numerical (SimMechanics, ADAMS) parametric modelling tools that, used in conjunction, can lead to the selection of optimal gaits on various walking terrains.The simulations run for different WalkingHex configurations led to the conclusion that:∘The feet are optimally grouped in consecutive pairs different to the consecutive pairings of the top joints; increasingθFSby 66% (creating this grouping) offers a stability margin increase of 61% and a maximum torque decrease of 9% as compared to equispaced feet.The best foot spacing radius should be a balance between limiting the maximum torques and maintaining a high margin of stability; increasingRFSby 20% increases the stability margin by 67%, but also increases the maximum torque by 18.5%.Exploiting the kinematic capabilities given by the WalkingHex concept, it was also found that platform translation is the best mechanism to maximise the stability and minimise the torques at each stage when the hexapod is on a slope; for a set of WalkingHex design specifications, using the simulation models, a relationship between the angle of inclination and the translation of the platform for optimal stability was identified, which is valid forθFS=π6candRFS=0.2m. Running the simulation with alternative foot setups would lead to the identification of similar equations.In the same manner, the specific configuration of the WalkingHex enables the rotation of the hexapod about its central axis to be optimised in order to reduce the torque and increase the stability in the worst stages of the gait; for a set of WalkingHex design specifications, the rotation is found to be optimal forθR=π2and for any rotationally symmetrical configuration withθFS=π6candRFS=0.2m.Varying the platform pitch was found to have a smaller effect on the stability margin and maximum torque in the system, but can still be used to make adjustments to the stability margin without compromising the torque in the joints.