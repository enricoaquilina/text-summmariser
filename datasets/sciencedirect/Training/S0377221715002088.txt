@&#MAIN-TITLE@&#
Optimal minimum bids and inventory scrapping in sequential, single-unit, Vickrey auctions with demand learning

@&#HIGHLIGHTS@&#
We dynamically optimize minimum bids in a sequence of single-unit auctions.A complete characterization of an optimal policy is provided.Our model and results are extended to include Bayesian demand learning.

@&#KEYPHRASES@&#
Sequential auctions,Bayesian learning,Dynamic programming,

@&#ABSTRACT@&#
Retailers often conduct sequential, single-unit auctions and need to decide the minimum bid in each auction. To reduce inventory costs, it may be optimal to scrap some of the inventory rather than holding it until it is auctioned off. In some auctions, the seller may be uncertain about the market response and hence may want to dynamically learn the demand by observing the number of posted bids. We formulate a Markov decision process (MDP) to study this dynamic auction-design problem under the Vickrey mechanism.We first develop a clairvoyant model where the seller knows the demand distribution. We prove that it is optimal to scrap all inventory above a certain threshold and then auction the remaining units. We derive a first order necessary condition whereby the bidders’ virtual value at an optimal minimum bid equals the seller’s marginal profit. This is a generalization of Riley and Samuelson’s result from the one, single-unit auction case. When the virtual value is strictly increasing, this necessary condition is also sufficient and leads to a structured value iteration algorithm.We then assume that the number of bidders is Poisson distributed but the seller does not know its mean. The seller uses a mixture-of-Gamma prior on this mean and updates this belief over several auctions. This results in a high-dimensional Bayesian MDP whose exact solution is intractable. We therefore propose and compare two approximation methods called certainty equivalent control (CEC) and Q-function approximation. Numerical experiments suggest that Q-function approximation can attain higher revenues than CEC.

@&#INTRODUCTION@&#
Private and public institutions, large retailers, and individual sellers use sequential, single-unit, online auctions of identical items as a revenue generation and inventory management tool (Chen, Ghate, & Tripathi, 2011; Pinker, Seidmann, & Vakrat, 2003, 2010). These auctions are conducted either on the seller’s own website as for example at Dell (dellauction.com) and Sam’s Club (auctions.samsclub.com), or through a facilitator such as eBay.com or Liquidation.com. Other examples of retail auction websites include eBid.net, uBid.com, bidz.com, CQout.com, QuiBids.com, bidcactus.com, and skoreit.com. Owing to the large number and the significant total monetary value of retail goods sold in online auctions, there has been a growing interest in the design and analysis of such auctions.11The corporate website of eBay, http://www.ebayinc.com/who, accessed 15.02.12, stated that “with more than 97 million active users globally (as of Q2 2011), eBay is the world’s largest online marketplace, where practically anyone can buy and sell practically anything. Founded in 1995, eBay connects a diverse and passionate community of individual buyers and sellers, as well as small businesses. Their collective impact on e-commerce is staggering: In 2010, the total value of goods sold on eBay was $62 billion – more than $2000 every second.” Liquidation.com, website accessed on 15.02.12, stated that their “marketplaces provide nearly 1.2 million registered professional buyers access to a global, organized supply of wholesale, surplus and salvage assets in over 500 product categories. Since inception, it has conducted over 1.8 million online transactions generating over $1 billion in gross merchandise value.”The minimum bid, which is also often called the starting bid or the public reserve price, is the key design variable in single-unit, online auctions of retail goods (Pinker et al., 2003). The seller’s minimum bid requirement is posted on the website along with other transaction rules.22eBay, Liquidation.com, uBid.com, CQout.com, Sam’s club, bidz.com, dellauction.com, and others offer this format. For instance, dellauction.com states (accessed 28.05.13), “Bid. Win. Enjoy... It’s that simple! Auctions start at $.99.” CQout.com states (accessed 28.05.13), “Worried that your item will sell for £10’s when you wanted £100’s? It won’t. When you list an item for auction you can set a reserve price below which the item will not be sold. Only once bidding reaches or exceeds the reserve are you, as the seller, obliged to sell the item for that price to the highest bidder.”The auction is set in motion when a bid above this minimum is posted. The minimum bid serves as a barrier to entry, and hence by requiring a low minimum bid, the seller hopes that she will be able to induce enough bidders to participate, thereby increasing competition and hence the closing price (Bajari & Hortacsu, 2003; Kaiser & Kaiser, 1999; Ku, Galinsky, & Murnighan, 2006; Pinker et al., 2003). However, a low minimum bid requirement allows bidders to post small bids and if a sufficient number of bids are not received, it can lead to a low closing price. On the other hand, a high minimum bid requirement can turn a significant number of bidders away, but it ensures a good closing price if at least one bid is posted. These economic tradeoffs were studied empirically by Vakrat (2000) in hundreds of online auctions, and they are discussed in detail in Pinker et al. (2003).When a seller conducts a sequence of single-unit auctions of retail goods online, additional economic trade-offs in the minimum bid decisions become relevant. Bidders in one auction compete with other bidders in the same auction directly but they also compete with bidders in other auctions indirectly through the opportunity cost of finite inventory. Moreover, owing to the uncertainty in the number of bidders (this is a well-known feature of online retail auctions (Pinker et al., 2003)) and also in the bidders’ valuations, inventory evolves stochastically and hence optimal minimum bids should vary dynamically with inventory on hand. Optimal minimum bids should also depend on the cost of holding inventory. In fact, Chen et al. (2011) and Pinker et al. (2010) have shown that in the presence of inventory costs it may be optimal to dynamically scrap some of the inventory rather than holding it until it is auctioned off.33For example, the store T. J. Maxx buys excess inventory from other retailers. Their website, http://www.tjmaxx.com/how-we-do-it/, accessed 30.06.12, stated that “when a designer overproduces and department stores overbuy, we swoop in, negotiate the lowest possible price, and pass the savings on.” Another similar company, Overstock.com, also offers retailers an alternative inventory clearing channel.This interplay between scrapping and minimum bid decisions further complicates the seller’s problem.Finally, in some auctions, and particularly in auctions of fashion goods, of seasonal products, of new products, and where the seller is new to the market, the seller may not know a priori the distribution of the number of potential bidders, that is, the demand distribution, in its entirety. This is because sellers of such items typically face significant uncertainty about market response, for example, due to varying fashion trends, and more generally, owing to the lack of sufficient past demand data about similar products (Araman & Caldentey, 2009; Aviv & Pazgal, 2005a, 2005b; Farias & Van Roy, 2010; Potoff & Beil, 2007). In this scenario, the seller can learn the demand distribution sequentially over multiple auctions by observing the number of posted bids (bidders that are excluded by the minimum bid requirement are not observed). This introduces an additional, exploration versus exploitation trade-off between demand learning and revenue maximization.We present a Markov decision process (MDP) model to optimize these various trade-offs in minimum bid and inventory scrapping decisions in sequential, single-unit, online Vickrey auctions that a seller conducts while simultaneously learning demand. This paper is organized as follows. Our work is positioned in the context of the existing literature in the next section. In Section 3, we first present the clairvoyant MDP model, where the seller is assumed to know the demand distribution. In Section 3.1, we state the structure of an optimal policy for this clairvoyant MDP. Detailed economic intuition behind this structure is provided in Section 3.2. A streamlined version of the value iteration algorithm, which exploits this optimal policy structure, is proposed in Section 3.3. This algorithm is implemented on several numerical examples in Section 4. Specifically, in Section 4.1, our examples focus on a Poisson-distributed number of bidders with Beta-distributed valuations. In Section 4.2, we conduct sensitivity analyses for these examples: we explore the directional dependence of optimal minimum bids and of optimal scrapping thresholds on the mean demand, the holding cost, and the scrapping price. Our Bayesian model for learning the Poisson demand is developed in Section 5. The relevant Bayesian update formulas for a mixture-of-Gamma prior on the mean Poisson demand are introduced in Section 5.1. These formulas are utilized in the development of our Bayesian MDP formulation in Section 5.2. Exact solution of this MDP is intractable; we therefore propose two approximation methods in Sections 5.3 and 5.4. These two methods are compared via computational experiments in Section 6. Finally, we conclude by discussing some of our modeling assumptions, and outline directions for future research in Section 7. Proofs of all results are provided in four appendices as supplementary material.Our work relates to two distinct streams of research in operations management: the first is about optimal design of online auctions, and the second is about demand learning in inventory control and dynamic pricing problems. We attempt to review only the most relevant papers from this vast literature here.Yu, Wang, and Dang (2006) studied the problem of selling a single unit in a single eBay-like auction, and derived an implicit first order necessary condition for an optimal minimum bid. An extension of this problem, where the seller can reauction the unit if it did not sell in previous auctions, was also discussed. One contribution of Yu et al. was that they incorporated the effect of the so-called insertion fee that the seller incurs for conducting an online auction on eBay into the classic single-auction model of Riley and Samuelson (1981) for traditional auctions. In addition, Yu et al. also enhanced Riley and Samuelson’s classic model, which assumed a fixed number of bidders, by allowing a Poisson distributed number of bidders with a known mean. Yu et al. did not consider sequential auctions and also did not consider inventory costs, scrapping, or demand learning.Chapter 6 in the doctoral dissertation of Hawkins (2003) pursued a data-driven approach to optimal design of sequential, online auctions. Hawkins sought to make as few assumptions about bidder behavior as possible, and to simultaneously optimize multiple auction-design variables such as minimum bid, buy-it-now price, and auction-duration, with models built using publicly available online data from eBay. Owing to the complexity of the resulting models, analytical results were not possible. An experimental, approximate dynamic programming approach was instead employed to numerically obtain good values of design variables. Hawkins did not model demand learning.Vulcano, Van Ryzin, and Maglaras (2002) presented a sequential allocation model where the seller determines the number of units to release from her inventory after observing submitted bids. Each unit has a hidden reserve price that depends on the inventory on hand. The seller is better-off by providing herself with this additional flexibility whereby she does not commit to allocation decisions until after seeing all bids in each auction. However, Hawkins (2003), Odegaard and Puterman (2006), and Pinker et al. (2010) have noted the somewhat peculiar nature of this non-committing mechanism; Pinker et al. (2010) observed that it had not been used in online retail auctions. This non-committing setting in Vulcano et al. was motivated by airline ticket allocation websites such as Priceline.com. Consistent with this motivating application from airline revenue management, Vulcano et al. did not consider inventory costs or scrapping. A special case of our clairvoyant model in Section 3 with no inventory holding costs and zero salvage value of scrapping is similar to a special case of the setting in Vulcano et al. with single-unit, Vickrey auctions. Note, however, the subtle point that the seller in Vulcano et al. needs to use a modified Vickrey mechanism to induce the bidders to bid their true valuations (see their Theorem 2 on p. 1396). The model in Vulcano et al. was generalized to include inventory holding and ordering over an infinite horizon in van Ryzin and Vulcano (2004). Again, neither of these two papers incorporated demand learning.There is a parallel body of literature on sequential auctions, where the seller does not use a minimum bid but instead optimizes the lot-size in each auction (Chen et al., 2011; Pinker et al., 2010; Tripathi, Nair, & Karuga, 2009). There, again, either the number of bidders in each auction is assumed to be a fixed constant known to the seller (Pinker et al., 2010; Tripathi et al., 2009), or the seller is assumed to know the distribution of the number of bidders in each auction (Chen et al., 2011). In the fixed constant demand setting, Pinker et al. (2010) considered a seller that uses a Bayesian approach to learn the spread of the bidders’ uniformly distributed private valuations over multiple auctions.Several models in the inventory control and dynamic pricing areas have incorporated demand learning. Examples of early work on Bayesian learning in inventory models include Dvoretskey, Kiefer, and Wolfowitz (1952), Scarf (1959), Karlin (1960), and Iglehart (1964). For instance, Scarf generalized the classic inventory model of Arrow, Harris, and Marschak (1951) to the case where the demand distribution belongs to an exponential family characterized by an unknown parameter. Karlin (1960) and Iglehart (1964) considered the case where the demand distribution belongs to the range family. Variations of these early works were later studied by Azoury (1985), Lovejoy (1990), Lariviere and Porteus (1999), and others.Some of the recent literature on demand learning in dynamic pricing problems is more closely related (than the aforementioned inventory control papers) to our approach here. This literature is reviewed in detail in Araman and Caldentey (2009) and here we only mention three most relevant papers. Aviv and Pazgal (2005b) incorporated demand learning in the Poisson intensity control model of Gallego and van Ryzin (1994). They assumed that the seller’s prior belief distribution about the Poisson rate parameter is Gamma. Araman and Caldentey (2009) also considered a variation of the Poisson intensity control model where the Poisson demand intensity was scaled by an unknown parameter θ that represented the market size. Following a Bayesian approach, they assumed that the seller has a prior belief about two (or, more generally, finite) possible values of θ: θlow and θhigh, indicating a small and a large market size, respectively. More recently, Farias and Van Roy (2010) studied an extension of the Poisson intensity control problem, where the seller’s prior belief on the Poisson rate parameter is a mixture-of-Gamma distributions. They introduced a new heuristic called decay balancing, which outperformed the certainty equivalent and greedy heuristics studied by Aviv and Pazgal (2005b), and by Araman and Caldentey (2009).In the context of this literature, we make the following contributions:1.a clairvoyant MDP model for making optimal minimum bid and scrapping decisions in sequential, single-unit, online Vickrey auctions of retail goods is provided;a complete characterization of the structure of optimal minimum bid and scrapping decisions is derived;detailed analytical as well as numerical sensitivity analyses are included to gain managerial insights into the effect of model parameters on optimal policies;a Bayesian MDP model for learning demand in dynamic auctions is developed;and finally, two approximate solution methods for the above Bayesian MDP are proposed and compared; both these methods utilize our structured solution of the clairvoyant problem.We consider a seller who initially holds I ≥ 1 units in her inventory. The seller uses a sequence of online, single-unit auctions of equal durations44Based on data collected for sequential, online auctions, Goes, Karuga, and Tripathi (2010) found that durations of successive auctions of identical items remained almost constant. The equal durations assumption is ubiquitous in the sequential auctions literature (Chen et al., 2011; Pinker et al., 2010; Tripathi et al., 2009).to clear inventory and generate revenue. Before each auction, she can scrap some of the units from her inventory for a scrap price of s ≥ 0 per unit scrapped. A single unit is then put up for auction and the minimum bid requirement is announced on the website. As in Pinker et al. (2010), Yu et al. (2006), we assume that the seller uses the Vickrey,55In some online auctions, sellers can use a hidden reserve price — a closing price below which the seller is not obligated to sell. This option is available to sellers, for example, on eBay, and then the seller is required to (i) commit to a reserve price before the auction begins by submitting it to eBay, and (ii) announce that a reserve price is being used, but is not required to disclose its value to the bidders. In Vickrey auctions, the seller is indifferent between public and hidden reserve prices because it is optimal for risk-neutral bidders to simply bid their valuations under the iid private valuations assumption (Klemperer, 1999; Levin & Ozdenoren, 2004; Pinker et al., 2003; Riley & Samuelson, 1981; Vickrey, 1961). In other words, hidden and public reserve prices are equivalent in our setting.that is, the second-price-sealed-bid mechanism, as this is essentially the format used by eBay (Kittsteiner & Ockenfels, 2006). Remaining units are held in inventory during the auction. A cost of h ≥ 0 is incurred per unit held in inventory over the duration of the auction and is charged at the beginning of the auction. At the end of each auction, inventory level either drops by one (if at least one bid is posted) or stays the same (if no bids are posted). This process continues until all inventory is cleared.66Our model and results can be easily extended, with minimal notational change, when the seller only conducts a fixed number of auctions T and fetches a concave salvage value for remaining units at the end of these auctions.The discount factor over the duration of each auction is 0 < δ < 1. The seller’s goal is to find a rule for inventory-scrapping and minimum bid decisions to maximize total discounted expected profit over all auctions. We acknowledge that, as is common in all such models, it would be difficult to come up with a risk-adjusted discount rate. Calculation of this rate is beyond the scope of this paper, and we refer the reader to the literature in finance and accounting regarding this issue (see Hull, 1986 and references therein, for instance).Our assumptions regarding the information structure are identical to a vast majority of the analytical literature on traditional as well as online auctions both in the single auction and the sequential auction settings. In particular, we assume that bidders across different auctions are independent; each bidder is risk-neutral and has a private valuation for a single item; private valuations of different bidders in any one auction and across auctions are independent and identically distributed (iid) random variables; the distributions of these private valuations are known to the seller; and finally, the numbers of potential bidders in all auctions are iid random variables. A discussion about the validity of these assumptions and their limitations is included, for example, in Chen et al. (2011), Klemperer (1999), Myerson (1981), Pinker et al. (2010), Riley and Samuelson (1981), van Ryzin and Vulcano (2004), Vickrey (1961), Vulcano et al. (2002), and we do not repeat it here.The random number of potential bidders in any auction is denoted by N. Let p(n) be the probability mass function of N with support77Our analysis goes through without change when the support is a finite set.{0, 1, 2, …} and mean 0 < λ < ∞. Here, as in the existing literature on sequential auctions, we assume that this probability mass function does not depend on the auction index. This assumption can in fact be relaxed by developing a non-stationary MDP model that includes the auction index in its state, especially if the dependence of p(n) on the auction index can be characterized by a simple functional form (see Chen et al., 2011). In this and the next few sections, we model and analyze the problem where the seller is assumed to know the probability mass function p(n) entirely (hence the name clairvoyant). In a subsequent variation in Sections 5 and 6, we assume that the demand is Poisson88See Etzion, Pinker, and Seidmann (2006), Pinker et al. (2003), Vakrat and Seidmann (2000) for an empirical justification for this Poisson demand assumption.distributed and that the seller knows this but she does not know its mean λ. Instead, we assume, following a Bayesian approach, that the seller has a prior belief distribution on λ and that she updates this belief over multiple auctions by observing the number of posted bids.We let Ω denote the distribution function of bidder valuations. Following standard practice in this area (see, for example, Myerson, 1981; Riley and Samuelson, 1981; van Ryzin and Vulcano, 2004; Vulcano et al., 2002),99The support of θ was in fact[v̲,v¯]in these papers; here we instead use [0, 1] for simplicity of notation.we assume that Ω(0) = 0, Ω(1) = 1, and that Ω is continuously differentiable over the interval [0, 1] with a density function θ that satisfies θ(v) > 0 for all v ∈ (0, 1). Differentiability of Ω over the open interval (0, 1), continuity of Ω at the end-points 0 and 1, and the fact that θ(v) > 0 for all v ∈ (0, 1) together imply by Theorem 5.14(a) in Apostol (1974) that Ω is strictly increasing over [0, 1]. To avoid trivialities, we assume that the scrap-price is strictly smaller than the largest private valuation; that is, s < 1. If not, then it is optimal to simply scrap all units, because, in a Vickrey auction, the seller will never receive a bid higher than the largest private valuation.Our first task is to obtain an expression for the expected revenue in a single auction with minimum bid b. As noted earlier, since the Vickrey mechanism is truth-revealing, bidders bid their valuations. Thus bidders whose valuations are less than b will not post a bid, whereas others will; of course, no bidder will bid higher than 1. Thus, b ∈ [0, 1] without loss of optimality. As in Yu et al. (2006), we invoke Proposition 1 in Riley and Samuelson (1981), which implies that in a Vickrey auction where the number of potential bidders is fixed at n ≥ 1 and the minimum bid is b, the seller’s expected revenue equals(1)ψn(b)≜n∫b1(vθ(v)+Ω(v)−1)Ω(v)n−1dv.Thus, with a random number N of bidders, the expected revenue is given by(2)ϕ(b)≜∑n=1∞ψn(b)p(n)=∑n=1∞(np(n)∫b1(vθ(v)+Ω(v)−1)Ωn−1(v)dv),forallb∈[0,1].Since the expected revenue function is given by an infinite series, we first need to establishLemma 3.1The expected revenue ϕ in(2)is continuous over b ∈ [0, 1].Recall from Myerson (1981), Riley and Samuelson (1981), van Ryzin and Vulcano (2004), Vulcano et al. (2002) and others that the function J(v)≜v − (1 − Ω(v))/θ(v) is called bidders’ virtual value. Using this, we rewrite ϕ in a compact and insightful form as described next. The probability that no bids are posted, and hence that the inventory remains unchanged, equalsp(0)+∑n=1∞Ωn(b)p(n)=∑n=0∞Ωn(b)p(n). We denote this probability by q(0, b). The probability that at least one bid is posted, and hence that the inventory drops by one, equals 1 − q(0, b). Since the probability q(0, b) is given by an infinite series, we need to establish.Lemma 3.2The probabilityq(0,b)=p(0)+∑n=1∞Ωn(b)p(n)is continuous over b ∈ [0, 1]. More strongly, it is continuously differentiable1010Derivatives at end-points of closed intervals are interpreted as the appropriate one-sided limits as on p. 108 of Apostol (1974) and on p. 78 of Kaplan (1973).over [0, 1] and its derivative is given by(3)dqdb=∑n=1∞nΩn−1(b)θ(b)p(n),forallb∈[0,1].Since the expected revenue function is given by an infinite series, we also need to establish.Lemma 3.3The expected revenue ϕ in(2)can be rewritten as(4)ϕ(b)=∫b1J(v)dqdvdvforallb∈[0,1].The function q has another nice interpretation—it is the distribution of the highest valuation in one auction. As a result, the derivative in (3) is the density function of this highest valuation. Expression (4) can then be interpreted as saying that the expected revenue from one auction with minimum bid b equals the expected virtual value of the bidder with the highest valuation as long as this valuation is over b. Finally, since the integrand in (4) is given by an infinite series, we need to establish.Lemma 3.4The expected revenue ϕ in(2)is continuously differentiable over (0, 1) with derivative given by(5)dϕdb=−J(b)dqdbforallb∈(0,1).We are now ready to model the seller’s decision problem as a stationary, discounted MDP (Puterman, 1994; Ross, 1983) whose state equals the inventory on hand. Recall that for such an MDP, a stationary policy is optimal. That is, it suffices to find, irrespective of the stochastic history of inventory evolution and of the auction number, (i) the number yiof units to be scrapped from each inventory level 1 ≤ i ≤ I, and (ii) the minimum bid bj∈ [0, 1] in each post-scrapping inventory 1 ≤ j ≤ I. For 0 ≤ i ≤ I, we let F(i) denote the maximum total discounted expected profit earned from all future auctions starting with inventory i on hand. Function F is called the optimal value function. Finally, for any 1 ≤ i ≤ I, we use ΔF(i − 1)≜F(i) − F(i − 1) to denote the marginal value1111We use this notation Δ to denote marginal values of all functions of non-negative integers throughout this paper.of the ith unit.The optimal values F(i) uniquely satisfy Bellman’s equations given by(6)F(i)=max0≤y≤i{sy+G(i−y)},for0≤i≤I,where(7)G(j)=maxb∈[0,1]{−hj+δϕ(b)+δq(0,b)F(j)︸nobidsposted+δ(1−q(0,b))F(j−1)︸atleastonebidposted}(8)F(i)=maxb∈[0,1]{−hj+δϕ(b)+δF(j−1)+δq(0,b)ΔF(j−1)},for1≤j≤I,and(9)G(0)=0.Here, the right hand side of (6) includes two terms. The first term, sy, accounts for the revenue earned by scrapping y units for a price of s each. The second term, G(i − y), accounts for the optimal discounted expected revenue generated through all remaining auctions. The right hand side of (7) includes four terms. The first term, − hj, accounts for the holding cost incurred for j units in the inventory. The second term, δϕ(b) corresponds to the discounted expected revenue earned through a single-unit Vickrey auction with minimum bid b. The third and the fourth terms account for the optimal discounted expected revenue generated through all remaining auctions. The first of these terms corresponds to the case where the auction is unsuccessful as no bids are posted. In our notation, the probability of this event is q(0, b) and the next inventory is remained at j. The second of these terms corresponds to the case where the auction is successful as at least one bid is posted. Again, in our notation, the probability of this event is 1 − q(0, b) and the inventory drops to j − 1. The expression on the right hand side of (8) is obtained after a minor algebraic simplification of (7).These Bellman’s equations are a variation of formulation (3) in Vulcano et al. (2002) and formulation (5) in van Ryzin and Vulcano (2004). Other than the obvious differences that can be ascribed to our inclusion of scrapping decisions, there is another subtle difference between our Bellman’s equations here and those from the existing literature. In the Bellman’s equations in Vulcano et al. and in van Ryzin and Vulcano, the seller already knows the submitted bids at the time of making allocation decisions. Consequently, the observed bids can be considered as a part of the dynamic programming state and hence the expectation operator appears outside the maximization operator. This is not the case in our Bellman’s equations here.Note from the above Bellman’s equations that F(0) = 0 as expected. Moreover, the yiand bjthat achieve1212The function − hj + δϕ(b) + δF(j − 1) + δq(0, b)ΔF(j − 1) is continuous over the compact interval [0, 1] because both ϕ and q are continuous over [0, 1]. Hence (8) does have an optimal solution. This holds for problem (11) as well.the maxima in (6) and (8) define an optimal stationary policy (Puterman, 1994; Ross, 1983).Value iteration (Puterman, 1994; Ross, 1983) is a standard algorithm for solving Bellman’s equations and obtaining the corresponding optimal policy for MDPs. For (6)–(9), value iteration would conceptually work as follows.1313An alternative interpretation of (10)–(12) is that they are Bellman’s equations of dynamic programming for a k-horizon approximation of the original MDP. The decision epochs in this approximation are numbered t = k + 1, k, …, 2, with a boundary at t = 1.We start with F1(i) = 0 for all 0 ≤ i ≤ I, and, for k = 1, 2, 3, …, use the update(10)Fk+1(i)=max0≤y≤i{sy+Gk(i−y)},for0≤i≤I,where(11)Gk(j)=maxb∈[0,1]{−hj+δϕ(b)+δFk(j−1)+δq(0,b)ΔFk(j−1)},for1≤j≤I,and(12)Gk(0)=0.Again note from the above equations that Fk(0) = 0 for all k. We generate these updates until max 0 ≤ i ≤ I|Fk + 1(i) − Fk(i)| drops below a small tolerance and then stop. From the general theory of MDPs (Puterman, 1994; Ross, 1983), we know that limk → ∞Fk(i) = F(i) and limk → ∞Gk(i) = G(i) for all 0 ≤ i ≤ I. The function Fk + 1 thus provides an approximation of the optimal value function F and we obtain an approximate optimal policy by substituting Fkas a surrogate for F in the right hand side of (6)–(8) on termination.However, in our case, exact implementation of value iteration appears to face several hurdles at first glance. The integral and the infinite sums in the definitions of ϕ(b) and q(0, b) may not be easy to evaluate. Even if these were available in closed-form, (11) is a constrained, non-linear optimization problem. Thus, its analytical solution may be non-trivial or even impossible. In general, we may have to resort to discretization of the interval [0, 1], numerical evaluation of the integral, truncation of the infinite sum, and a numerical search procedure for solving (11) in each iteration.Fortunately, with a careful analysis of the structure of solutions to (10) and (11), we are able to simplify value iteration considerably. Furthermore, these structural properties are inherited by solutions of Bellman’s equations (6)–(8) for our clairvoyant MDP, and hence they are of theoretical interest and provide economic insights as well. To begin this analysis, for functions of non-negative integers such as F, we say that F is concave if ΔF(i) ≤ ΔF(i − 1) for i ≥ 1. The terms increasing and decreasing are used in the weak sense to mean non-decreasing and non-increasing, respectively.Theorem 3.5Consider the value iteration scheme(10)–(12)that starts with F1(i) = 0 for all 0 ≤ i ≤ I. In each iteration k = 1, 2, …, we have,Claim 1. non-negative lower bound on pre-scrapping marginal values: ΔFk(i − 1) ≥ s ≥ 0;Claim 2. concavity of the post-scrapping optimal value function: Gk is concave;Claim 3. optimality of a threshold scrapping policy: letjk*(called the scrapping threshold) be the smallest post-scrapping inventory 0 ≤ j ≤ I − 1 for which s ≥ ΔGk(j) (if such an inventory does not exist,1414In fact, we show below in claim 5 that a finitejk*always exists. However, it may not be smaller than I and in that case is not relevant for a seller who starts with I units because then the seller will not scrap any unit.setjk*=I+1as a convention); then, in any inventory 1 ≤ i ≤ I, it is optimal to scrapyik=max{0,i−jk*}units;Claim 4. concavity of the pre-scrapping optimal value function: Fk is concave;Claim 5. scrapping thresholds satisfyj1*=0orj1*=1,andjk*≤jk−1*+1≤k;Claim 6. upper bound on pre-scrapping marginal values: ΔFk(i − 1) ≤ max {s, −h + δ} < 1;Claim 7. optimality of interior minimum bids: it is not optimal to set the minimum bid at 0 or 1 in any post-scrapping inventory j ≥ 1;Claim 8. first order necessary condition for interior optimal minimum bids: if minimum bidbjk∈(0,1)is optimal in post-scrapping inventory j ≥ 1, then the bidders’ virtual value1515The term(1−Ω(bjk))/θ(bjk)in the definition ofJ(bjk)is well-defined for anybjk∈(0,1)becauseθ(bjk)>0.atbjkequals the seller’s marginal profit; that is,(13)J(bjk)=ΔFk(j−1);Claim 9. first order sufficient condition for a unique interior optimal minimum bids: if J is strictly increasing, then(13)has a unique solutionbjkin the interval (0, 1) and this minimum bidbjkis optimal in post-scrapping inventory j;Claim 10. monotonicity of optimal minimum bids: if J is strictly increasing, then the optimal minimum bidsbjkgiven by(13)are decreasing in post-scrapping inventory j;Claim 11. if J is strictly increasing, then, for all j ≥ 1, the optimal minimum bidsbjkgiven by(13)are larger than the optimal minimum bid in a classic single-unit auction where the seller’s valuation for the unit is s (see Proposition 3 inRiley and Samuelson (1981));Claim 12. if J is strictly increasing, and ifbjkdenotes the optimal minimum bids obtained as unique solutions of(13), then we have,(14)Gk(j)=−hj+δ[∫bj1J(v)dqdvdv+Fk(j−1)+q(0,bjk)ΔFk(j−1)],forj≥1.Claims 1–4 and 6–12 in Theorem 3.5 also hold1616Note that claim 5 is not relevant.for the pre-scrapping optimal value function F, the post-scrapping optimal value function G, optimal scrapping policy yi, and optimal minimum bid policy bjin the Bellman’s equations (6)–(9). Depending on the claim, the conclusion can be established either by arguments identical to that in Theorem 3.5 or through a limiting argument that uses the fact that Fkand Gkconverge to F and G, respectively, as k → ∞. We omit the details to avoid repetition, but summarize the key conclusion asCorollary 3.6Let j* be the smallest inventory j ≥ 0 such that s ≥ ΔG(j). It is optimal to scrap all inventory above j* and bring the inventory down to j* at the first decision epoch. Moreover, if J is strictly increasing, then, in any remaining inventory 1 ≤ j ≤ j* at the first or any subsequent decision epoch, it is optimal to set the minimum bid at the unique solution of J(v) = ΔF(j − 1) in the open interval (0, 1).Economic intuition behind various claims in Theorem 3.5 is outlined here. Detailed proofs are provided in the next section.By scrapping each additional unit, the seller can make a profit of s ≥ 0. Hence the marginal values ΔFk(i − 1) are at least s. This is claim 1. Note that, when h > 0, marginal values could be negative if the seller did not have the flexibility to scrap and this would be undesirable.The marginal benefit of each additional post-scrapping unit decreases because the seller has to wait longer to auction it off. This is claim 2.The seller should scrap a unit only if its scrap-price s is more than the marginal benefit of keeping the unit. Moreover, once this marginal benefit drops below s, it remains that way for all larger inventory levels, by concavity. These observations lead to optimality of a threshold scrapping policy whereby the seller scraps all units over and above a threshold and does not scrap any units below this threshold. This is claim 3.Claims 2 and 3 imply claim 4. For instance, below the scrapping threshold, the pre-scrapping marginal values equal the post-scrapping marginal values, which are decreasing by claim 2.Since value iteration starts with F1(i) = 0 for all i, and since at most one unit can be sold in one auction, in the first iteration it is optimal either to scrap all units or to scrap all except one unit. This is the first half of claim 5. Since the seller holds exactlyjk−1*units after scrapping in iteration k − 1, and since at most one unit can be sold in one auction, the seller will not hold more thanjk−1*+1after scrapping in iteration k. This is the second half of claim 5.The pre-scrapping marginal value is derived from one of two sources: scrapping the unit or auctioning the unit. Since the revenue generated from auctioning the unit is at most one and is earned at the end of the auction after incurring inventory cost, the marginal value is bounded above by the larger of s and − h + δ. This is claim 6.A part of claim 7, which says that a positive minimum bid is optimal and consistent with classic results on single auctions (see, for example, Riley & Samuelson, 1981). In addition, observe that by using a minimum bid of 1, the seller excludes all bidders. Thus the seller must either scrap some units or use a minimum bid strictly smaller than 1 at some future decision epoch. But the seller is better-off by scrapping those many units or by using that smaller minimum bid right away rather than in the future. Hence it is not optimal to set the minimum bid at 1.Proposition 3 of Riley and Samuelson (1981) implies that if minimum bid b* ∈ (0, 1) is optimal in one single-unit auction in which the seller’s valuation of the unit is s, then J(b*) = s. Claim 8, and in particular, Eq. (13), is a generalization of this to sequential auctions. Eq. (13) is also similar in principle to Eq. (9) in Vulcano et al. (2002) and to Eq. (15) in van Ryzin and Vulcano (2004) subject to the differences in our problem settings. Specifically, in their multi-unit sequential auction settings, those two papers show that the seller has a reserve price for releasing each unit from inventory—the reserve price for a unit is obtained by equating the virtual value to the marginal profit of that unit as in our Eq. (13).The function η(v)≜θ(v)/(1 − Ω(v)) is called the hazard rate of Ω. Since the virtual value can be expressed as J(v) = v − 1/η(v), it is strictly increasing if the hazard rate is increasing. Several common distributions such as Normal, Logistic, Exponential, and a large family of Beta distributions that includes the Uniform distribution, have increasing hazard rates. Thus the regularity condition in claims 9–12 that J be strictly increasing is not particularly restrictive. In fact, this regularity condition is ubiquitous in the literature.1717See, for example, Assumption 1 in van Ryzin and Vulcano (2004) and Assumption 1 in Vulcano et al. (2002).If it is not met, then (13) can have multiple solutions, and the right hand side in (11) must be evaluated at each solution to find an optimal minimum bid. Riley and Samuelson (1981) also noted this in their single-auction context.Claim 9 is a straightforward, algebraic consequence of claim 8.Claim 10 follows from claims 4 and 9. Intuitively, as the marginal value of each additional unit declines with increasing inventory, the seller is willing to accept lower closing prices and hence reduces the minimum bid.In sequential auctions, the seller gets repeated opportunities in the future to scrap or auction each unit. That is why the seller benefits from a more aggressive minimum bid policy, and in particular, uses higher minimum bids than that in a single auction. This is claim 11.Finally, claim 12 follows by substituting the optimal minimum bidsbjkin the definition of Gk(j).An important benefit of the various claims in Theorem 3.5 is that they lead to the following streamlined version of value iteration.Algorithm 3.7Structured value iteration when J is strictly increasing.1.Set iteration counter k = 1, and F1(i) = 0 for all 0 ≤ i ≤ I. Select a small tolerance 0 < ε ≪ 1, and set j0 = I.For1≤j≤min{I,1+jk−1*},findbjkas unique solutions of (13) in the open interval (0, 1).Set Gk(0) = 0 and substitutebjkfrom Step 2 into (14) to compute Gk(j) for all1≤j≤min{I,1+jk−1*}.Compute ΔGk(0) = Gk(1) and ΔGk(j) = Gk(j + 1) − Gk(j), for1≤j≤min{I−1,jk−1*}.Findjk*as the smallest inventory0≤j≤min{I−1,jk−1*}for which s ≥ ΔGk(j). If such ajk*does not exist, then setjk*=I+1as a convention.Setyik=max{0,i−jk*}for 1 ≤ i ≤ I.Set Fk + 1(0) = 0 andFk+1(i)=syik−h(i−yik)+Gk(i−yik),for 1 ≤ i ≤ I.Stop if max 0 ≤ i ≤ I|Fk + 1(i) − Fk(i)| < ε(1 − δ)/(2δ), else set k = k + 1 and go to Step 2 above.Report Fk + 1 as an approximation of F,jk*as the approximation of optimal scrapping threshold j*, andbjkas approximate optimal minimum bids for all post-scrapping inventories1≤j≤min{I,jk*}.Before we present our numerical experiments, we comment that it is often possible and helpful to use integration by parts to evaluateϕ(b)=∫b1J(v)dqdvdvfor a fixed b ∈ (0, 1). See, for example, Theorem 7.5 on p. 178 of Fitzpatrick (2006) for sufficient conditions on J under which such integration by parts is allowed; it suffices, for instance, for J to be continuous at 1 and to have a bounded and continuous derivative over the open interval (b, 1). When this is the case, formula (14) derived in claim 12 of Theorem 3.5 simplifies as follows. First, integration by parts yields,(15)ϕ(b)=J(1)q(0,1)−J(b)q(0,b)−∫b1dJdvq(v)dv=J(1)−J(b)q(0,b)−∫b1dJdvq(v)dv,because q(0, 1) = 1. Now, for any fixed j ≥ 1, we have,Gk(j)=Q2k(j,bjk)=−hj+δ(ϕ(bjk)+Fk(j−1)+q(0,bjk)ΔFk(j−1)). By substitutingJ(bjk)for ΔFk(j − 1) from (13), the above simplifies to−hj+δ(ϕ(bjk)+Fk(j−1)+q(0,bjk)J(bjk)). Then substituting from (15) forϕ(bjk)yields(16)Gk(j)=−hj+δ[J(1)+Fk(j−1)−∫bjk1dJdvq(v)dv].When such integration by parts is possible, formula (16) can be used in place of (14) in Step 3 of our structured value iteration algorithm. Then, in essence, the key steps in this algorithm involve solution of the equationJ(bjk)=ΔFk(j−1)and evaluation of the integral∫dJdvq(v)dvin formula (16). We illustrate this in our examples below.In our examples in this section, we assume that the distribution of the number of bidders N in each auction is Poisson(λ) for some λ > 0. Thus,pn=e−λλnn!for n = 0, 1, 2, …. This Poisson demand assumption is common in the literature and has been supported empirically (Etzion et al., 2006; Pinker et al., 2003; Vakrat & Seidmann, 2000). By Poisson thinning (Ross, 2009), the random number of posted bids has a Poisson(λ(1 − Ω(b))) distribution because the probability that a bidder’s valuation is more than b equals (1 − Ω(b)). Thus the probability q(0, b) that no bids are posted equals e−λ(1 − Ω(b)). For private valuations, we consider the Beta distribution whose probability density function is given by(17)θ(v)=vp−1(1−v)r−1B(p,r),for0≤v≤1,where p > 0, r > 0 are constants andB(p,r)=∫01vp−1(1−v)r−1dvis the beta function (Abramowitz & Stegun, 1972). It is shown in Gupta and Gupta (2000) that the Beta distribution has a strictly increasing hazard rate if p ≥ 1 and r ≥ 1. Thus the regularity condition in claims 9–12 of Theorem 3.5 that J be strictly increasing, holds for this large family of distributions that encompasses a broad variety of shapes. To illustrate, we perform numerical experiments with three special cases from this family: p = 1, r = 2, which is the linear distribution with negative slope; p = r = 1, which is the Uniform[0, 1] distribution; and p = 2, r = 1, which is the linear distribution with positive slope. In each case, we obtain a closed-form solution of (13), and evaluate the integral∫dJdvq(v)dv. Substituting these in (16) leads to an efficient implementation of structured value iteration.In this special case of (17) with p = 1, r = 2, we have, θ(v) = 2(1 − v), Ω(v) = 2v − v2, and henceJ(v)=v−1−(2v−v2)2(1−v)=(3v−1)/2. Thus, (13), which isJ(bjk)=ΔFk(j−1),reduces to(3bjk−1)/2=ΔFk(j−1)and hence minimum bidsbjk=1+2ΔFk(j−1)3are optimal. Also note that q(0, b) = e−λ(1 − Ω(b)) reduces toe−λ(1−2b+b2). Then, for any b ∈ (0, 1),∫b1dJdvq(v)dv=∫b132e−λ(1−v)2dv=32∫01−be−λx2dx=34πλerf(λ(1−b)),where erf denotes the error function (see Chap. 7 in Abramowitz & Stegun, 1972) given byerf(x)=(2/π)∫0xe−t2dt.In this special case of (17) with p = r = 1, we have, θ(v) = 1, Ω(v) = v, and hence J(v) = v − (1 − v) = 2v − 1. Thus, (13), which isJ(bjk)=ΔFk(j−1),reduces to2bjk−1=ΔFk(j−1)and hence minimum bids(18)bjk=1+ΔFk(j−1)2are optimal. Also note that q(0, b) = e−λ(1 − Ω(b)) reduces to e−λ(1 − b). Then, for any b ∈ (0, 1),∫b1dJdvq(v)dv=∫b12e−λ(1−v)dv=2λ(1−e−λ(1−b)).In this special case with p = 2, r = 1, we have, θ(v) = 2v, Ω(v) = v2, and henceJ(v)=v−1−v22v=(3v2−1)/2v. Thus, (13) reduces to3(bjk)2−2(bjk)ΔFk(j−1)−1=0and hence minimum bidsbjk=ΔFk(j−1)+[ΔFk(j−1)]2+33are optimal. Also note that q(0, b) = e−λ(1 − Ω(b)) reduces toe−λ(1−b2). Then, for any b ∈ (0, 1),(19)∫b1dJdvq(v)dv=∫b1(32+12v2)e−λ(1−v2)dv=3e−λ2∫b1eλv2dv+e−λ2∫b1d(−1/v)dveλv2dv=e−λ{−3i4πλerf(ivλ)|b1−eλv22v|b1−λi2πλerf(ivλ)|b1},wherei=−1and we have used integration by parts to obtain (19). After further algebraic simplification, this yields,∫b1dJdvq(v)dv=e−λ(1−b2)2b−12−ie−λ(34+λ2)πλ×(erf(iλ)−erf(iλb)).We implemented Algorithm 3.7 on several numerical instances in order to gain insight into the effect of problem parameters on the structured optimal policy given by Theorem 3.5. In all instances, we used I = 100, δ = 0.99, and set the tolerance ε = 0.001. For simplicity, we fixed the scrap-price at s = 0 (it may be optimal to scrap even when scrap-price is zero because scrapping saves holding costs). We investigated the effect of h and λ on the optimal scrapping threshold and the optimal minimum bid policy for all three examples of private valuations above.Table 1illustrates the optimal scrapping threshold j* for different values of h and λ. It suggests that the threshold increases in λ and decreases in h. This is intuitive because the number of bidders is stochastically increasing1818Let X1 ∼ Poisson(λ1) and X2 ∼ Poisson(λ2), where λ1 ≥ λ2 > 0. Then, for any real number x, P(X1 > x) ≥ P(X2 > x). That is, X1 stochastically first order dominates X2. This can be shown by using a coupling argument (see Sections 10.1 and 10.2 in Ross, 2011).in λ and hence it should be better to hold more inventory as λ increases (although a rigorous proof of this observation has eluded us). The effect of holding cost is the opposite; we prove this for our general clairvoyant MDP in Proposition 4.1.Proposition 4.1Suppose J is strictly increasing. Let h1 > h2 ≥ 0 be any two inventory holding costs, andjh1*,jh2*be the corresponding optimal scrapping thresholds. Then,jh1*≤jh2*. Letbj*(h1)andbj*(h2)denote the corresponding optimal minimum bids in any post-scrapping inventory levelj≤jh1*. Then,bj*(h1)≤bj*(h2).Table 1 also suggests that the scrapping thresholds for uniform valuations are higher than those for linear valuations with negative slope. The scrapping thresholds for linear valuations with positive slope are in turn higher than those for uniform valuations. This behavior can be informally explained as follows. One can show that bidder valuations stochastically increase in this order. Therefore, marginal values should also increase in that order. Since the post-scrapping value function is concave, scrapping threshold should increase in this order.Fig. 1(a)–(c) illustrates the sensitivity of optimal minimum bids to h when λ = 5. The figure suggests that for any fixed post-scrapping inventory level, the optimal minimum bid is decreasing in h. This can be explained with the help of formula (13) because intuitively, for any fixed j, the marginal value decreases as h increases (we proved this in Proposition 4.1).Fig. 2(a)–(c) illustrates the sensitivity of optimal minimum bids to λ when h = 0.01. The figure suggests that for any fixed post-scrapping inventory level, the optimal minimum bid is increasing in λ. Again, this can be explained with formula (13), because the marginal value should (again, a rigorous proof of this observation has eluded us) increase with λ as the number of bidders is stochastically increasing in λ.A closer look at Figs. 1 and 2 reveals that for any fixed h, λ combination, optimal minimum bids are smallest for linear valuations with negative slope, higher for uniform valuations, and highest for linear valuations with positive slope. This can be informally explained with the help of formula (13) as follows. As noted earlier, one can show that bidder valuations stochastically increase in this order. Therefore, marginal values should also increase in that order. Simple algebra shows that virtual values decrease in this order. Consequently, solutions of (13) should increase in this order. This trend of increasingly aggressive minimum bids is consistent with increasing scrapping thresholds noted in Table 1.Figs. 1 and 2 show that optimal minimum bids decrease as post-scrapping inventory levels increase. This was established in claim 10 of Theorem 3.5. Figs. 1 and 2 also show that optimal minimum bids are more than 1/3, 1/2, and3/3,for linear valuations with negative slope, uniform valuations, and linear valuations with positive slope, respectively. These numbers satisfy J(b) = 0 for the three corresponding valuation distributions and hence are the optimal minimum bids in one single-unit auction where the seller’s valuation is s = 0 as in Riley and Samuelson (1981). This property and the economic intuition behind it were established in claim 11 of Theorem 3.5—since the seller gets repeated opportunities to auction each unit, she uses the more aggressive policy of using higher minimum bids than those in the single-auction setting of Riley and Samuelson (1981).We conclude this section by rigorously establishing sensitivity to the scrap-price s in our general clairvoyant MDP.Proposition 4.2Consider any fixed post-scrapping inventory level j. Letbj*be an optimal minimum bid for this post-scrapping inventory level. Thenbj*does not depend on the scrap-price s. Let s1 > s2 ≥ 0 be any two scrap prices, andjs1*,js2*be the corresponding optimal scrapping thresholds. Then,js1*≤js2*.We now investigate a variation of the above clairvoyant problem, where we assume that the number N of potential bidders in each auction is Poisson distributed and that the seller knows this, but the seller is uncertain about the sole parameter 0 < λ < ∞ of this distribution. To emphasize the dependence of quantities such as q(0, b) from Section 3 on λ, we denote them instead by qλ(0, b) in the rest of this paper. In particular, we have,(20)qλ(0,b)=e−λ(1−Ω(b)),(21)dqλdb=θ(b)λe−λ(1−Ω(b)),andfrom(4),ϕλ(b)=∫b1λθ(v)J(v)e−λ(1−Ω(v))dv.We similarly write the clairvoyant value functions as Fλand Gλ.To tackle the difficulty that the seller does not know λ, we follow the lead of Farias and Van Roy (2010) from their work on Bayesian demand learning in the Poisson intensity control problem for dynamic pricing. Specifically, we assume that (i) the seller views λ as a random variable, which we denote by Λ, (ii) the seller has a prior belief about Λ, and (iii) the seller’s prior belief about Λ is an M-component mixture-of-Gamma distributions. The shape and rate parameters, and the weight assigned to the mth component in this mixture are denoted by αm, βm, and wm, respectively, for m = 1, 2, …, M. Note that wm≥ 0 for all m, and∑m=1Mwm=1. Throughout this paper, we use the shorthand w, α, and β, to denote the M-dimensional vectors (w1, w2, …, wM), (α1, α2, …, αM), and (β1, β2, …, βM), respectively. In particular, the seller believes a priori that the probability density function f(λ; w, α, β) of Λ is given by(22)f(λ;w,α,β)=∑m=1Mwmg(λ;αm,βm),whereg(λ;αm,βm)=βmαmΓ(αm)λαm−1e−βmλ.Here, Γ: ℜ++ → ℜ is the Gamma function (Abramowitz & Stegun, 1972) defined byΓ(z)=∫0∞e−ttz−1dt,where ℜ++ denotes the set of positive real numbers. As noted by Farias and Van Roy (2010) based on the theory developed in Dalal and Hall (1983), a mixture-of-Gamma prior can arbitrarily well-approximate any prior with a continuous and bounded probability density. Another major benefit is that the mixture-of-Gamma prior is conjugate to Poisson. That is, the seller’s posterior belief about the unknown mean of the Poisson number of potential bidders after observing the number of bids posted in one auction is also a mixture of M Gamma distributions. Specifically, if n ≥ 0 bids are posted in an auction, then the seller’s belief about Λ is updated according to(23)αmn←αm+n,(24)βmn←βm+1−Ω(b),and(25)wmn←cnwmΓ(αmn)(βmn)αmn,where cnis a constant such that∑m=1Mwmn=1. This conjugate property and the resulting straightforward parameter update (23)–(25) considerably simplify the MDP formulation of the seller’s decision problem as we describe next.We use z≜(w, α, β) ∈ ℜ3 × Mto denote the information state at the beginning of an auction. The seller’s decision problem can now be formulated as a Bayesian MDP (Kumar, 1985).Given the information state z, the seller believes that her expected revenue from one auction with minimum bid b is given by(26)ϕ(b;z)≜∫0∞ϕλ(b)f(λ;z)dλ,where ϕλ(b) is defined in (21) and f(λ; z) ≡ f(λ; w, α, β) is the probability density function that the seller assigns to Λ as defined in (22). Lemma 3.1 implies that the expected revenue ϕ(b; z) in (26) is continuous over b ∈ [0, 1] for every fixed information state z.Generalizing qλ(0, b) from (20), the expressione−λ(1−Ω(b))λn(1−Ω(b))nn!represents the probability qλ(n, b) that the number of posted bids is n ≥ 0. Moreover, let q(n, b; z) be the probability that the seller assigns to the event that n ≥ 0 bids will be posted when the information state is z. We have,q(n,b;z)=∫0∞qλ(n,b)f(λ;z)dλ.For all 0 ≤ i ≤ I and all z ∈ ℜ3 × M, let the optimal value functionF(i;z)denote the maximum total discounted expected profit earned from all future auctions and scrapping decisions when the pre-scrapping inventory at the beginning of an auction is i and the information state is z. Similarly, for all 0 ≤ j ≤ I and z ∈ ℜ3 × M, letG(j;z)denote the maximum total discounted expected profit earned from all future auctions and scrapping decisions when the post-scrapping inventory at the beginning of an auction is j and the information state is z. Finally, we use znto denote the information state (wn, αn, βn) as obtained from the information state z = (w, α, β) according to the update formulas (23) and (24), when n ≥ 0 is the number of bids posted in an auction. Then, Bellman’s equations for the seller’s Bayesian MDP are given by(27)F(i;z)=max0≤y≤i{sy+G(i−y;z)},for0≤i≤Iandz∈ℜ3×M,whereG(j;z)=maxb∈[0,1]{−hj+δϕt(b;z)+δq(0,b;z)F(j;z0)+δ∑n=1∞q(n,b;z)F(j−1;zn)},1≤j≤I,G(0;z)=0.Note again from the above equations thatF(0;z)=0for all z ∈ ℜ3 × M. Exact solution of this MDP by value iteration is computationally intractable owing to the multi-dimensional, mixed discrete-continuous state-space, and in particular, it is not amenable to grid-based discretization (Bertsekas, 2007). We therefore propose two approximation methods, namely, certainty equivalent control and Q-function approximation, that utilize our results from the clairvoyant model in Section 3.In (semi-stochastic) certainty equivalent control (CEC), (some of) the random variables in a decision problem are replaced by their expected values (Bertsekas, 2007). In our context, we apply this approach to the random variable Λ as in Aviv and Pazgal (2005b). In particular, if the information state is z, then the seller makes scrapping and minimum bid decisions by assuming that the number of potential bidders is Poisson distributed with mean μ(z). It is easy to see thatμ(z)=∑m=1Mwmαm/βmbecause the expected value of a Gamma random variable with shape and rate parameters αm, βmis αm/βm. The inventory level and the information state then stochastically evolve to their new values and this process repeats until the end of all auctions. In particular, in pre-scrapping state (i, z) at the beginning of an auction, the seller’s scrapping decision is obtained by solvingmax0≤y≤isy+Gμ(z)(i−y).Here, Gμ(z) is the post-scrapping optimal value function for the clairvoyant model in Section 3 when the potential number of bidders is Poisson distributed with mean μ(z). The seller’s minimum bid decision in post-scrapping inventory j and information state z is obtained by solvingGμ(z)(j)=maxb∈[0,1]−hj+δϕμ(z)(b)+δFμ(z)(j)+δqμ(z)(0,b)ΔFμ(z)(j−1).Here, Fμ(z) is the pre-scrapping optimal value function for the clairvoyant model in Section 3 when the potential number of bidders is Poisson distributed with mean μ(z). The certainty equivalent policy possesses the same structural properties as the clairvoyant policy in Corollary 3.6. We state this without proof asCorollary 5.1Let j*(z) be the smallest inventory j ≥ 0 such that s ≥ ΔGμ(z)(j). It is optimal to scrap all inventory above j*(z) and bring the inventory down to j*(z) at any decision epoch with information state z. Moreover, if J is strictly increasing, then, in any remaining inventory 1 ≤ j ≤ j*(z) at any decision epoch with information state z, it is optimal to set the minimum bid at the unique solution of J(v) = ΔFμ(z)(j − 1) in the open interval (0, 1).Note here that the scrapping threshold may depend on the information state and thus it may not be optimal to only scrap at the first decision epoch unlike the clairvoyant MDP.The certainty equivalent policy depends on the seller’s belief about Λ only through its expectation μ(z). Hence this policy may not be able to adequately balance the tradeoff between optimization and learning (this limitation is well-known; see, for example, Farias and Van Roy (2010)). One possible remedy for this is to approximate the pre-scrapping optimal valueF(i;z)on the right hand side of Bellman’s equations (27) asF(i;z)≈∫0∞Fλ(i)f(λ;z)dλ,and then use a policy that is greedy with respect to this approximation. This approach was used by Araman and Caldentey (2009) in their dynamic pricing problem. Although this can in principle be done in our problem as well, it turns out that the resulting Bellman’s equation is somewhat unwieldy and hence tedious to implement. In particular, it does not appear to be amenable to a structural analysis. We therefore present next a similar alternative called Q-function approximation. As we shall see, our structural results for the clairvoyant model and for the CEC approach above carry over at least partially to this Q-function approximation method.For any 1 ≤ j ≤ I, any information state z ∈ ℜ3 × M, and any minimum bid b ∈ [0, 1], we define the Q-function of the Bayesian MDP asQ2((j;z),b)≜−hj+δϕ(b;z)+δq(0,b;z)F(j;z0)+δ∑n=1∞q(n,b;z)F(j−1;zn),and note that the post-scrapping value functionGis given byG(j;z)=maxb∈[0,1]Q2((j;z),b). We approximate this Q-function asQ2((j;z),b)≈∫0∞Q2λ(j,b)f(λ;z)dλ≜Q˜2((j;z),b),whereQ2λ(j,b)is the Q-function of the clairvoyant problem that is defined similar to (43) asQ2λ(j,b)≜−hj+δϕλ(b)+δFλ(j−1)+δqλ(b)ΔFλ(j−1)=−hj+δϕλ(b)+δ(1−qλ(b))Fλ(j−1)+δqλ(b)Fλ(j).This then induces the approximation(28)G(j;z)≈G˜(j;z)=maxb∈[0,1]Q˜2((j;z),b)of the post-scrapping optimal value functionG(j;z). Thus, the seller’s scrapping decision is obtained by solvingmax0≤y≤isy+G˜(i−y;z).As in the clairvoyant model, a necessary condition for optimality in problem (28) is that the derivative of the approximate Q-function vanishes. That is,dQ˜2λdb=∫0∞dQ2λdbf(λ;z)dλ=∫0∞δdqλ(0,b)db×(ΔFλ(j−1)−J(b))f(λ;z)dλ=∫0∞δθ(b)λe−λ(1−Ω(b))(ΔFλ(j−1)−J(b))f(λ;z)dλ=0.We now define a probability density function ρ(λ; b) parameterized by b asρ(λ;b)≜λe−λ(1−Ω(b))f(λ;z)∫0∞λe−λ(1−Ω(b))f(λ;z)dλ.Furthermore, the expected value of ΔFλ(j − 1) with respect to this density function is denoted by Eρ(λ; b)[ΔFλ(j − 1)]. Then, after algebraic simplification, the necessary condition for minimum bid b* ∈ (0, 1) to be optimal to problem (28) is given by(29)J(b*)=Eρ(λ;b*)[ΔFλ(j−1)].In particular, this condition is similar to (13) from the clairvoyant model.Corollary 5.2Let j*(z) be the smallest inventory j ≥ 0 such thats≥ΔG˜(z;j). It is optimal to scrap all inventory above j*(z) and bring the inventory down to j*(z) at any decision epoch with information state z. Moreover, suppose minimum bidbj*(z)∈(0,1)is optimal in post-scrapping inventory j in information state j. Then, this minimum bid satisfiesJ(bj*(z))=Eρ(λ;bj*(z))[ΔF(j−1)].Note, however, a difference between our earlier Corollaries 3.6, 5.1 and the new Corollary 5.2. Even when J is strictly increasing, it is not clear whether or not the first order necessary condition in Corollary 5.2 is sufficient for optimality of minimum bids. In particular, even when J is strictly increasing, it is not clear whether or not the implicit equation J(b) = Eρ(λ; b)[ΔFλ(j − 1)] has a unique solution b* (a sufficient condition for this is that Eρ(λ; b)[ΔFλ(j − 1)] is decreasing in b and then b* would also have the correct directional dependence on j). For this reason, one may have to numerically solve for all solutions of (29) and identify one that yields the largestQ˜2value (note that both these steps require numerical evaluation of integrals). There is, however, a further approximation that may help avoid this somewhat unsatisfactory numerical procedure in some cases as we describe next.This additional approximation is rooted in our intuitive understanding of the properties of the clairvoyant pre-scrapping value function Fλ. We first show below that it is increasing in λ.Lemma 5.3The clairvoyant values Fλ(i) are increasing in λ for every fixed i ≥ 0. Similarly for Gλ(i).Based on our preliminary numerical experiments that are not included in this paper, we believe that Fλ(i) is concave in λ for every fixed pre-scrapping inventory level i (although a proof of this result has eluded us). Moreover, motivated by the shape of Fλ(i) observed in our numerical experiments, we propose the exponential approximationFλ(i)≈r1(i)−r2(i)e−r3(i)λ≜F˜λ(i).Values of unknown parameters r1(i) ≥ 0, r2(i) ≥ 0 and r3(i) ≥ 0 can be obtained by non-linear regression because values Fλ(i) are available from our clairvoyant model for every λ. Here, r1(i) − r2(i) is the intercept of the approximation when λ = 0 and r1(i) is the asymptote as λ → ∞. In particular, we now replace the ΔFλ(j − 1) by its approximationΔF˜λ(i)≜Δr1(i−1)−r2(i)e−r3(i)λ+r2(i−1)e−r3(i−1)λto rewrite (29) asJ(b*)=∫0∞λe−λ(1−Ω(b*))[Δr1(i−1)−r2(i)e−r3(i)λ+r2(i−1)e−r3(i−1)λ]f(λ;z)dλ∫0∞λe−λ(1−Ω(b*))f(λ;z)dλ.Both the integrals on the right hand side can now be evaluated analytically,1919Note in contrast that the integral in the numerator of (29) cannot be evaluated analytically as an explicit functional form for ΔFλ(j − 1) is not available. This is precisely the benefit of using an exponential function approximation; similar benefits might be possible through other functional forms such as power-law.and this reduces the above first order necessary condition to(30)J(b*)=Δr1(i−1)−r2(i)∑m=1Mwmαmβmαm(r3(i)+βm+1−Ω(b*))αm+1∑m=1Mwmαmβmαm(βm+1−Ω(b*))αm+1+r2(i−1)∑m=1Mwmαmβmαm(r3(i−1)+βm+1−Ω(b*))αm+1∑m=1Mwmαmβmαm(βm+1−Ω(b*))αm+1.We naturally denote the above right hand side byEρ(λ;b)[ΔF˜λ(j−1)]. In particular, it might be easier to numerically find solutions of (30) than to find solutions of (29). We illustrate this Q-function approximation approach by example in the next section.We focus on the example with uniform valuations that we studied in Section 4.1.2 and set s = h = 0 for simplicity. Thus, the seller does not scrap and our numerical study zeros in on the exploitation versus exploration tradeoff between minimum bids and demand learning. Specifically, Bellman’s equations (6)–(9) for the clairvoyant model where the demand is Poisson distributed with a known mean 0 < λ < ∞ reduce to(31)Fλ(i)=maxb∈[0,1]{δϕλ(b)+δFλ(i−1)+δqλ(b)ΔFλ(i−1)},1≤i≤I,with F(0) = 0. The structured value iteration in Algorithm 3.7 simplifies in this case to the following procedure.Algorithm 6.1Simplified structured value iteration when s = h = 0, Poisson demand with known mean λ and uniform(0,1) valuations.1.Set iteration counter k = 1, andFλ1(i)=0for all 0 ≤ i ≤ I. Select a small tolerance 0 < ε ≪ 1.Setbik=(1+ΔFλk(i−1))/2as in Eq. (18), and also letqλ(bik)=e−λ(1−bik)andϕλ(bik)=1−(2bik−1)e−λ(1−bik)−2λ(1−e−λ(1−bik))for 1 ≤ 1 ≤ I as explained in Section 4.1.2.SetFλk+1(0)=0,andFλk+1(i)=δϕλ(bik)+δFλk(i−1)+δqλ(bik)ΔFλk(i−1)for 1 ≤ i ≤ I.Stop ifmax0≤i≤I|Fλk+1(i)−Fλk(i)|<ϵ(1−δ)/(2δ),else set k = k + 1 and go to Step 2 above.ReportFλk+1as an approximation of Fλ, andbikas approximate optimal minimum bids in inventory levels 1 ≤ i ≤ I.Since CEC is straightforward to implement, we now provide a detailed description of a simple implementation of Q-function approximation.Our goal is to derive a good exponential approximation of the clairvoyant value function Fλin the spirit of Section 5.4. Although standard computational software such as MATLAB can obtain such an approximation through non-linear regression, it often needs a good initial guess for the parameters r1(i), r2(i), and r3(i). Toward this end, we first note that when λ = 0, Fλ(i) = 0 for all i because there are no participating bidders (and recall that scrapping is worthless as s = 0). We thus set r1(i) = r2(i) for all i as an initial guess. In order to obtain a good initial guess for the asymptote r1(i), we have,Lemma 6.2As λ → ∞, the clairvoyant value function converges aslimλ→∞Fλ(i)=δ(1−δi)1−δ,i≥0.The simple economic intuition behind the above result is that as λ → ∞, the expected revenue from each auction approaches 1. Since a sequence of i auctions is needed to clear inventory i, and since the discount factor is δ, the total expected revenue approaches δ + δ2 + ⋅⋅⋅ + δi= δ(1 − δi)/(1 − δ) as claimed above.Based on this discussion, we used the initial guessr1(i)=r2(i)=δ(1−δi)1−δfor all i. We do not have a systematic way to obtain a good initial guess for r3(i). We therefore used the initial guess r3(i) = 0 for all i. After obtaining r1(i), r2(i), and r3(i) using MATLAB’s non-linear regression, we used the following simple bisection procedure to numerically find solutions of (30) within our Q-function approximation.Algorithm 6.3Bisection to solve (30).1.Set iteration counter k = 1, and b1 = 0, b2 = 1. Select a small tolerance 0 < ε ≪ 1.Stop if |b2 − b1| < ε.Let b* = (b1 + b2)/2.IfJ(b*)>Eρ(λ;b*)[ΔF˜λ(i−1)],then b2 = b*; else b1 = b*. Go to Step 2.In the next section, we compare the performance of CEC and Q- function approximation.In this section, we investigate the effect of initial inventory I and of the mean demand λ on the performance of CEC and Q-function approximation. Specifically, we report the fraction of the clairvoyant optimal profit attained by each method. For simplicity of exposition, we only consider a Gamma prior (that is, a single-component “mixture”). This does not result in any loss of generality since the computational difficulty of implementing CEC and Q-function approximation is essentially insensitive to M, the size of the mixture. In particular, our qualitative conclusions below should hold for any value of M ≥ 1. The results are reported in Tables 2 and 3. The tables show that higher mean demand and higher initial inventory enable our algorithms to attain a larger portion of the clairvoyant optimal profit. This is intuitive because higher mean demand and higher initial inventory should facilitate better learning and hence better algorithm performance. A cell-by-cell comparison of the two tables shows that Q-function approximation achieves a higher revenue than CEC for each I, λ combination listed.The evolution of the posterior mean as a function of the auction index for various starting inventory levels is plotted in Fig. 3(a) and (b) for the two methods, respectively. The figure suggests that the posterior mean approaches the mean demand as the starting inventory increases. We provide an informal argument for why this should hold true. Asymptotically, as I → ∞, the number of auctions needed to clear all inventory also diverges to infinity. In the CEC method, for instance, the minimum bid is bounded above by (1 + δ)/2 < 1. This follows from the fact that, in information state z, the CEC minimum bid is obtained by solving 2v − 1 = ΔFμ(z)(j − 1) as shown in Corollary 5.1, and ΔFμ(z)(j − 1) < δ by an extension of claim 6 in Theorem 3.5 as discussed just before Corollary 3.6. This uniform upper bound away from 1 implies that the total number of bids posted over all auctions diverges to infinity. Therefore, by a fundamental result in Bayesian statistics (see Theorem 8.3 on p. 490 in Lehmann and Casella (1998)), the posterior mean should converge to the mean demand; in this sense, we say that CEC is asymptotically optimal. The figure also suggests that the posterior mean learned by Q-function approximation is closer to the actual mean of λ = 10 than that learned by CEC especially at smaller inventory levels such as I = 10 and I = 20 (note that learning is more difficult when inventory is limited).

@&#CONCLUSIONS@&#
In this paper, we presented a clairvoyant MDP model for making optimal minimum bid and scrapping decisions in a sequence of single-unit Vickrey auctions. We showed that it is optimal to scrap all inventory above a certain threshold and then auction the remaining units by using minimum bids that are given by an intuitive extension of a classic result by Riley and Samuelson about a single auction. Specifically, an optimal minimum bid was obtained by setting the bidders’ virtual value to equal the seller’s marginal expected profit. This result significantly simplified the value iteration procedure that is needed to recursively compute the marginal expected profit when the virtual value is a strictly increasing function. This extension is similar in principle to that obtained by Vulcano et al. (2002) and van Ryzin and Vulcano (2004) for a broad class of allocation models in the absence of scrapping. However, owing to our simpler auction mechanism, our proofs of structural results were more concrete and hence more transparent. Our structured value iteration algorithm was then utilized as a subroutine in approximate solution of a more difficult problem wherein the seller is uncertain about the mean of the Poisson bidder demand. We introduced a Bayesian MDP model where the seller uses a mixture-of-Gamma prior on this mean Poisson demand and updates her belief over the sequence of auctions while simultaneously optimizing minimum bids. Since exact solution of this Bayesian MDP was intractable, we proposed two approximation algorithms. The first one, CEC, assumed that the mean Poisson demand equals the current mean of the mixture-of-Gamma posterior and then makes decisions using our clairvoyant value iteration procedure. The second, Q-function approximation, was a more elaborate method that used an approximation of the Q-function of the Bayesian MDP to make decisions. This approximation was built by taking an expectation of the clairvoyant Q-function with respect to the current mixture-of-Gamma posterior. While CEC decisions depend on the seller’s belief only through its expectation, Q-function approximation utilizes the entire belief distribution in its calculations. Our numerical results suggest that Q-function approximation can attain higher revenues than CEC.We focused on Vickrey auctions in this paper. An alternative is to investigate first-price auctions where the clearing price equals the winning bidder’s bid. The celebrated Revenue Equivalence Theorem implies that Eq. (1) also yields the seller’s revenue in a first-price auction with n bidders and minimum bid b (see Propositions 1 and 2 in Riley and Samuelson (1981), for instance). In a first-price auction, a bidder participates if and only if his private valuation exceeds the minimum bid b also as in a Vickrey auction.2020However, unlike in a Vickrey auction, it is optimal (see Proposition 2 in Riley & Samuelson, 1981) for a bidder with private valuation v ≥ b to bid≜v−∫bvΩ(x)n−1dxΩ(v)n−1.Owing to this revenue equivalence, our model and results apply to a sequence of first-price auctions as well (this is consistent with Proposition 3 in Riley & Samuelson (1981) for a single auction).One limitation of our model is the assumption that bidders across auctions are independent. This assumption excludes repeat bidders. This assumption is standard in the literature reviewed by Pinker et al. (2003) who observed that the data gathered by Vakrat and Seidmann (2000) supported this assumption. Pinker et al. (2003, 2010), Vulcano et al. (2002), van Ryzin and Vulcano (2004), and Chen et al. (2011) all made this assumption and indicated that it can be justified if bidders do not “lurk around” to bid in future auctions, if bidders are unaware of whether or not there will be any future auctions, and if unsuccessful bidders simply leave to buy elsewhere. Indeed, Vulcano et al. (2002) commented that “such separation of buyers over time is typical in many industries that practice revenue management.” Similarly, Pinker et al. (2010) wrote “our modeling assumptions best suit a situation in which consumers are shopping for an item, come to an auction, and if unsuccessful go elsewhere to make the purchase. They do not know whether an auction will be repeated, or when. They do not linger from one auction to the next because they need to make their purchase (imagine an office manager trying to equip a new office with a computer or a fax machine).” Chen et al. (2011), based on the research in Goes et al. (2010) and Pinker et al. (2010), stated “unfortunately, behavior of repeat bidders in later auctions, and in particular, the evolution of the corresponding bid distributions is not yet well-understood” and hence did not consider repeat bidders. If and when the behavior of repeat bidders is better-understood in the future, an extension of our model that allows such bidders will be an interesting direction for further research. Unfortunately, we believe that rigorous analytical results are unlikely in such a more difficult setting.A possible direction for future research could focus on a seller who does not fully know the bidders’ valuation distribution and wishes to learn it over a sequence of auctions while optimizing minimum bids.