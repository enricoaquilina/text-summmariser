@&#MAIN-TITLE@&#
Modeling lotsizing and scheduling problems with sequence dependent setups

@&#HIGHLIGHTS@&#
A two-dimensional classification framework for sequencing within CLSP is introduced.We survey and classify the mathematical models for the problem using the framework.We present a formulation using commodity flow based subtour elimination constraints.We perform computational experiments to assess the various models performance.We indicate the potential best modeling approaches for different problem features.

@&#KEYPHRASES@&#
Production planning,Lotsizing and scheduling,Mixed-integer programming,Sequence-dependent setups,Computational benchmark,

@&#ABSTRACT@&#
Several production environments require simultaneous planing of sizing and scheduling of sequences of production lots. Integration of sequencing decisions in lotsizing and scheduling problems has received an increased attention from the research community due to its inherent applicability to real world problems. A two-dimensional classification framework is proposed to survey and classify the main modeling approaches to integrate sequencing decisions in discrete time lotsizing and scheduling models. The Asymmetric Traveling Salesman Problem can be an important source of ideas to develop more efficient models and methods to this problem. Following this research line, we also present a new formulation for the problem using commodity flow based subtour elimination constraints. Computational experiments are conducted to assess the performance of the various models, in terms of running times and upper bounds, when solving real-word size instances.

@&#INTRODUCTION@&#
Several companies face the problem of timing and sizing production lots over a given planning horizon. Additionally, in many of these production environments, switching between production lots of two different products triggers operations, such as machine adjustments and cleansing procedures. These setup operations, which are dependent on the sequence, consume scarce production time and may cause additional costs due to, for example, losses in raw materials or intermediate products. Consequently, the production sequence must be explicitly embedded in the lot definition and scheduling. Lot sizing determines the timing and level of production to satisfy deterministic product demand over a finite planning horizon. Sequencing establishes the order in which lots are executed within a time period, accounting for the sequence-dependent setup times and costs. Integration of these two problems enables the creation of better production plans than those obtained when solving the two problems hierarchically by inducing the solution of the lotsizing problem in the scheduling level. Production plans are created with the objective of minimizing the overall costs consisting mainly of stock holding and setups, while satisfying the available capacity in each time period from which the expenditure in setup times is deducted.This production scenario is present in many process industries, in which an efficient use of the available capacity is key to stay competitive in the current market environment. In the beverage industry sequence dependent setups occur in bottling lines when switching between two products that differ in the container size and/or container shape and/or liquid type. Another case comes from the glass container industry, in which costly changeovers are incurred in molding lines due to differences in the container mold and/or in the glass color among products. Similarly, in automated foundries time and cost expenditures in setups are dependent on the sequence of changes both in the alloy type and piece molds triggered at casting machines. The problem of production sequencing is also important in the textile industry on spinning facilities. The planned production sequence of yarn packages define the required setups to change the fiber blend and also provoke adjustments in yarn machines. More real world examples are present in chemicals, drugs and pharmaceuticals, pulp and paper, and animal nutrition, among other industries.From a research perspective, the aforementioned problems belong to the field of lotsizing and scheduling problems (LS). LS models are usually expressed in the form of mixed integer programming (MIP) formulations. The advances observed in mathematical programming in recent years combined with the increase in computational power (hardware) and in the quality of general purpose mixed-integer programming commercial solvers (software) allowed sequence independent LS problems to be solved efficiently using exact methods for reasonable size instances. However, the development of tighter mathematical formulations is still mandatory to reduce the running times needed to solve LS instances with sequencing decisions, particularly when dealing with real world constraints and problem sizes. As a result, both the complexity and inherent applicability to real world problems caused an increased enthusiasm from the research community to tackle LS problems with sequencing decisions. This interest is shown in the reviews by Drexl and Kimms (1997), Zhu and Wilhelm (2006), Jans and Degraeve (2008) and Quadt and Kuhn (2008) and especially by the recent special issue Clark, Almada-Lobo, and Almeder (2011). Researchers have been incorporating additional scheduling decisions and features into LS models to improve their realism and potential applicability. However, none of the aforementioned reviews focuses on modeling techniques to integrate sequencing decisions in LS models and their impact on the solution quality achieved.In this paper we first propose a framework to classify discrete time models for LS with sequencing decisions using two main sequencing dimensions: technique and time structure. Only the most relevant models in each class are reviewed to show their main features and to highlight the differences among them. Besides reviewing the models present in the literature we also introduce a new polynomial-sized model formulation to the problem which uses commodity flow based constraints to eliminate disconnected subtours and allows for multiple lots of the same product within each time period.The performance of the models reviewed in the context of the framework and also of the new formulation is assessed by solving large size instances of the problem using a mixed-integer programming commercial solver. During the computational experiments we analyze the trade-offs present in these different modeling approaches. First, we study the correlation between the complexity introduced by allowing more general sequences (e.g. product repetition) and the solution quality obtained when a time limit is imposed. Second, we compare the use of an exponential number of constraints and variables against the use of compact model formulations. We focus on running times and upper bounds since our goal is to test the capability of providing solutions to instances of real-world size. In addition, many solution procedures for LS combine heuristics with exact methods, such as the progressive interval heuristics and the ‘exchange’ (fix-and-optimize) improvement heuristic, which rely on the solution of a series of sub-MIPs, also depend on the generation of good upper bounds. Hence, this assessment of the formulations can potentially contribute to the identification of the potentially most efficient MIP formulations to be used in these hybrid methods.Our contributions are as follows. We present a new classification framework to classify modeling approaches to LS with sequencing decisions. The new framework is used to survey and classify the different modeling approaches present in the literature grouping models into classes. We also introduce a new commodity flow based formulation to integrate sequencing decisions in discrete time LS models. Finally, the extensive computational results present an evaluation of the pros and cons of the different modeling techniques, comparing models which, to the best of our knowledge, had never been compared. This enabled us to pinpoint the most efficient models in the several contexts studied.The remainder of this paper is organized as follows. Section 2 presents the proposed classification framework for the modeling approaches. In Section 3 we describe the problem under study and all the assumptions made. Following the classes defined in our framework, Sections 4 and 5 present the reviewed models, as well as introduce the new formulation proposed herein. Computational experiments assessing the models’ performance are shown in Section 6. Finally, Section 7 is devoted to final remarks, where conclusions from this work and some potential future research directions are highlighted.In this section, we introduce a framework to classify the discrete time modeling approaches existing in the literature for LS with sequencing decisions. The framework is organized along two main sequencing dimensions: technique and time structure (see Fig. 1). A class is defined by the technique and time structure used, e.g. product oriented macro-period (PO–MP) models.The sequence of production lots in a machine can be categorized following the definitions given by Kang, Malik, and Thomas (1999): a production-sequence refers to the sequence of products being produced on the machine over the entire planning horizon and a period-sequence denotes the sequence of setup states within a time period. In discrete time models for LS with sequencing decisions a production-sequence decomposes into period-sequences, hence the term sequence will be used hereafter to refer to period-sequences. The first dimension used for classification regards the technique used to capture sequencing decisions. Two main approaches are distinguished: product oriented (PO) and sequence oriented (SO) formulations. When using a PO technique, sequences are explicitly defined by the MIP model, while in SO formulations the MIP model prescribes for each period a sequence from a pre-determined set of sequences, i.e. the model selects one sequence from the set.Consider the representations of sequences depicted in Fig. 2. By definition a sequence is a connected direct graph where each node i represents a production lot of product i and arc (i,j) indicates a setup from product i to product j. Additionally, the dashed arcs identify the first (input arc) and the last (output arc) production lots in the sequence, i.e. the initial and final setup state of the machine. A SO formulation corresponds to the selection of a connected graph (sequence) to be applied in each time period, thus it does not require additional constraints to ensure the connectivity of the setup decisions. On the other hand, a PO formulation operates on the selection of arcs (setups) to be performed in each time period, hence the so-called disconnected subtour elimination constraints, which can be of an exponential size, are often required to ensure the connectivity of the subgraph induced by setup decisions. This is a major difference between these two approaches and explains why sequence oriented based formulations are easier to model. However, this potential advantage has the drawback of the number of possible sequences (decision variables) growing exponentially with the number of products present in the problem instance.The second dimension of the framework classifies the models concerning the time structure used to capture sequencing decisions. Time discretization of LS models usually follows exogenous criteria such as demand forecast granularity to partition the planning horizon into several time periods, also called macro-periods. When the macro-period structure is adopted to capture sequencing decisions, in each of these time periods more than one setup is allowed. Sequencing decisions in macro-period (MP) models are made through decision variables similar to those of routing problem formulations and require subtour elimination constraints to correctly represent sequences. On the other hand, some models create a second level in the time structure by dividing each macro-period into more than one micro-period. The assumption in micro-period (mP) models is that at most one setup is performed per micro-period and, thus, the production-sequence comes for free directly from the setup state changes among adjacent micro-periods. In the scope of sequencing decisions, the number of micro-periods limit the maximum number of setup operations allowed in each macro-period.To illustrate an example consider the sequence {1-3-4-2} shown in Fig. 2a which defines a production lot sequence in a given time period. A mP model would require at least 4 micro-periods to describe this sequence corresponding to the 4 setup states of the machine. Suppose the number of micro-periods was set to 5; the sequence can be captured by defining the setup state in each of the micro-periods as (1)(3)(4)(2)(2) and then changes among adjacent micro-periods capture the setups performed. To the contrary, a MP model would select setups (1-3) (3-4) (4-2) to establish the sequence depicted in the example.Classifying discrete time LS models according to the type of time partition has been commonly accepted and used in the community, which groups models into large and small bucket. In large bucket models the planning horizon is partitioned into a small number of long time periods representing, in most cases, a week or month. To the contrary, in small bucket models the planning horizon is divided into a large number of short periods (e.g. days, shifts or hours). Our classification according to the time structure is inspired and closely related to the established terminology. However, there is a clear difference in the classification of models having a multi-level time structure. The established classification only applies to the top level of the time structure, while our framework classifies models according to the level in which the sequencing decisions are captured. Hence, we chose to select different names for this dimension to avoid misinterpretations. In example, some multi-level time structure models capture inventory balance decisions in the top level and sequencing decisions in the lower level, in this case the established classification differs from ours.MP models can be further divided according to the number of production lots of each product allowed to start within a time period into single lot (SL) and multiple lots (ML) models, giving origin to subclasses. Usually, setups obey the triangle inequality with respect to both the setup time and costs, i.e. it is more efficient to change directly between two products than via a third product. Under this setting in any optimal solution, at most one setup for each product per time period is performed (single lot). Nevertheless, in some industries, contamination occurs when changing from one product to another implying additional cleansing operations. If a ‘cleansing’ or shortcut product can absorb contamination while being produced and therefore replacing the cleansing operations, non-triangular setups appear. Thus, allowing multiple lots of each product per time period can potentially reduce setup times and costs. The need for multiple lots can also come from industries where production batches are bounded or of fixed size. This distinction is made since tackling multiple lots in the same period is a non-trivial extension to most models. Furthermore, minimum lot size is important in the case of non-triangular setups to avoid fictitious setups via empty product lots (zero production). Fig. 2a and b are examples of sequences which can be obtained by using MP–SL models, while the sequence illustrated in Fig. 2c can only be achieved using a MP–ML formulation.Table 1presents the models which will be reviewed in the following sections in each of the classes defined.To describe the deterministic LS problem addressed here, consider N products indexed byi,j=1,…,Nto be produced on a single capacitated machine over a finite planning horizon of T periods, indexed byt=1,…,T. The following data is associated with this problem:ditdemand of product i in period t (units),hitholding cost of one stock unit of product i in period t (cost/unit),captcapacity of the machine in period t (time),pitprocessing time of product i in period t (time/unit),bitthe maximum amount of product i that can be produced in period t (units),scijcost incurred to set up the machine from product i to product j (cost),stijtime needed to set up the machine from product i to product j (time),miminimum lot size of product i (units).Before presenting the modeling approaches, we introduce the assumptions to clearly define the problem tackled.•Stockouts are not accepted, which is a common setting in deterministic demand environments.Initial inventory is considered to be zero. Nevertheless, both, the consideration of initial inventory and stockouts, are relatively straightforward extensions.The setup state is carried over among adjacent periods. Moreover, the setup state is preserved over idle time.Setup crossovers are not allowed, which forces setup operations to be performed within the time period, i.e. without spanning to the following period.The machine configuration at the beginning of the planning horizon is not defined and thus it is a decision.No structure is imposed either on setup times and costs, or on their relation.Minimum lot sizes are imposed to avoid fictitious setups via empty production lots whenever non-triangular setups exist.In the presence of minimum lot sizes we assume that at least one setup is performed in every time period.The validity of the assumptions made for setup crossovers and minimum lot sizes rely on the fact that these models are designed by considering that several products can be produced per period (e.g. a week, a month). Hence, not allowing for setup crossovers or assuming at least one setup per period should not exclude high quality production plans.The mP formulations rely on the division of the time periods into several micro-periods. Drexl and Kimms (1997) survey models based on this partition highlighting the different assumptions. We discuss the most general of such models, the General Lotsizing and Scheduling Problem – GLSP (Fleischmann & Meyr, 1997, 2002, 2000). The GLSP embeds a two-level time structure being the upper lever composed by the macro-periods and the lower level devised by the division into micro-periods of each macro-period. Hence, the GLSP is usually referred as a large bucket or hybrid model, as opposed to the small bucket models, namely the Discrete Lotsizing and Scheduling Problem (Fleischmann, 1994), the Continuous Setup Lotsizing Problem (Almada-Lobo, Klabjan, Carravilla, & Oliveira, 2010) and the Proportional Lotsizing and Scheduling Problem (Drexl & Haase, 1995), which assume a fixed micro-period duration and a single level time structure. In the GLSP the micro-period length is a decision in the optimization process, thus it potentially allows for better solutions than the small bucket models. We introduce the following decision variables to model the GLSP:Xinquantity of product i produced in micro-period n,Iitstock of product i at the end of period t,Yin=1 if the machine is set up for product i in micro-period n,Tijnif a changeover from product i to product j is performed at the beginning of subperiod n.Additionally, letAt={1,…,lt}be the set of micro-periods n belonging to time period t andltthe maximum number of lots allowed in time period t. The GLSP model is as follows:(1)GLSPmin∑i,thit·Iit+∑i,j,nscij·Tijn(2)s.t.Ii,t-1+∑n∈AtXin=dit+Iit∀i,t,(3)∑i,n∈Atpit·Xin+∑i,j,n∈Atstij·Tijn⩽capt∀t,(4)Xin⩽bit·Yin∀i,t,n∈At,(5)∑iYin=1∀n,(6)Tijn⩾Yi,n-1+Yjn-1∀i,j,n,(7)Xin⩾mi·Yin-Yi,n-1∀i,n,(8)X,I,T⩾0,Y∈{0,1}.The objective function (1) minimizes the total sum of holding and setup costs. Inventory balance constraints (2) satisfy demand either from initial inventory or production within the current period. The total period’s production of each product is obtained by summing up the productions in the different micro-periods. Inequalities (3) ensure that the total production time plus the required setup time does not exceed the available capacity. The correct relation between production quantities and the machine setup state in each micro-period is expressed by (4), while (5) enforce a single setup state per micro-period. Constraints (6) trace changeovers throughout the planning horizon. Minimum lotsizes are introduced by constraints (7) to prevent empty lots and thus an incorrect evaluation of setup times and cost if the setup matrix does not obey the triangle inequality.Fig. 3graphically represents the same sequence depicted in Fig. 2c using the network interpretation of the GLSP and dividing a macro-period into 8 micro-periods. Essentially, it corresponds to a path in a directed graph where nodes are possible setup states in each micro-period and arcs connecting setup states are changeovers.As suggested by the previous figure, changeover constraints (6) can be reformulated as a shortest path or network flow (NF) problem from the first micro-period to the last. This yields a substantially tighter model as shown in Wolsey (1997). The strength of the (GLSPNF) reformulated model comes from the fact that, when no other constraints are present, the extreme points of the relaxed problem are integer solutions. The reformulated constraints are stated as:(9)∑jTijn=Yi,n-1∀i,n,(10)∑iTijn=Yjn∀j,n.Constraints (9) force a changeover from the product produced in the previous micro-period at the beginning of the current micro-period. Similarly, constraints (10) force a changeover to the product being produced in each micro-period. Note that is possible to have a changeover from product i to itself and thus these constraints act as setup state conservation constraints allowing production lots to span over multiple micro-periods. The complete GLSPNFmodel reads (1)–(5), (7)–(9) and (10).Exploring the same idea of fixing the maximum number of changeovers in each time period, the model of Clark and Clark (2000) (CC) is closely related to the GLSP and GLSPNF. In this formulation, setup state decision variables Y are dropped and the integrality of T is imposed to account for the changeovers and setup state in each micro-period. The CC formulation is as follows:(11)CCmin(1)s.t.(2)–(3)∑i,jTji0=1(12)Xin⩽bit·∑jTjin∀i,t,n∈At,(13)∑jTji,n-1=∑jTijn∀i,n,(14)Xin⩾mi·∑j≠iTjin∀i,n,(15)X,I⩾0,T∈{0,1}.In this formulation, constraint (11) defines the initial setup state of the machine. Constraints (12) guarantee that production of a given product only occurs if the machine is set up at the beginning of the micro-period, which can be either by an actual setup or via conservation of the previous setup state. Flow constraints (13) simultaneously keep track of changeovers and machine configuration state. These constraints have a similar structure as constraints (9) and (10) also capturing the network flow interpretation of the model. Minimum lotsizes (14) are again imposed to address non-triangular setups. In Appendix A we show that the CC formulation is stronger than the original GLSP formulation.The problem of extending the traditional capacitated lotsizing problem (CLSP) to account for sequencing decisions is known as the CLSD. To formulate the CLSD we introduce the binary decision variablesZitwhich equals one if the machine is set up for product i at the beginning of period t capturing the setup state conservation among adjacent periods. We also update the definition of variablesTijtto be the number of changeovers from product i to product j in time period t and includeqitas an upper bound on the number of setups to product i in period t. A general CLSD model formulation reads:(16)CLSDmin∑i,thit·Iit+∑i,j,tscij·Tijt(17)s.t.Ii,t-1+Xit=dit+Iit∀i,t,(18)∑ipit·Xit+∑i,jstij·Tijt⩽capt∀t,(19)Xit⩽bit·∑jTjit+Zit∀i,t,(20)∑iZit=1∀t,(21)Zit+∑jTjit=∑jTijt+Zi,t+1∀i,t,(22)X,I⩾0,Z∈{0,1},Tijt∈{0,…,qjt},(23){(i,j):Tijt>0}doesnotincludedisconnectedsubtours∀t.As in mP models the objective function (16) minimizes the total expenditure in holding and setup costs. Constraints (17) and (18) express, respectively, the common inventory balance and capacity constraints from large bucket formulations. Production is linked by the machine setup state through constraints (19); production may only occur if a setup is carried over from the previous period or at least one setup is performed in the period. Constraints (20) guarantee that the machine is set up for a single product in the beginning of each time period. Machine configuration is traced in (21) which ensures a balanced flow of setups. If there are no setups in period t the machine configuration is carried to periodt+1. On the other hand, for each product i three cases may appear: more input than output setups, more output than input setups and equal number of input and output setups. The first case forces the machine to be set up for product i in the beginning of the next period. Similarly, in the second case the machine must be set up for product i in the beginning of period t. Finally, the third case happens when the product is neither the first nor the last in the sequence, or no setup occurs in the period.The formulation would be incomplete without constraints (23) which prevent disconnected subtours to create feasible integer solutions. Subtours are sequences that start and end at the same setup state. Fig. 4illustrates examples of subtours that can appear in a solution for the CLSD without constraints (23) and classified according to the notation of Menezes, Clark, and Almada-Lobo (2011). An alpha subtour (see Fig. 4a) is defined byZit=Zi,t+1=1and∑i,jTijt⩾1, meaning that at least one setup is performed in time period t and the machine configuration at the beginning and end of the period is the same. Fig. 4b depicts the case of a connected subtour created by the existence of two production lots for product 2. Fig. 4c and d show examples of disconnect subtours, i.e. sequences that are not connected to the main sequence. This class of subtours can be divided into simple disconnected subtours (Fig. 4c, subtours forming a single cycle) and complex disconnect subtours (Fig. 4d, subtours formed by multiple connected cycles). Note that only disconnected subtours should be prevented as alpha or simple connected subtours can be part of feasible integer solutions. Next we discuss several strategies to define constraints (23) giving origin to the different PO–MP models, starting with single lot formulations and later advancing to multiple lot versions.In the scope of single lot formulations by definitionqit=1for everyi,tand, therefore,Tijtare defined as binary, and connected and complex disconnect subtours are automatically excluded. We start by reviewing models which adopt constraints similar to those of the Miller, Tucker and Zemlin (MTZ) formulation of the Asymmetric Traveling Salesman Problem (ATSP). The first is the Smith-Daniels and Ritzman (SDR) formulation (Smith-Daniels & Ritzman, 1988), that usesCitto map the completion time of the production lot of product i in period t. The subtour elimination constraints which replace (23) are stated as:(24)Cjt⩾Cit+stij+pjt·Xjt-M·(1-Tijt)∀i,j≠i,t,(25)Cit⩾pit·Xit∀i,t.Constraints (24) guarantee that if product j follows product i in the sequence its completion time is greater than the completion time of product i plus the time required for setting up the machine and production. The completion time of the first production lot of each time period has to be also imposed, as done by (25). The authors did not present the above constraints as subtour elimination constraints, nevertheless they do translate into an accurate formulation of the problem. The SDR formulation can be further tightened by defining an upper bound ofCit⩽captto all completion times and by settingM=stij+capt. One of the advantages of computing the completion times comes from the possibility of imposing time windows to production lots or to synchronize parallel resources in multi-machine settings or multi-stage processes.Another formulation based on MTZ type constraints is presented by Haase (1996) (H) that uses decision variablesVitto capture the order in which production lots are processed in each time period and to eliminate subtours. Constraints (23) are defined as:(26)Vjt⩾Vit+1-N·(1-Tijt)∀i.j≠i,t.The above MTZ-based constraints (24) and (26) define sequences as paths. Therefore if a given product i is carried over from periodt-1, i.e.Zit=1, no setup can be performed to it during time period t. This follows from the fact that both sets of constraints imply∑jTjit+Zit⩽1and thus eliminate alpha subtours. Later Almada-Lobo, Klabjan, Oliveira, and Carravilla (2007) extended (26) in order to include alpha subtours. The reformulated constraints (26) present in Almada-Lobo et al. (AL1) are as follows:(27)Vjt⩾Vit+1-N·(1-Tijt)-N·Zit∀i,j≠i,t.In the same work the authors proposed an alternative (AL2) formulation using an exponential number of constraints and also proved that AL2 is stronger than AL1. Due to the assumption of at most one setup per time period for each product, the following constraints hold:(28)∑jTijt⩽1∀i,t,(29)∑jTjit⩽1∀i,t.Then constraints (27) are replaced by:(30)∑i∈S,j∉STijt+∑i∈SZi,t+1⩾∑jTjkt∀t,k∈S,S⊆N,whereNis the power set of all products. In case of a potential simple disconnected subtour S the left-hand side of constraints (30) equals 0 while the right-hand side is at least 1, thus violating the inequality. Note that as shown in the cited work these constraints are still valid for alpha subtours.Considering multiple production lots of the same product within each time period is a non-trivial extension. To start, one has to deal with integerTijtvariables, and, moreover, connected subtours are now allowed in sequences. The first formulation comes from Belvaux and Wolsey (2001) and resembles the prize collecting ATSP of Balas (1989). LetYit∈{0,…,qit}be the number of setups to product i in period t. The Belvaux and Wolsey (BW) formulation is obtained by introducing new setup balance constraints (31) and (32) which replace (21) and the disconnect subtours elimination constraints listed as:(31)Zit+∑jTjit=Yit∀i,t,(32)∑jTijt+Zi,t+1=Yit∀i,t,(33)∑i,j∈STijt⩽∑i∈SYit-1qkt·Ykt∀t,k∈S,S⊆N.Subtour elimination constraints (33) build on the idea from the Dantzig, Fulkerson and Johnson (DFJ) formulation of the ATSP. When product k from the subset selected is in the sequence, these constraints establish that the number of changeovers within the subset has to be less than the cardinality of the subset. The only exception occurs when one of the products is the first product in the sequence, in this case the number of setups within the group may equal the subset’s cardinality. The complete formulation for BW reads (16)–(20), (31), (32) and (33) and the updated variable domain.The formulation by Menezes et al. (2011) (MCAL) also has an exponential number of inequalities to eliminate disconnected subtours. Let us defineGitto be a binary variable which takes the value one if the machine is set up for product i at least once in period t. The following constraints replace (23) to correctly model the problem:(34)∑jTjit+Zit⩾Git∀i,t,(35)∑jTjit+Zit⩽qit·Git∀i,t,(36)∑i∈S,j∉STjit+∑i∈SZit⩾1-M·∑i∈S1-Git∀t,k∈S,S⊆N,S⩾2.Both (34) and (35) establish the correct relationship between the product setup state, changeovers and the initial machine configuration. In order to be active, inequalities (36) require all the products in subset S to be produced in time period t. When active, it imposes that the number of changeovers coming from products not belonging to the subset and/or the machine initial setup configuration to products within the subset has to be greater than one, thus connecting the subset. To reduce the number of inequalities required the authors also introduced a set of a priori constraints that prevent simple disconnected subtours. For that purpose let us define binary decision variableQijtwhich equals 1 if at least one changeover from product i to product j is performed in period t. The additional constraints are as follows:(37)Tijt⩾Qijt∀i,j,t,(38)Tijt⩽qjt·Qijt∀i,j,t,(39)Vjt⩾Vit+1-M·(1-Qijt)-M·∑kTkit+Zit-Qijt∀i,j≠i,t.The complete MCAL model is (16)–(22), (34)–(38) and (39) and the variable domain definition.The last PO–MP formulations can be called commodity flow formulations and are also inspired in models of the ATSP. Disconnected subtours are eliminated with additional decision variables representing commodity flows through a network where the nodes are products, arcs represent the selected setups in the current solution and the flow has to satisfy conservation constraints. We consider two different formulations: single commodity flow (SCF) and multi-commodity flow (MCF).The SCF model below is a new contribution of this work. The continuous variablesFijtrepresent the flow of the commodity from node i to node j in period t. An artificial node indexed by 0 is introduced to capture the setup carryover acting as the source of the flow. Disconnected subtours are eliminated by ensuring the connectivity of the graph induced by non-zero T’s. For this purpose, the following constraints enforce the existence of a path from the source to each product in the sequence:(40)∑jF0jt=∑jGjt∀t,(41)∑j=0NFjit=Git+∑jFijt∀i,t.(42)F0it⩽N·Zit∀i,t,(43)Fijt⩽N·Tijt∀i,j,t.Constraints (40) force the commodity flow to leave the source. The total flow amount is required to be equal to the number of products being produced in the period which is equivalent to the number of paths needed. The flow balance constraints are expressed by (41) which ensure that a unitary flow is sent to every selected node, corresponding to a path from the source to every product being produced in the time period. Both (42) and (43) impose an upper bound on the amount of flow traversing the arcs. Constraints (42) impose that the flow can only leave the source to the first product in the sequence, while (43) guarantee that the flow only traverses arcs in the current solution.The MCF model was proposed by Sarin, Sherali, and Yao (2011). The connectivity of the graph induced by the setups selected is preserved by forcing the existence of a path linking the source node to every product in the sequence only using the arcs selected. MCF uses the flow of N commodities to generate the subtour elimination constraints. Therefore, superscript k in flow variables represents the commodity being considered. These F variables are defined if arc (i,j) is used in the path from the source to product k. The set of subtour elimination constraints is given by:(44)∑jF0jtk=Gkt∀k,t,(45)∑j=0,j≠kNFjitk=∑jFijtk∀k,i≠k,t(46)∑j=0NFjktk=Gkt∀k,t(47)F0jtk⩽Zjt∀k,j,t,(48)Fijtk⩽Tijt∀k,i,j,t.Constraints (44) force the flow of commodity k to leave the source only if product k is part of the sequence. The flow conservation of commodity k is preserved by (45), while (46) force the path to end in product k. The flow can only use arcs in the current solution as imposed by (47) and (48).Contrarily to SCF in which the flow variable on arc (i,j) represents the number of paths using this arc, in MCF the flow explicitly defines whether arc (i,j) is in the path from the source to product k, thus explicitly establishing the paths used. In fact, SCF is an aggregation of MCF which results that MCF provides a tighter relaxation (Öncan, Altinel, & Laporte, 2009).A different approach to model the sequencing decisions within the CLSP is to use a collection of pre-defined sequences which establish the items to be produced and their order. Associated with a given sequence s the following parameters are defined:sc^ssetup cost incurred if sequence s is selected,st^ssetup time incurred if sequence s is selected,gis1 if product i is present in sequence s,fis1 if product i is first in sequence s,lis1 if product i is last in sequence s.As opposed to a PO technique, SO formulations do not explicitly define changeovers using decision variablesTijt, but prescribe a set of changeovers by assigning values toWswhich equals one if sequence s is selected for production or zero otherwise.Next we discuss several approaches to formulate the CLSP with sequencing decisions using a SO technique.SO-mP formulations rely on the same principle as PO formulations of dividing the time periods into smaller segments. The idea behind the model of Kang et al. (1999) is to divide every sequence into a pre-defined numberStmaxof split-sequences. LetLtbe the set of split-sequences belonging to time period t andRrbe the set of sequences s which are available to schedule production in split-sequence r. ParameterBrmaxdefines the maximum number of products in a split-sequence and it is imposed that products cannot repeat in a split-sequence. The number of lots in each sequence is limited toStmax×Brmax, which mimics the partition of time periods into micro-periods in PO-mP models. Before introducing the split-sequence model we need to redefine, in the context of this model, parametergisto equal one only in the case product i is present in sequence s in every but the last position, i.e.gis+fis⩽1for everyi,s. The following additional decision variables are also introduced:Yir1 if product i is in the sequence selected for split-sequence r,Eir1 if split-sequence r is empty and product i was the last product produced.The model of Kang et al. (1999) using split-sequences is herein referred as KMT and it reads:(49)KMTmin∑i,thit·Iit+∑ssc^s·Ws(50)s.t.Ii,t-1+Xit=dit+Iit∀i,t,(51)∑ipit·Xit+∑r∈Lt,s∈Rrst^s·Ws⩽capt∀t,(52)∑s∈R1Ws=1,(53)∑s∈Rrfis·Ws-∑s∈Rr-1lis·Ws=Ei,r-1-Eir∀i,r⩾2,(54)∑s∈Rrgis·Ws=Yir∀i,r,(55)Xit⩽bit·∑r∈LtYir∀i,t,(56)Xit⩾mi·∑r∈LtYir∀i,t,(57)X,I,W,E⩾0,Y∈{0,1}.Objective function (49) minimizes the total expenditure in holding costs and setup costs incurred from sequence selection. Constraints (50) represent the classical inventory balance constraints. Note that production is not divided among the different split-sequences as one may expect in mP models. Capacity constraints are expressed by (51) in which the total setup time within the period is obtained by summing the setup times incurred in each split-sequence. Sequence selection in split-sequences is ruled by (52) and (53). The first constraint imposes that a sequence must be chosen for the first split-sequence. Constraints (53) link sequence selection among adjacent split-sequences, moreover, they also preserve setup state when empty split-sequences occur. The relationship between product setup state in each split-sequence and sequence selection is guaranteed by (54). Finally, (55) and (56) define the bounds on production in each period according to the product setup state in the corresponding split-sequences.SO–MP formulations use sequences to determine sequencing decisions. LetStbe the set of available sequences to schedule products on the machine in period t. We also group these formulations by the number of production lots allowed for each product within a single time period.The model proposed in Haase and Kimms (2000) (HK) is obtained by adding to the constraints below the requirements (49) and (50).(58)∑ipit·Xit+∑s∈Stst^s·Ws⩽capt∀t,(59)∑s∈StWs=1∀t,(60)∑s∈Stfis·Ws=∑s∈St-1lis·Ws∀i,t,(61)Xit⩽bit·∑s∈Stgis·Ws∀i,t,(62)X,I⩾0,W∈{0,1}.The new capacity constraints are expressed in (58). The use of a single sequence in each period is ensured by (59), while (60) guarantee setup carry-over by linking the first and last products of consecutive time periods. The last set of constraints (61) only allows production for products in the sequence selected. Similarly to the original paper, the model HK is consider a single lot model. Nevertheless, it is important to note that by changing the definition ofgisto the number of times product i appears in sequence s, the model tackles multiple lots of the same product.The model GKAL proposed in Guimarães, Klabjan, and Almada-Lobo (2013) determines a sequence selection by choosing among the several setup states of each product in each period. For this purpose two additional parameters are required:eis1 if the machine is ever set up for product i in sequence s,aisthe number of setups performed to product i in sequence s.We also need to introduce binary decision variablesUitto capture if at least one setup is performed to product i in period t. The overall GKAL models contains (49), (50) and (58) together with:(63)∑s∈Stfis·Ws=Zit∀i,t,(64)∑s∈Stlis·Ws=Zi,t+1∀i,t,(65)∑iZit=1∀t,(66)∑s∈Steis·Ws=Uit∀i,t,(67)∑s∈Stais·Ws=Yit∀i,t,(68)Xit⩽bit·Uit+Zit∀i,t,(69)X,I,W⩾0,Z,U∈{0,1},Yit∈{0,…,qit}.The first two sets of constraints (63) and (64) link the machine’s initial configuration in each period with the first and last product in the selected sequence, and also establish the setup carry-over. Constraints (65) state that the machine is set up for exactly one product at the beginning of each time period. Product setup decisions are linked with sequence selection through constraints (66) and (67). Requirements (68) ensure for each period that a product is only produced in the case the machine is properly set-up. Such a configuration might have been carried over from the previous period or resulted from a setup in that period.In this section we present the results of our computational study to assess the performance of the reviewed formulations. We support our comparison by measuring both the quality of the upper bounds and running times obtained on an extensive set of instances. This instance set captures different characteristics of real world problems, such as the existence or not of non-triangular setups. The problem sets allow to test the performance of models under a variety of conditions, e.g. testing single lot formulations of non-triangular instances, or testing multiple lot formulations on triangular instances, contributing to the evaluation of the models’ flexibility.Most of the formulations are straightforward implementations when using an optimization software package, however, this excludes the models having an exponential number of constraints or variables. Explicitly implementing these formulations would lead to intractable models, therefore constraints and variables are dynamically generated and added to the models as needed.We apply a row generation algorithm to manage the number of subtour elimination constraints in formulations AL2, BW and MCAL. First we solve a partial model formulation without any of the subtour elimination constraints. Feasibility of the optimal solution is checked by searching for potential disconnected subtours. If no such a tour is identified the solution is feasible and also optimal, otherwise the corresponding violated subtour elimination constraints are generated and added to the model. We repeat the process of solving the model and generating additional constraints until no subtours appear in the optimal solution of the incumbent model.To deal with the large number of variables (sequences) present in models KMT, HK and GKAL we have followed a column generation approach. The aim of the column generation algorithm is to identify a set of sequences to use in each time period. At each iteration the algorithm solves the model’s linear relaxation (LP) restricted to a limited set of sequences and tries to price out new sequences to be included. The subproblems arising during the column generation process are defined in Appendix B. An important issue is the basis initialization, as the initial set of sequences provided to the model may not include a feasible solution. Hence, we apply a two-phase approach in which the first phase aims to find a feasible LP solution to the problem, while the second phase seeks to find an optimal LP solution. Consider the additional artificial variablesIi0defining the initial stock on hand. During phase I of our column generation algorithm the model’s objective function is changed to∑i,jIi0which is a measure of the infeasibility of the current solution. As soon as the sum of the artificial initial stock is zero a feasible LP has been found and the algorithm advances to phase II recovering the original objective function. When the column generation algorithm stops, the integrality constraints are restored and the model is solved as a MIP over the sequences encountered during column generation to find a feasible solution to the original problem.Contrarily to the use of a commercial solver to solve polynomial sized formulations or the use of our row generation approach to treat exponential number of constraints, the technique used to solve models with an exponential number of variables does not guarantee optimality. However, since we are limiting the running time to one hour in all experiments it is also not guaranteed that the other methods can prove the solution optimality or even find a feasible solution.Two versions of the models are tested, the original formulation presented in the body of the paper and the facility location reformulation (FL), originally proposed by Krarup and Bilde (1977) for the single-item problem. The reformulation redefines production variables asXitlthat determines the quantity of product i produced in period t (or micro-period s) to satisfy demand in period l, simultaneously capturing the production and stock held at each period. The objective is to test, under the different model types, the effects both on the solution quality and efficiency of a formulation which is known to give tight lower bounds. We omit the complete formulations here since each one of them is a straightforward extension of the original formulation.In the following subsections results are divided according to the time structure of the models. In the first benchmark we explore the effect of the different formulations in mP models. We do not compare micro and macro-period models since their comparison from previous studies (Menezes et al., 2011) has already been established and it can also be drawn from the results of the following subsection that mP models struggle even when the instances are of medium size. The second benchmark is fully dedicated to MP models. We start by assessing the models on a set of instances obeying the triangle inequality and later the formulations are tested on a non-triangular instance set obtained by modifying these instances and adding minimum lot size requirements.All computations were performed on Intel @ 2.40gigahertz processing units with 4gigabyte of random access memory using the Linux operating system. All formulations and algorithms were implemented in C++ using the ILOG Concert Technology and compiled with a gcc compiler. To solve mixed integer and linear programming models we used IBM ILOG CPLEX 12.4 with all runs having a limit of one hour or running out of memory. Furthermore, when solving the MIP problems we always tested all the possible MIP solution emphasis strategies available in CPLEX, namely: default (balance of feasibility and optimality), feasibility, optimality, best bound and hidden feasibility. In each benchmark the results of each model correspond to the best search strategy for that model considering all benchmark’s instances.To compare the efficiency of the reviewed mP formulations we rely on the well known TV instances of Fleischmann (1994). The instances are relatively small sized with eight products and eight periods. Problems only differ in terms of the machine capacity and setup matrix. We present the results for instances with a capacity utilization (measured as∑idit/capt) of 97%, 76% and 64%, problems TV11, TV13 and TV14 and setup matrices S1, S2, S3 and S4. Setup costs of both S1 and S3 are uniformly distributed in the interval of0,600and0,300, respectively. Matrix S2 is obtained by randomly selecting values from the set {0,100,200,…,600}. Finally, entries of S4 mimic a situation that often occurs in pratice when setups can be grouped into major setups, changeovers between products of diferent families (scij=500), and minor setups, changeovers among products of the same family (scij=100). Note that only S4 obeys the triangle inequality and no setup times and miminum lot sizes are considered. A total of 12 different problems were solved by combining the capacity utilization with setup matrices.The number of micro-periods in the original and reformulated versions of GLSP, GLSPNFand CC was set toN+2which corresponds to the maximum number ofN+2setups per time period. To conduct a fair comparison, the two KMT models useStmax=2andBrmax=5, defining the same number of maximum setups per period.The comparison of the several mP models is shown in Fig. 5. On the horizontal axis we have the mean running time in seconds and on the vertical axis the mean deviation from the best known solution, which are actual optimal values available from Menezes et al. (2011). Hence, the closer from the bottom left corner of the chart the more effective/efficient the model is. The original formulations are depicted as squares and the FL reformulations as circles.Let us first discuss the results obtained by GLSP. Both the original and reformulated versions often exceed the available memory during the tree search performed by CPLEX, which is reflected in the low running times. The memory limit is exceeded in 3 (out of 12) instances by the original version and in 10 instances by the reformulation. In line with this fact, the GLSP has the worst performance among the mP models in terms of final solution quality as the tree search is often prematurely stopped. Considering PO-mP original formulations, the CC model has the best performance and the network reformulation of the GLSP clearly improves its solution quality, besides improving memory consumption. Note that the original versions of GLSPNFand CC consume all the available running time in the tree search, thus not being able to prove optimality in any of the instances. In terms of original formulations, the SO model KMT has the best performance among all delivering superior results in terms of solution quality and running times.Reformulating the models using FL yields an improvement in the solution quality of most formulations. There is a clear negative influence in the tractability of the GLSP formulation, which more often (and sooner) reaches the maximum memory allowed for the run with impact in the quality of the solution obtained. Results of CC gain a boost, which comes from the fact that this model can now prove solution optimality in 3 problems. The gains from the GLSPNFare less significant. Finally, in spite of an improvement in the solution quality, the FL reformulation of KMT requires longer running times. Overall, the FL reformulation of CC presents the overall best results in terms of mP models. We also highlight the fact that less than %0.1 of KMT running time is spent in identifying the sequences (the actual column generation algorithm) to use in the MIP, which in turn often consumes the remainder of the available running time. A detailed view of all the results is presented in Table C.2 in Appendix C.The MP models are first tested on a problem set obeying the triangle inequality and available from James and Almada-Lobo (2011) which adapts the approach of Almada-Lobo et al. (2007) to consider different values for capacity utilization over the planning horizon. All data parameters are generated from a uniform distribution. Product demand ranges between 40 and 59 units per period, holding costs between 2 and 9 cost units per period and setup times vary between 5 and 10 time units. Setup costs are made proportional to setup times by using a cost factorθ. The processing time is equal for all products and set to one time unit. To define machine capacity two parameters Cut and CutVar are used. Cut establishes the target machine utilization over the entire planning horizon and CutVar controls the maximum deviation from the target capacity utilization in each period. Moreover, it is ensured that the cumulative capacity utilization in any period does not exceed Cut in order to ensure problem feasibility.Instances are classified into problem types according to the five-tuple (N,T,Cut,CutVar,θ). We use a total of 160 instances, 10 different instances for each one of the 16 problem types created by combining the following values for the parameters:N∈{15,25},T∈{10,15},Cut∈{0.6,0.8},CutVar=0.5andθ∈{50,100}. For further details on the instance generator the reader is referred to the cited works.Fig. 6presents the comparison of several MP models on the triangular instance set separated into the original formulation and the reformulation. The size of each circle accounts for the number of instances in which the model is able to provide at least one feasible solution. Hence, the larger the circle the more problems are solved. The horizontal and vertical axis measure the mean running time in seconds and the mean deviation from the best known solution, respectively. The mean deviation only takes into consideration deviations in problems with feasible solutions. The best known solution is the best objective function among the solutions of all the models, including the reformulated versions, and is often the provably optimal solution to the problem (81 out of 160 instances).Concerning the original formulations, it is clear that PO–MP–SL models have a poor performance in terms of the running time. We highlight three results: (1) SDR, H and AL1 exceed the memory limit in 39, 32 and 28 instances, respectively, explaining the mean running time below one hour, since they rarely prove optimality (3, 4 and 8 instances, respectively); (2) the extra flexibility of allowing alpha subtours introduced by model AL1 causes the model to have a higher mean deviation and longer running time, in comparison to SDR and H, but also allows the model to provide a feasible solution to nearly all the problem instances; and (3) model AL2 has a very poor performance in the number of problems solved, only 28 out of the 160 instances, and with similar running times.PO–MP–ML models with an exponential number of constraints perform better than single lot models both in terms of average deviation and running time, especially BW which proves solution optimality in 67 cases with an average running time of 628 s for these ”optimal“ instances. However, they are not as competitive as PO–MP–SL in providing a feasible solution to the problems.Commodity flow based models present distinct behaviors; MCF performance is close to the single lot models, while SCF exhibits an excellent trade-off between the solution quality and efficiency, while providing a feasible solution to every instance in the set. The major difference between these two formulations relies on the size of the models created, especially as the number of products and periods increases, e.g. for a 25 product 15 time period instance the MCF model has a total of 255,401 variables and 256,906 constraints while the SCF model has a total of 21,401 variables and 13,546 constraints. As a result, CPLEX spends the total running time trying to solve the root node LP relaxation of MCF in 73 out of the 80 instances having 25 products. On the other hand, SCF requires much lower computational time and the LP bound is only slightly worse when compared to MCF. The remaining time is used for branching to prove solution optimality or to find a very good integer feasible solution.In relation to SO based formulations, HK and GKAL, both present a good performance with respect to the number of problems with feasible solutions found and average running times, but fail in terms of the mean deviation. As expected, the sequences found during the solution of the root node LP relaxation of these models are not enough to achieve superior quality integer solutions and further branching would be required to improve the solution quality. However, tests show that there is still computational time available to carry on with the solution improvement if compared to SCF which also provides feasible solutions to a large number of problems. It is also important to note that HK performs better than GKAL. The reason behind this difference has to do with an easier MIP model resulting from a more restricted set of sequences in the model (no sequences with alpha subtours are allowed in HK).Similarly to the results for the mP models, the FL reformulation improves the mean deviation to the best known solution in every model. In the single lot models it also helps to reduce running times and increase the number of problems in which these models provide a feasible solution. This effect is particularly evident in model AL2. In multiple lot models the effect is less pronounced, nevertheless mean running times of BW and MCF decrease, with the latter able to identify a feasible solution in a larger number of problems. Furthermore, CPLEX is able to solve the root node LP relaxation of the MCF reformulation on an higher number of instances, only 21 remain unsolved. Regarding SCF the reformulation appears to have practically no impact, as results are almost equal to the original version. Both column generation based models exhibit the same behavior when solved with the reformulation, an increase in the number of problems with a feasible solution (both provide a feasible solution to every problem) and in the mean running times, while the deviation is greatly reduced. The increase in the running times is explained by the larger model which has to be solved at each iteration of the column generation algorithm and also by the fact that the better LP bound forces a larger number of iterations. The time spent in solving the root note LP relaxation increases from 160 and 185seconds in the original models to 915 and 520seconds in the reformulation for HK and GKAL, respectively. This in turn allows the identification of better sequences to construct integer feasible solutions and thus reduces the mean deviation from the best known solution.Overall, both versions of SCF exhibit the overall best trade-off providing superior quality feasible solutions to all the problems in reasonable running times. Moreover, for the two versions of SCF the final MIP gap is on average less than 0.1% emphasizing the quality of the solutions provided. We also draw attention to BW which finds the largest number of optimal solutions, a total of 80 in less than 520seconds with the FL reformulation. The full results on this instance set is shown in Table C.3 in Appendix C.To test the MP models on large instances disobeying the triangle inequality, we use the problem set designed by Guimarães et al. (2013) that is based on the set of triangular instances described in the previous section. To induce non-triangular setup matrices in the original problem set, the authors modify setup times of a subset of products called hereafter shortcut products. For each one of the k shortcut products new setup timesstikandstkiwere randomly generated from a uniform distribution between 2 and 4, while setup costs remain proportional to setup times using the cost factorθ. A total of 2 and 3 shortcut products are introduced in instances with 15 and 25 products, respectively. The problem set is composed by the same 160 problems grouped in 16 problem types, but with the setup matrices modified. A minimum lot size of 25 units was also introduced to avoid having fictitious setups at optimal solutions.Fig. 7shows the comparison of several MP models for the non-triangular instance set in the same format as the comparison made for the triangular set. In this set a total of 98 solutions were proved to be optimal.Models SDR and H and their respective reformulations fail to identify a feasible solution in more than 90% of the problems, and the tractability of the reformulated models is an important issue since the memory limit is reached in 79 cases for the SDR and 72 for the H model. In this problem set extra flexibility of AL1 and AL2 pays off and the models are able to provide feasible solutions to a larger number of instances when compared to the other PO–MP–SL formulations. In particular AL1 finds at least a feasible solution to practically all the problems, although the solution quality deteriorates quickly with the increase of the problem size. Note that the solutions found by AL2 are optimal if we consider a maximum of one production lot for each product per time period, however these solutions are on average 1.8% off from the best known solution when considering the possibility of several production lots.Both multiple lot models with an exponential number of constraints reveal a similar performance as for triangular problems. Nonetheless, BW and MCAL find provably optimal solutions in higher mean running times, and BW still performs better than MCAL. The two commodity flow models have a high performance regarding the generation of feasible solutions to the problems. MCF performs much better on this set of instances with respect to the number of problems with a feasible solution and mean running time. Even so, it is important to add that the size of MCF models is still an issue as for 21 instances (hard instances with 25 products andθ=100) CPLEX is unable to solve the root node LP relaxation in less than one hour. Luckily, after solving the root node LP relaxation MCF is often able to provide a feasible solution in less than 5 nodes. Consistent with the results for the triangular set, SCF presents the best trade-off between mean deviation, mean running time and number of problems with a feasible solution. Moreover, its difference to BW in terms of running times decreases in this set when considering the reformulated version, as for the original it is clearly better.Mean deviation from the best known solution of SO–MP models considerably worsens, especially in the original formulation suggesting a lower quality of the relaxation in the presence of non-triangular setups and minimum lotsizes. Applying the FL reformulation to these models results in the same performance change as in the triangular set, increasing the running times and feasible solutions and decreasing the mean deviation. Again, GKAL shows a bigger improvement, but is still not enough to match HK’s performance. Table C.4 in Appendix C details these results.

@&#CONCLUSIONS@&#
In this paper a two-dimensional framework is proposed to review and classify the different modeling approaches to incorporate sequencing decision in lotsizing and scheduling models. The framework uses the sequencing technique and time structure dimensions to divide the approaches into classes. The most relevant models in each class are reviewed to present their main features and differences, especially in the underlying assumptions. From this study emerged an important contribution which is a new polynomially sized formulation to the problem using commodity flow based subtour elimination constraints.We perform extensive computational experiments to compare the performance of the different formulations with respect to the ability of providing quality solutions in limited running time, under different features of the problem. The benchmark sets solved present instances with the case of triangular setups and non-triangular setups. The results pointed the potential best formulation to use under each scenario. Our findings indicate that sequence oriented models, i.e. models having the sequences defined explicitly, appear an interesting tool for micro-period models. For macro-period models the new formulation proposed yields the best trade-off between solution efficiency, efficacy and feasibility in all problem settings. We also show that tightening the formulation using a reformulation of the production variables results in the improvement of the solution quality and in an increase in the number of problems for which models can find at least one feasible solution. Nevertheless, this effect is more evident in models with weaker original formulations. The study also suggested that models requiring a cutting plane generation algorithm can be an interesting solution to the problem if combined with an approach to generate valid integer feasible solutions during their search. Moreover, models explicitly defining the sequences have to be properly integrated with sophisticated column generation algorithms to be able to take advantage of their natural ability of providing feasible integer solutions.Our insights also point out that the literature related to the Asymmetric Traveling Salesman Problem can be an important source of ideas to develop more efficient models and methods to this problem. Ongoing research has already used this relationship which originated some of the most relevant models in lotsizing and scheduling with sequencing decisions, however there is still a vast opportunity. Quite important is also the extension of these models to different real-world aspects as the use of parallel machines and the presence of multi-level production environments since the increase in the model size may have an important effect on the models’ performance. Finally, taking into account that production planning is often performed in practice on a rolling horizon basis, it is worthwhile investigating how to adapt these models to fit this reality.