@&#MAIN-TITLE@&#
A novel approach to optimize workflow in grid-based teleradiology applications

@&#HIGHLIGHTS@&#
We propose a workflow centric network architecture for teleradiology applications.We optimize inspection assignments to radiologists for medical reporting process.Subspecialty, response time and workload parameters are improved for assignments.Solution gives better results for workflow efficiency compared to manual assignment.Architecture was tested in 52 sites and 3.35 million inspections were processed.

@&#KEYPHRASES@&#
Teleradiology framework,Grid Agent,Grid Manager,Medical reporting workflow optimization algorithm,Relation based semantic matching algorithm,

@&#ABSTRACT@&#
Background and objectiveThis study proposes an infrastructure with a reporting workflow optimization algorithm (RWOA) in order to interconnect facilities, reporting units and radiologists on a single access interface, to increase the efficiency of the reporting process by decreasing the medical report turnaround time and to increase the quality of medical reports by determining the optimum match between the inspection and radiologist in terms of subspecialty, workload and response time.MethodsWorkflow centric network architecture with an enhanced caching, querying and retrieving mechanism is implemented by seamlessly integrating Grid Agent and Grid Manager to conventional digital radiology systems. The inspection and radiologist attributes are modelled using a hierarchical ontology structure. Attribute preferences rated by radiologists and technical experts are formed into reciprocal matrixes and weights for entities are calculated utilizing Analytic Hierarchy Process (AHP). The assignment alternatives are processed by relation-based semantic matching (RBSM) and Integer Linear Programming (ILP).ResultsThe results are evaluated based on both real case applications and simulated process data in terms of subspecialty, response time and workload success rates. Results obtained using simulated data are compared with the outcomes obtained by applying Round Robin, Shortest Queue and Random distribution policies. The proposed algorithm is also applied to a real case teleradiology application process data where medical reporting workflow was performed based on manual assignments by the chief radiologist for 6225 inspections.ConclusionsRBSM gives the highest subspecialty success rate and integrating ILP with RBSM ratings as RWOA provides a better response time and workload distribution success rate. RWOA based image delivery also prevents bandwidth, storage or hardware related stuck and latencies. When compared with a real case teleradiology application where inspection assignments were performed manually, the proposed solution was found to increase the experience success rate by 13.25%, workload success rate by 63.76% and response time success rate by 120%. The total response time in the real case application data was improved by 22.39%.

@&#INTRODUCTION@&#
The evolution of Picture Archiving and Communication System (PACS) and teleradiology starts with a simple PACS application where a single client can access the medical images, towards Enterprise PACS with several clients querying and retrieving inspections, to Web-Based [1–4] and Regional PACS [5–9] solutions. However, it can be concluded that Regional PACS solutions, which are usually utilized in nation-wide studies produce vendor dependent infrastructures [5]. Therefore, the recent trends in teleradiology has been towards Virtual PACS solutions interconnecting several vendors and facilities on a cloud platform [10] and towards quest for standards [11–13] in order to integrate patient data into a complete electronic health record utilizing Digital Imaging and Communications in Medicine (DICOM) and Health Level Seven (HL7) standards defined in Integrating the Healthcare Enterprise (IHE) profiles or non-standard formats such as Resource Description Framework (RDF), Extensible Markup Language (XML) or Portable Document Format (PDF). The requirements have also evolved from accessibility to interoperability, compatibility [14] and workflow in the overall process [15]. In order to fulfill this requirement, technical solutions have evolved from regional VPN-based solutions to Grid-Based solutions [10]. These solutions which are also supported in parallel by the improvements in the content and information centric network solutions [16,17] propose the employment of a broker [18–20] or agent [21,22]. Accessibility solutions have been proposed by implementing PACS based on data grids [21,23,24] or web-based systems with faster image retrieval and processing capabilities [25]. RESTful interface solutions [19], JPEG2000 streaming architectures [26] have been proposed for image repositories to resolve compatibility issues as conventional DICOM viewer solutions are operating system dependent and often do not support mobile application usage.Among the studies on teleradiology architectures or workflow optimization, only a few have implementations related to radiology reporting process. Benjamin et al. [27], proposed a teleradiology architecture in order to increase the efficiency of the teleradiology service. The system allows a radiology group serving multiple sites to access medical images on a global worklist. However, the implementation does not include a workflow optimization or contextual consideration. Huang et al. have implemented several studies on work distribution [28] and business process management [29,30]. These studies include mining the task distribution rules in the event log of CT-scan examination process. As a common approach, the rules are learned from the event log regardless of whether they are successful or not [30]. Reinforcement learning [29] and adaptive association [28] algorithms are applied and the results are compared based on response time and resource allocation efficiency. Expertise, subspecialty and quality of report are also critical parameters for teleradiology service delivery workflow. An inspection requiring subspecialty should be assigned to a radiologist with corresponding experience and high quality reports should be promoted in assignment process. In the proposed algorithm, subspecialties of radiologists are evaluated based on modality, anatomy, disease and body parts. Radiologist characteristics [31,32] and expert ratings are used as initial indicators and report quality feedback [33] is utilized to recalculate the corresponding ratings.In previous research studies, multiple types of workflow optimization and semantic matching strategies are evaluated such as reinforcement learning [29,28], machine learning (SVM, Bayes) [34] and relation based negotiation [35]. In this study, a RBSM algorithm enhanced by ILP is utilized as RWOA to design medical image distribution strategy based on reporting workflow optimization.The objective of this study is to design and implement a framework where multiple medical sites can outsource teleradiology services to multiple radiology groups and where radiology groups can access and report the assigned inspections from multiple sites on a single interface. In order to automize and optimize this mechanism, a reasoning component is implemented to direct the inspection to the optimum radiologist so that the inspection is reported in a short time, with high quality output and with optimum resource allocation.Radiology inspections are generated by the imaging modalities in the form of DICOM files. Modality, body part and anatomy examined, protocol requested, file size, resolution, series and slice numbers data can be extracted rendering the inspection files. These attributes are indicators for the radiologist demand criterias. Pre-diagnosis which is a manually determined inspection parameter, has a 10th revision of International Classification of Diseases (ICD-10) code and is used to determine subspecialty requirements together with modality, body part and anatomy attributes. Requested protocol id is used to determine the required effort and time for the reporting process using “Performance Point Documentation” (SUT) standard as a reference. SUT is a standardization for evaluation of medical processes published by Turkish Ministry of Health for performance assessment and payment measurements. Each process mapped to requested protocol id has a unique code and process indicators determined by Ministry of Health experts. “Point” is an indicator for resource and effort usage and used to estimate the payment for the corresponding operations as a function of “Risk”, “Technical Requirement”, “Work Required”, “Urgency”, “Presence of Alternative” and “Required Time”. RWOA utilizes normalized values of “Point” and “Required Time” in SUT standardization for Radiology. File size and resolution attributes are used to determine technical requirements such as bandwidth and resolution of medical monitors, respectively.In a context where multiple medical sites transfer inspections to multiple reporting units to receive radiology reporting service, each reporting unit is a supplier that present medical and technical capabilities in order to get the service order. Each inspection generated by each medical site is a demand for service where an optimum assignment decision has to be made, i.e. a radiologist has to be chosen for high quality and fast outcomes based on the medical and technical attributes of reporting units and residing radiologists.Subspecialty of the radiologist. Based on the subspecialty of radiologists or experiences on practice, radiologists may be better equipped in certain modalities, diseases or biosystems.Response time. The factors effecting the response time are inspection file delivery time depending on the inspection file size and reporting unit bandwidth, availability time of radiologist based on the schedule and reporting time of radiologist associated with inspection modality, disease, body part and anatomy.Workload of the radiologist. In order to achieve an efficient reporting process and to balance incomes, each radiologist should be assigned with workload within certain limits. Reporting process for each inspection is not equal in effort. The workload of reporting processes are determined based on requested inspection protocol id according to the SUT standardization. “Performance Point Extension Proposal” proposed by the Turkish Society of Radiology is also used to strengthen the estimations on the average reporting time.Technical capability of the reporting sites. The technical capability of the reporting unit effects the response time and the reporting service capacity. Bandwidth of the site affects the response time, while storage capacity and number of the workstations determine the technical adequacy of the reporting unit. Monitor resolution is also taken as a requirement parameter based on inspection resolution. For example, a CT scan image that is composed of 512×512 pixels has a total of 262,144 pixels (0.25 megapixels), while a CR image is composed of 2048×2048 pixels (4 megapixels). Therefore, optimal monitor resolution should be chosen equal to or higher than the image resolution for original size and wholesome interpretation.The architecture is designed to fulfill the requirements of Interoperability, Scalability, Compatibility, Accessibility and Workflow Optimization with four main components: Grid Agent, Grid Manager, Data Management Platform and Front-End (Fig. 1). Functional libraries, application server and database software is chosen to be open source and written in Java for customizability and adaptability.Grid Agent software is developed to run on open source Red5 media server as it supports shared object communication over Real Time Messaging Protocol (RTMP) in order to push Grid Index updates to sites in real time. DICOM and HL7 messages are handled by asynchronous Java threads using dcm4che and HAPI Java libraries. Grid Agent is composed of two main components.Interface Layer. DICOM, HL7 and Grid Manager interfaces are implemented in order to interconnect Grid Manager with local PACS, RIS, Hospital Information System (HIS) and imaging facilities. Application Programming Interface (API) modules handle the interconnection functionality. dicomAPI handles DICOM transfers from modalities to Grid Manager API and from Grid Manager API to local PACS. hl7API is implemented to handle HL7 message communication with RIS and HIS. Grid Manager API is responsible for delivering workflow management requests between local site and Grid Manager with encrypted XML messages using Hyper-Text Transfer Protocol (HTTP) and RTMP. It also synchronizes medical image and report data between local site and Grid Manager using HTTP Post or DICOM requests.Task Manager. Worker threads are implemented using open source Gearman java library in order to manage parallel transfer, import and deletion tasks in a thread safe infrastructure. Gearman workers utilize Interface Layer functions in order to fulfill tasks registered by Gearman clients. Gearman client requests are generated by Task Manager Service which listens to state changes in the local archive and Grid Manager. Transfer workers, synchronize the archived DICOM studies or medical reports to the Grid Manager using Grid Manager API. Import workers are responsible for synchronizing DICOM studies of a patient's previous studies that are archived by different image acquisition sites to local PACS. Import workers can also synchronize imaging worklist requests or medical report updates to local RIS or HIS. Delete workers are responsible for deleting the archived studies on the temporary storage based on the permission by the Grid Manager. Grid Manager can decide to delete the study considering the storage capacity of site and the redundancy of the study in other sites.Grid Manager is developed to run on Red5 and is specialized to send and receive encrypted XML and Simple Object Access Protocol (SOAP) messages or DICOM files utilizing DICOM, HTTP or RTMP protocols. It communicates with Grid Agents and performs database, indexing and file operations at the center.Grid Index. Grid Manager has the Grid Index which includes the patient examination map archived by Grid Agents. The index is in shared object form so that a change in the index is pushed to all agents with the help of RTMP protocol.Image Delivery Service. DICOM images received by the Grid Manager are rendered into semantic data objects and semantic attributes involving modality, body part, anatomy, reporting effort estimate, prediagnosis values are extracted utilizing SUT and ICD-10 lookup tables. Grid Index is updated and DICOM objects linked with semantic data objects are forwarded to Data Management Platform. Image Delivery Service delivers inspection assignments decisions by Reporting Workflow Optimization Service to corresponding Grid Agents with the help of Task Manager Service at sites.Reporting Workflow Optimization Service. Based on the reporting requests from imaging sites, RWOA implemented with Java are applied to semantic data objects of inspections and registered reporting units or radiologists. Open source OptimJ library lpsolve solver is utilized for the ILP process. Based on the assignment results, the inspections are synchronized to corresponding Grid Agents via Image Delivery Service.Monitoring Service. Task Manager Service of the Grid Agents periodically posts worker thread activities and recent storage capacity and bandwidth values to the Grid Manager using Grid Manager API at each site. Statistics about transfer, import, deletion processes and storage and bandwidth capacities are archived with reference to time and are utilized for RWOA for technical capability requirement parameters.Redundancy Service. The temporary storage mechanism at the agents provides the redundancy of the medical data so that the data achieve is distributed and cached. Based on the Grid Index and Monitoring Service storage capacity or transfer activity statistics, Grid Manager can decide to delete or move medical image data to different Grid Agents with the help of Task Manager Service at sites.File Operation Layer. File Operation Layer is implemented with Tomcat Servlet Container. DICOM images rendered by Grid Manager are indexed using Lucene Indexing to improve image query response time for web access. Lucene Indexing is chosen as it has high performance for text search operations. File Operation Layer involves a Global File System (GFS) cluster where medical image files are archived in a hierarchical structure (year/month/day/patientId/studyId/seriesId/instanceId). DICOM objects are directed to the Federation Manager with the url reference for database operations.Database Layer. Database Layer is implemented with PostgreSQL as it is one of the most advanced open source database software. The database instances are implemented in 1 master and 16 slave shards to deliver large scale loads. The master instance store the patient, inspection and report related information while shard instances store the study, series and instance information for patient inspections. Federation Manager performs a mapping between the 32-hexadecimal-digit unique identifier (UID) formed patientId and corresponding shard; therefore, a patient's image data is stored on a single shard and the overall data is distributed among 16 shards.Application Layer. Application Layer is implemented with Red5 media server. A RESTful interface is provided for web access using HTTP or web service SOAP requests. Web service interface is considered for external system integrations. XML is utilized for client-server communication and open source memcached software is used as Server-Side Caching mechanism in order to cache recently accessed inspection objects or frequent query results. JPEG Streaming mechanism is implemented using open source dcm4che-toolkit library in order to process DICOM files with window level, window width or preset parameters and stream JPEG files as an output for mobile access.Front-End application is developed using Adobe Air ActionScript technology, which can be exported as Web, Android and iOS applications. For web clients, Java based open source DICOM viewer software, ImageJ is embedded in the application as an Applet. ImageJ is customized to pre-fetch 3-neighbour slices in study series image instances and to cache the stack of downloaded slices so that the client can view images before all image instances are downloaded and investigate slices faster. For mobile clients JPEG Streaming implemented on the server Application Layer is utilized and annotations can be saved on the image instances.

@&#CONCLUSIONS@&#
The proposed architecture increases the efficiency of reporting process for teleradiology applications and provides a process centric implementation. It provides integration of several standard compliant medical systems regardless of the developer or manufacturer vendor, decreases storage costs with medical data redundancy at nodes, decreases reporting costs and turnaround times and increases report quality and effectiveness of resultant treatments.This study integrates an architecture implementation with a workflow optimization algorithm for teleradiology service delivery. The integrated workflow management gives better results compared to the manual assignment process by the chief radiologist who has the knowledge about the reporting characteristics of the radiologists. The results are predicted to be better and more helpful when large-scale applications where there is a pool of radiologists and inspections are considered. Also when technical and schedule constraints are introduced, improvement ratios are also predicted to increase.We hereby disclose any financial and personal relationships with other people or organizations that could inappropriately influence(bias) this work.